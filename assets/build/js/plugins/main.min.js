/*!
FullCalendar v5.5.1
Docs & License: https://fullcalendar.io/
(c) 2020 Adam Shaw
*/
var FullCalendar=function(exports){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};function __extends(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}var n,u,i,t,o,r,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(n,l){for(var u in l)n[u]=l[u];return n}function a(n){var l=n.parentNode;l&&l.removeChild(n)}function v(n,l,u){var i,t,o,r=arguments,f={};for(o in l)"key"==o?i=l[o]:"ref"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);if(null!=u&&(f.children=u),"function"==typeof n&&null!=n.defaultProps)for(o in n.defaultProps)void 0===f[o]&&(f[o]=n.defaultProps[o]);return h(n,f,i,t,null)}function h(l,u,i,t,o){var r={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++n.__v:o};return null!=n.vnode&&n.vnode(r),r}function y(){return{current:null}}function p(n){return n.children}function d(n,l){this.props=n,this.context=l}function _(n,l){if(null==l)return n.__?_(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return"function"==typeof n.type?_(n):null}function w(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return w(n)}}function k(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!g.__r++||t!==n.debounceRendering)&&((t=n.debounceRendering)||i)(g)}function g(){for(var n;g.__r=u.length;)n=u.sort((function(n,l){return n.__v.__b-l.__v.__b})),u=[],n.some((function(n){var l,u,i,t,o,r,f;n.__d&&(r=(o=(l=n).__v).__e,(f=l.__P)&&(u=[],(i=s({},o)).__v=o.__v+1,t=$(f,o,i,l.__n,void 0!==f.ownerSVGElement,null!=o.__h?[r]:null,u,null==r?_(o):r,o.__h),j(u,o),t!=r&&w(o)))}))}function m(n,l,u,i,t,o,r,c,s,v){var y,d,w,k,g,m,b,A=i&&i.__k||e,P=A.length;for(s==f&&(s=null!=r?r[0]:P?_(i,0):null),u.__k=[],y=0;y<l.length;y++)if(null!=(k=u.__k[y]=null==(k=l[y])||"boolean"==typeof k?null:"string"==typeof k||"number"==typeof k?h(null,k,null,null,k):Array.isArray(k)?h(p,{children:k},null,null,null):null!=k.__e||null!=k.__c?h(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(w=A[y])||w&&k.key==w.key&&k.type===w.type)A[y]=void 0;else for(d=0;d<P;d++){if((w=A[d])&&k.key==w.key&&k.type===w.type){A[d]=void 0;break}w=null}g=$(n,k,w=w||f,t,o,r,c,s,v),(d=k.ref)&&w.ref!=d&&(b||(b=[]),w.ref&&b.push(w.ref,null,k),b.push(d,k.__c||g,k)),null!=g?(null==m&&(m=g),s=x(n,k,w,A,r,g,s),v||"option"!=u.type?"function"==typeof u.type&&(u.__d=s):n.value=""):s&&w.__e==s&&s.parentNode!=n&&(s=_(w))}if(u.__e=m,null!=r&&"function"!=typeof u.type)for(y=r.length;y--;)null!=r[y]&&a(r[y]);for(y=P;y--;)null!=A[y]&&L(A[y],A[y]);if(b)for(y=0;y<b.length;y++)I(b[y],b[++y],b[++y])}function x(n,l,u,i,t,o,r){var f,e,c;if(void 0!==l.__d)f=l.__d,l.__d=void 0;else if(t==u||o!=r||null==o.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(o),f=null;else{for(e=r,c=0;(e=e.nextSibling)&&c<i.length;c+=2)if(e==o)break n;n.insertBefore(o,r),f=r}return void 0!==f?f:o.nextSibling}function A(n,l,u,i,t){var o;for(o in u)"children"===o||"key"===o||o in l||C(n,o,null,u[o],i);for(o in l)t&&"function"!=typeof l[o]||"children"===o||"key"===o||"value"===o||"checked"===o||u[o]===l[o]||C(n,o,l[o],u[o],i)}function P(n,l,u){"-"===l[0]?n.setProperty(l,u):n[l]=null==u?"":"number"!=typeof u||c.test(l)?u:u+"px"}function C(n,l,u,i,t){var o,r,f;if(t&&"className"==l&&(l="class"),"style"===l)if("string"==typeof u)n.style.cssText=u;else{if("string"==typeof i&&(n.style.cssText=i=""),i)for(l in i)u&&l in u||P(n.style,l,"");if(u)for(l in u)i&&u[l]===i[l]||P(n.style,l,u[l])}else"o"===l[0]&&"n"===l[1]?(o=l!==(l=l.replace(/Capture$/,"")),(r=l.toLowerCase())in n&&(l=r),l=l.slice(2),n.l||(n.l={}),n.l[l+o]=u,f=o?N:z,u?i||n.addEventListener(l,f,o):n.removeEventListener(l,f,o)):"list"!==l&&"tagName"!==l&&"form"!==l&&"type"!==l&&"size"!==l&&"download"!==l&&"href"!==l&&!t&&l in n?n[l]=null==u?"":u:"function"!=typeof u&&"dangerouslySetInnerHTML"!==l&&(l!==(l=l.replace(/xlink:?/,""))?null==u||!1===u?n.removeAttributeNS("http://www.w3.org/1999/xlink",l.toLowerCase()):n.setAttributeNS("http://www.w3.org/1999/xlink",l.toLowerCase(),u):null==u||!1===u&&!/^ar/.test(l)?n.removeAttribute(l):n.setAttribute(l,u))}function z(l){this.l[l.type+!1](n.event?n.event(l):l)}function N(l){this.l[l.type+!0](n.event?n.event(l):l)}function T(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,t.__e&&("function"==typeof t.type&&t.__k.length>1&&T(t,l,u),l=x(u,t,t,n.__k,null,t.__e,l),"function"==typeof n.type&&(n.__d=l)))}function $(l,u,i,t,o,r,f,e,c){var a,v,h,y,_,w,k,g,b,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=n.__b)&&a(u);try{n:if("function"==typeof P){if(g=u.props,b=(a=P.contextType)&&t[a.__c],x=a?b?b.props.value:a.__:t,i.__c?k=(v=u.__c=i.__c).__=v.__E:("prototype"in P&&P.prototype.render?u.__c=v=new P(g,x):(u.__c=v=new d(g,x),v.constructor=P,v.render=M),b&&b.sub(v),v.props=g,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=s({},v.__s)),s(v.__s,P.getDerivedStateFromProps(g,v.__s))),y=v.props,_=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==P.getDerivedStateFromProps&&g!==y&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(g,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(g,v.__s,x)||u.__v===i.__v){v.props=g,v.state=v.__s,u.__v!==i.__v&&(v.__d=!1),v.__v=u,u.__e=i.__e,u.__k=i.__k,v.__h.length&&f.push(v),T(u,e,l);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(g,v.__s,x),null!=v.componentDidUpdate&&v.__h.push((function(){v.componentDidUpdate(y,_,w)}))}v.context=x,v.props=g,v.state=v.__s,(a=n.__r)&&a(u),v.__d=!1,v.__v=u,v.__P=l,a=v.render(v.props,v.state,v.context),v.state=v.__s,null!=v.getChildContext&&(t=s(s({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(w=v.getSnapshotBeforeUpdate(y,_)),A=null!=a&&a.type==p&&null==a.key?a.props.children:a,m(l,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,c),v.base=u.__e,u.__h=null,v.__h.length&&f.push(v),k&&(v.__E=v.__=null),v.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=H(i.__e,u,i,t,o,r,f,c);(a=n.diffed)&&a(u)}catch(l){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),n.__e(l,u,i)}return u.__e}function j(l,u){n.__c&&n.__c(u,l),l.some((function(u){try{l=u.__h,u.__h=[],l.some((function(n){n.call(u)}))}catch(l){n.__e(l,u.__v)}}))}function H(n,l,u,i,t,o,r,c){var s,a,v,h,y,p=u.props,d=l.props;if(t="svg"===l.type||t,null!=o)for(s=0;s<o.length;s++)if(null!=(a=o[s])&&((null===l.type?3===a.nodeType:a.localName===l.type)||n==a)){n=a,o[s]=null;break}if(null==n){if(null===l.type)return document.createTextNode(d);n=t?document.createElementNS("http://www.w3.org/2000/svg",l.type):document.createElement(l.type,d.is&&{is:d.is}),o=null,c=!1}if(null===l.type)p===d||c&&n.data===d||(n.data=d);else{if(null!=o&&(o=e.slice.call(n.childNodes)),v=(p=u.props||f).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!c){if(null!=o)for(p={},y=0;y<n.attributes.length;y++)p[n.attributes[y].name]=n.attributes[y].value;(h||v)&&(h&&(v&&h.__html==v.__html||h.__html===n.innerHTML)||(n.innerHTML=h&&h.__html||""))}A(n,d,p,t,c),h?l.__k=[]:(s=l.props.children,m(n,Array.isArray(s)?s:[s],l,u,i,"foreignObject"!==l.type&&t,o,r,f,c)),c||("value"in d&&void 0!==(s=d.value)&&(s!==n.value||"progress"===l.type&&!s)&&C(n,"value",s,p.value,!1),"checked"in d&&void 0!==(s=d.checked)&&s!==n.checked&&C(n,"checked",s,p.checked,!1))}return n}function I(l,u,i){try{"function"==typeof l?l(u):l.current=u}catch(l){n.__e(l,i)}}function L(l,u,i){var t,o,r;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||I(t,null,u)),i||"function"==typeof l.type||(i=null!=(o=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){n.__e(l,u)}t.base=t.__P=null}if(t=l.__k)for(r=0;r<t.length;r++)t[r]&&L(t[r],u,i);null!=o&&a(o)}function M(n,l,u){return this.constructor(n,u)}function O(l,u,i){var t,r,c;n.__&&n.__(l,u),r=(t=i===o)?null:i&&i.__k||u.__k,l=v(p,null,[l]),c=[],$(u,(t?u:i||u).__k=l,r||f,f,void 0!==u.ownerSVGElement,i&&!t?[i]:r?null:u.childNodes.length?e.slice.call(u.childNodes):null,c,i||f,t),j(c,l)}function B(n,l){var u={__c:l="__cC"+r++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n,u,i){return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(k)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n={__e:function(n,l){for(var u,i,t,o=l.__h;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return l.__h=o,u.__E=u}catch(l){n=l}throw n},__v:0},d.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),"function"==typeof n&&(n=n(s({},u),this.props)),n&&s(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),k(this))},d.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),k(this))},d.prototype.render=p,u=[],i="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g.__r=0,o=f,r=0;var globalObj="undefined"!=typeof globalThis?globalThis:window;function flushToDom(){var oldDebounceRendering=n.debounceRendering,callbackQ=[];function execCallbackSync(callback){callbackQ.push(callback)}for(n.debounceRendering=execCallbackSync,O(v(FakeComponent,{}),document.createElement("div"));callbackQ.length;)callbackQ.shift()();n.debounceRendering=oldDebounceRendering}globalObj.FullCalendarVDom?console.warn("FullCalendar VDOM already loaded"):globalObj.FullCalendarVDom={Component:d,createElement:v,render:O,createRef:y,Fragment:p,createContext:createContext,flushToDom:flushToDom,unmountComponentAtNode:unmountComponentAtNode};var FakeComponent=function(_super){function FakeComponent(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(FakeComponent,_super),FakeComponent.prototype.render=function(){return v("div",{})},FakeComponent.prototype.componentDidMount=function(){this.setState({})},FakeComponent}(d);function createContext(defaultValue){var ContextType=B(defaultValue),origProvider=ContextType.Provider;return ContextType.Provider=function(){var _this=this,isNew=!this.getChildContext,children=origProvider.apply(this,arguments);if(isNew){var subs_1=[];this.shouldComponentUpdate=function(_props){_this.props.value!==_props.value&&subs_1.forEach((function(c){c.context=_props.value,c.forceUpdate()}))},this.sub=function(c){subs_1.push(c);var old=c.componentWillUnmount;c.componentWillUnmount=function(){subs_1.splice(subs_1.indexOf(c),1),old&&old.call(c)}}}return children},ContextType}function unmountComponentAtNode(node){O(null,node)}var EventSourceApi=function(){function EventSourceApi(context,internalEventSource){this.context=context,this.internalEventSource=internalEventSource}return EventSourceApi.prototype.remove=function(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})},EventSourceApi.prototype.refetch=function(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId]})},Object.defineProperty(EventSourceApi.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(EventSourceApi.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!1,configurable:!0}),Object.defineProperty(EventSourceApi.prototype,"format",{get:function(){return this.internalEventSource.meta.format},enumerable:!1,configurable:!0}),EventSourceApi}();function removeElement(el){el.parentNode&&el.parentNode.removeChild(el)}function elementClosest(el,selector){if(el.closest)return el.closest(selector);if(!document.documentElement.contains(el))return null;do{if(elementMatches(el,selector))return el;el=el.parentElement||el.parentNode}while(null!==el&&1===el.nodeType);return null}function elementMatches(el,selector){var method;return(el.matches||el.matchesSelector||el.msMatchesSelector).call(el,selector)}function findElements(container,selector){for(var containers=container instanceof HTMLElement?[container]:container,allMatches=[],i=0;i<containers.length;i+=1)for(var matches=containers[i].querySelectorAll(selector),j=0;j<matches.length;j+=1)allMatches.push(matches[j]);return allMatches}function findDirectChildren(parent,selector){for(var parents=parent instanceof HTMLElement?[parent]:parent,allMatches=[],i=0;i<parents.length;i+=1)for(var childNodes=parents[i].children,j=0;j<childNodes.length;j+=1){var childNode=childNodes[j];selector&&!elementMatches(childNode,selector)||allMatches.push(childNode)}return allMatches}var PIXEL_PROP_RE=/(top|left|right|bottom|width|height)$/i;function applyStyle(el,props){for(var propName in props)applyStyleProp(el,propName,props[propName])}function applyStyleProp(el,name,val){null==val?el.style[name]="":"number"==typeof val&&PIXEL_PROP_RE.test(name)?el.style[name]=val+"px":el.style[name]=val}function preventDefault(ev){ev.preventDefault()}function buildDelegationHandler(selector,handler){return function(ev){var matchedChild=elementClosest(ev.target,selector);matchedChild&&handler.call(matchedChild,ev,matchedChild)}}function listenBySelector(container,eventType,selector,handler){var attachedHandler=buildDelegationHandler(selector,handler);return container.addEventListener(eventType,attachedHandler),function(){container.removeEventListener(eventType,attachedHandler)}}function listenToHoverBySelector(container,selector,onMouseEnter,onMouseLeave){var currentMatchedChild;return listenBySelector(container,"mouseover",selector,(function(mouseOverEv,matchedChild){if(matchedChild!==currentMatchedChild){currentMatchedChild=matchedChild,onMouseEnter(mouseOverEv,matchedChild);var realOnMouseLeave_1=function(mouseLeaveEv){currentMatchedChild=null,onMouseLeave(mouseLeaveEv,matchedChild),matchedChild.removeEventListener("mouseleave",realOnMouseLeave_1)};matchedChild.addEventListener("mouseleave",realOnMouseLeave_1)}}))}var transitionEventNames=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function whenTransitionDone(el,callback){var realCallback=function(ev){callback(ev),transitionEventNames.forEach((function(eventName){el.removeEventListener(eventName,realCallback)}))};transitionEventNames.forEach((function(eventName){el.addEventListener(eventName,realCallback)}))}var guidNumber=0;function guid(){return String(guidNumber+=1)}function disableCursor(){document.body.classList.add("fc-not-allowed")}function enableCursor(){document.body.classList.remove("fc-not-allowed")}function preventSelection(el){el.classList.add("fc-unselectable"),el.addEventListener("selectstart",preventDefault)}function allowSelection(el){el.classList.remove("fc-unselectable"),el.removeEventListener("selectstart",preventDefault)}function preventContextMenu(el){el.addEventListener("contextmenu",preventDefault)}function allowContextMenu(el){el.removeEventListener("contextmenu",preventDefault)}function parseFieldSpecs(input){var specs=[],tokens=[],i,token;for("string"==typeof input?tokens=input.split(/\s*,\s*/):"function"==typeof input?tokens=[input]:Array.isArray(input)&&(tokens=input),i=0;i<tokens.length;i+=1)"string"==typeof(token=tokens[i])?specs.push("-"===token.charAt(0)?{field:token.substring(1),order:-1}:{field:token,order:1}):"function"==typeof token&&specs.push({func:token});return specs}function compareByFieldSpecs(obj0,obj1,fieldSpecs){var i,cmp;for(i=0;i<fieldSpecs.length;i+=1)if(cmp=compareByFieldSpec(obj0,obj1,fieldSpecs[i]))return cmp;return 0}function compareByFieldSpec(obj0,obj1,fieldSpec){return fieldSpec.func?fieldSpec.func(obj0,obj1):flexibleCompare(obj0[fieldSpec.field],obj1[fieldSpec.field])*(fieldSpec.order||1)}function flexibleCompare(a,b){return a||b?null==b?-1:null==a?1:"string"==typeof a||"string"==typeof b?String(a).localeCompare(String(b)):a-b:0}function padStart(val,len){var s=String(val);return"000".substr(0,len-s.length)+s}function compareNumbers(a,b){return a-b}function isInt(n){return n%1==0}function computeSmallestCellWidth(cellEl){var allWidthEl=cellEl.querySelector(".fc-scrollgrid-shrink-frame"),contentWidthEl=cellEl.querySelector(".fc-scrollgrid-shrink-cushion");if(!allWidthEl)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!contentWidthEl)throw new Error("needs fc-scrollgrid-shrink-cushion className");return cellEl.getBoundingClientRect().width-allWidthEl.getBoundingClientRect().width+contentWidthEl.getBoundingClientRect().width}var DAY_IDS=["sun","mon","tue","wed","thu","fri","sat"];function addWeeks(m,n){var a=dateToUtcArray(m);return a[2]+=7*n,arrayToUtcDate(a)}function addDays(m,n){var a=dateToUtcArray(m);return a[2]+=n,arrayToUtcDate(a)}function addMs(m,n){var a=dateToUtcArray(m);return a[6]+=n,arrayToUtcDate(a)}function diffWeeks(m0,m1){return diffDays(m0,m1)/7}function diffDays(m0,m1){return(m1.valueOf()-m0.valueOf())/864e5}function diffHours(m0,m1){return(m1.valueOf()-m0.valueOf())/36e5}function diffMinutes(m0,m1){return(m1.valueOf()-m0.valueOf())/6e4}function diffSeconds(m0,m1){return(m1.valueOf()-m0.valueOf())/1e3}function diffDayAndTime(m0,m1){var m0day=startOfDay(m0),m1day=startOfDay(m1);return{years:0,months:0,days:Math.round(diffDays(m0day,m1day)),milliseconds:m1.valueOf()-m1day.valueOf()-(m0.valueOf()-m0day.valueOf())}}function diffWholeWeeks(m0,m1){var d=diffWholeDays(m0,m1);return null!==d&&d%7==0?d/7:null}function diffWholeDays(m0,m1){return timeAsMs(m0)===timeAsMs(m1)?Math.round(diffDays(m0,m1)):null}function startOfDay(m){return arrayToUtcDate([m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()])}function startOfHour(m){return arrayToUtcDate([m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate(),m.getUTCHours()])}function startOfMinute(m){return arrayToUtcDate([m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate(),m.getUTCHours(),m.getUTCMinutes()])}function startOfSecond(m){return arrayToUtcDate([m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate(),m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds()])}function weekOfYear(marker,dow,doy){var y=marker.getUTCFullYear(),w=weekOfGivenYear(marker,y,dow,doy);if(w<1)return weekOfGivenYear(marker,y-1,dow,doy);var nextW=weekOfGivenYear(marker,y+1,dow,doy);return nextW>=1?Math.min(w,nextW):w}function weekOfGivenYear(marker,year,dow,doy){var firstWeekStart=arrayToUtcDate([year,0,1+firstWeekOffset(year,dow,doy)]),dayStart=startOfDay(marker),days=Math.round(diffDays(firstWeekStart,dayStart));return Math.floor(days/7)+1}function firstWeekOffset(year,dow,doy){var fwd=7+dow-doy,fwdlw;return-((7+arrayToUtcDate([year,0,fwd]).getUTCDay()-dow)%7)+fwd-1}function dateToLocalArray(date){return[date.getFullYear(),date.getMonth(),date.getDate(),date.getHours(),date.getMinutes(),date.getSeconds(),date.getMilliseconds()]}function arrayToLocalDate(a){return new Date(a[0],a[1]||0,null==a[2]?1:a[2],a[3]||0,a[4]||0,a[5]||0)}function dateToUtcArray(date){return[date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds(),date.getUTCMilliseconds()]}function arrayToUtcDate(a){return 1===a.length&&(a=a.concat([0])),new Date(Date.UTC.apply(Date,a))}function isValidDate(m){return!isNaN(m.valueOf())}function timeAsMs(m){return 1e3*m.getUTCHours()*60*60+1e3*m.getUTCMinutes()*60+1e3*m.getUTCSeconds()+m.getUTCMilliseconds()}function createEventInstance(defId,range,forcedStartTzo,forcedEndTzo){return{instanceId:guid(),defId:defId,range:range,forcedStartTzo:null==forcedStartTzo?null:forcedStartTzo,forcedEndTzo:null==forcedEndTzo?null:forcedEndTzo}}var hasOwnProperty=Object.prototype.hasOwnProperty;function mergeProps(propObjs,complexPropsMap){var dest={};if(complexPropsMap)for(var name_1 in complexPropsMap){for(var complexObjs=[],i=propObjs.length-1;i>=0;i-=1){var val=propObjs[i][name_1];if("object"==typeof val&&val)complexObjs.unshift(val);else if(void 0!==val){dest[name_1]=val;break}}complexObjs.length&&(dest[name_1]=mergeProps(complexObjs))}for(var i=propObjs.length-1;i>=0;i-=1){var props=propObjs[i];for(var name_2 in props)name_2 in dest||(dest[name_2]=props[name_2])}return dest}function filterHash(hash,func){var filtered={};for(var key in hash)func(hash[key],key)&&(filtered[key]=hash[key]);return filtered}function mapHash(hash,func){var newHash={};for(var key in hash)newHash[key]=func(hash[key],key);return newHash}function arrayToHash(a){for(var hash={},_i=0,a_1=a;_i<a_1.length;_i++){var item;hash[a_1[_i]]=!0}return hash}function buildHashFromArray(a,func){for(var hash={},i=0;i<a.length;i+=1){var tuple=func(a[i],i);hash[tuple[0]]=tuple[1]}return hash}function hashValuesToArray(obj){var a=[];for(var key in obj)a.push(obj[key]);return a}function isPropsEqual(obj0,obj1){if(obj0===obj1)return!0;for(var key in obj0)if(hasOwnProperty.call(obj0,key)&&!(key in obj1))return!1;for(var key in obj1)if(hasOwnProperty.call(obj1,key)&&obj0[key]!==obj1[key])return!1;return!0}function getUnequalProps(obj0,obj1){var keys=[];for(var key in obj0)hasOwnProperty.call(obj0,key)&&(key in obj1||keys.push(key));for(var key in obj1)hasOwnProperty.call(obj1,key)&&obj0[key]!==obj1[key]&&keys.push(key);return keys}function compareObjs(oldProps,newProps,equalityFuncs){if(void 0===equalityFuncs&&(equalityFuncs={}),oldProps===newProps)return!0;for(var key in newProps)if(!(key in oldProps&&isObjValsEqual(oldProps[key],newProps[key],equalityFuncs[key])))return!1;for(var key in oldProps)if(!(key in newProps))return!1;return!0}function isObjValsEqual(val0,val1,comparator){return val0===val1||!0===comparator||!!comparator&&comparator(val0,val1)}function collectFromHash(hash,startIndex,endIndex,step){void 0===startIndex&&(startIndex=0),void 0===step&&(step=1);var res=[];null==endIndex&&(endIndex=Object.keys(hash).length);for(var i=startIndex;i<endIndex;i+=step){var val=hash[i];void 0!==val&&res.push(val)}return res}function parseRecurring(refined,defaultAllDay,dateEnv,recurringTypes){for(var i=0;i<recurringTypes.length;i+=1){var parsed=recurringTypes[i].parse(refined,dateEnv);if(parsed){var allDay=refined.allDay;return null==allDay&&null==(allDay=defaultAllDay)&&null==(allDay=parsed.allDayGuess)&&(allDay=!1),{allDay:allDay,duration:parsed.duration,typeData:parsed.typeData,typeId:i}}}return null}function expandRecurring(eventStore,framingRange,context){var dateEnv=context.dateEnv,pluginHooks=context.pluginHooks,options=context.options,defs=eventStore.defs,instances=eventStore.instances;for(var defId in instances=filterHash(instances,(function(instance){return!defs[instance.defId].recurringDef})),defs){var def=defs[defId];if(def.recurringDef){var duration=def.recurringDef.duration;duration||(duration=def.allDay?options.defaultAllDayEventDuration:options.defaultTimedEventDuration);for(var starts,_i=0,starts_1=expandRecurringRanges(def,duration,framingRange,dateEnv,pluginHooks.recurringTypes);_i<starts_1.length;_i++){var start=starts_1[_i],instance=createEventInstance(defId,{start:start,end:dateEnv.add(start,duration)});instances[instance.instanceId]=instance}}}return{defs:defs,instances:instances}}function expandRecurringRanges(eventDef,duration,framingRange,dateEnv,recurringTypes){var typeDef,markers=recurringTypes[eventDef.recurringDef.typeId].expand(eventDef.recurringDef.typeData,{start:dateEnv.subtract(framingRange.start,duration),end:framingRange.end},dateEnv);return eventDef.allDay&&(markers=markers.map(startOfDay)),markers}var INTERNAL_UNITS=["years","months","days","milliseconds"],PARSE_RE=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function createDuration(input,unit){var _a;return"string"==typeof input?parseString(input):"object"==typeof input&&input?parseObject(input):"number"==typeof input?parseObject(((_a={})[unit||"milliseconds"]=input,_a)):null}function parseString(s){var m=PARSE_RE.exec(s);if(m){var sign=m[1]?-1:1;return{years:0,months:0,days:sign*(m[2]?parseInt(m[2],10):0),milliseconds:sign*(60*(m[3]?parseInt(m[3],10):0)*60*1e3+60*(m[4]?parseInt(m[4],10):0)*1e3+1e3*(m[5]?parseInt(m[5],10):0)+(m[6]?parseInt(m[6],10):0))}}return null}function parseObject(obj){var duration={years:obj.years||obj.year||0,months:obj.months||obj.month||0,days:obj.days||obj.day||0,milliseconds:60*(obj.hours||obj.hour||0)*60*1e3+60*(obj.minutes||obj.minute||0)*1e3+1e3*(obj.seconds||obj.second||0)+(obj.milliseconds||obj.millisecond||obj.ms||0)},weeks=obj.weeks||obj.week;return weeks&&(duration.days+=7*weeks,duration.specifiedWeeks=!0),duration}function durationsEqual(d0,d1){return d0.years===d1.years&&d0.months===d1.months&&d0.days===d1.days&&d0.milliseconds===d1.milliseconds}function asCleanDays(dur){return dur.years||dur.months||dur.milliseconds?0:dur.days}function addDurations(d0,d1){return{years:d0.years+d1.years,months:d0.months+d1.months,days:d0.days+d1.days,milliseconds:d0.milliseconds+d1.milliseconds}}function subtractDurations(d1,d0){return{years:d1.years-d0.years,months:d1.months-d0.months,days:d1.days-d0.days,milliseconds:d1.milliseconds-d0.milliseconds}}function multiplyDuration(d,n){return{years:d.years*n,months:d.months*n,days:d.days*n,milliseconds:d.milliseconds*n}}function asRoughYears(dur){return asRoughDays(dur)/365}function asRoughMonths(dur){return asRoughDays(dur)/30}function asRoughDays(dur){return asRoughMs(dur)/864e5}function asRoughMinutes(dur){return asRoughMs(dur)/6e4}function asRoughSeconds(dur){return asRoughMs(dur)/1e3}function asRoughMs(dur){return 31536e6*dur.years+2592e6*dur.months+864e5*dur.days+dur.milliseconds}function wholeDivideDurations(numerator,denominator){for(var res=null,i=0;i<INTERNAL_UNITS.length;i+=1){var unit=INTERNAL_UNITS[i];if(denominator[unit]){var localRes=numerator[unit]/denominator[unit];if(!isInt(localRes)||null!==res&&res!==localRes)return null;res=localRes}else if(numerator[unit])return null}return res}function greatestDurationDenominator(dur){var ms=dur.milliseconds;if(ms){if(ms%1e3!=0)return{unit:"millisecond",value:ms};if(ms%6e4!=0)return{unit:"second",value:ms/1e3};if(ms%36e5!=0)return{unit:"minute",value:ms/6e4};if(ms)return{unit:"hour",value:ms/36e5}}return dur.days?dur.specifiedWeeks&&dur.days%7==0?{unit:"week",value:dur.days/7}:{unit:"day",value:dur.days}:dur.months?{unit:"month",value:dur.months}:dur.years?{unit:"year",value:dur.years}:{unit:"millisecond",value:0}}function buildIsoString(marker,timeZoneOffset,stripZeroTime){void 0===stripZeroTime&&(stripZeroTime=!1);var s=marker.toISOString();return s=s.replace(".000",""),stripZeroTime&&(s=s.replace("T00:00:00Z","")),s.length>10&&(null==timeZoneOffset?s=s.replace("Z",""):0!==timeZoneOffset&&(s=s.replace("Z",formatTimeZoneOffset(timeZoneOffset,!0)))),s}function formatDayString(marker){return marker.toISOString().replace(/T.*$/,"")}function formatIsoTimeString(marker){return padStart(marker.getUTCHours(),2)+":"+padStart(marker.getUTCMinutes(),2)+":"+padStart(marker.getUTCSeconds(),2)}function formatTimeZoneOffset(minutes,doIso){void 0===doIso&&(doIso=!1);var sign=minutes<0?"-":"+",abs=Math.abs(minutes),hours=Math.floor(abs/60),mins=Math.round(abs%60);return doIso?sign+padStart(hours,2)+":"+padStart(mins,2):"GMT"+sign+hours+(mins?":"+padStart(mins,2):"")}function removeExact(array,exactVal){for(var removeCnt=0,i=0;i<array.length;)array[i]===exactVal?(array.splice(i,1),removeCnt+=1):i+=1;return removeCnt}function isArraysEqual(a0,a1,equalityFunc){if(a0===a1)return!0;var len=a0.length,i;if(len!==a1.length)return!1;for(i=0;i<len;i+=1)if(!(equalityFunc?equalityFunc(a0[i],a1[i]):a0[i]===a1[i]))return!1;return!0}function memoize(workerFunc,resEquality,teardownFunc){var currentArgs,currentRes;return function(){for(var newArgs=[],_i=0;_i<arguments.length;_i++)newArgs[_i]=arguments[_i];if(currentArgs){if(!isArraysEqual(currentArgs,newArgs)){teardownFunc&&teardownFunc(currentRes);var res=workerFunc.apply(this,newArgs);resEquality&&resEquality(res,currentRes)||(currentRes=res)}}else currentRes=workerFunc.apply(this,newArgs);return currentArgs=newArgs,currentRes}}function memoizeObjArg(workerFunc,resEquality,teardownFunc){var _this=this,currentArg,currentRes;return function(newArg){if(currentArg){if(!isPropsEqual(currentArg,newArg)){teardownFunc&&teardownFunc(currentRes);var res=workerFunc.call(_this,newArg);resEquality&&resEquality(res,currentRes)||(currentRes=res)}}else currentRes=workerFunc.call(_this,newArg);return currentArg=newArg,currentRes}}function memoizeArraylike(workerFunc,resEquality,teardownFunc){var _this=this,currentArgSets=[],currentResults=[];return function(newArgSets){for(var currentLen=currentArgSets.length,newLen=newArgSets.length,i=0;i<currentLen;i+=1)if(newArgSets[i]){if(!isArraysEqual(currentArgSets[i],newArgSets[i])){teardownFunc&&teardownFunc(currentResults[i]);var res=workerFunc.apply(_this,newArgSets[i]);resEquality&&resEquality(res,currentResults[i])||(currentResults[i]=res)}}else teardownFunc&&teardownFunc(currentResults[i]);for(;i<newLen;i+=1)currentResults[i]=workerFunc.apply(_this,newArgSets[i]);return currentArgSets=newArgSets,currentResults.splice(newLen),currentResults}}function memoizeHashlike(workerFunc,resEquality,teardownFunc){var _this=this,currentArgHash={},currentResHash={};return function(newArgHash){var newResHash={};for(var key in newArgHash)if(currentResHash[key])if(isArraysEqual(currentArgHash[key],newArgHash[key]))newResHash[key]=currentResHash[key];else{teardownFunc&&teardownFunc(currentResHash[key]);var res=workerFunc.apply(_this,newArgHash[key]);newResHash[key]=resEquality&&resEquality(res,currentResHash[key])?currentResHash[key]:res}else newResHash[key]=workerFunc.apply(_this,newArgHash[key]);return currentArgHash=newArgHash,currentResHash=newResHash,newResHash}}var EXTENDED_SETTINGS_AND_SEVERITIES={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},STANDARD_DATE_PROP_SEVERITIES={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},MERIDIEM_RE=/\s*([ap])\.?m\.?/i,COMMA_RE=/,/g,MULTI_SPACE_RE=/\s+/g,LTR_RE=/\u200e/g,UTC_RE=/UTC|GMT/,NativeFormatter=function(){function NativeFormatter(formatSettings){var standardDateProps={},extendedSettings={},severity=0;for(var name_1 in formatSettings)name_1 in EXTENDED_SETTINGS_AND_SEVERITIES?(extendedSettings[name_1]=formatSettings[name_1],severity=Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name_1],severity)):(standardDateProps[name_1]=formatSettings[name_1],name_1 in STANDARD_DATE_PROP_SEVERITIES&&(severity=Math.max(STANDARD_DATE_PROP_SEVERITIES[name_1],severity)));this.standardDateProps=standardDateProps,this.extendedSettings=extendedSettings,this.severity=severity,this.buildFormattingFunc=memoize(buildFormattingFunc)}return NativeFormatter.prototype.format=function(date,context){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,context)(date)},NativeFormatter.prototype.formatRange=function(start,end,context,betterDefaultSeparator){var _a=this,standardDateProps=_a.standardDateProps,extendedSettings=_a.extendedSettings,diffSeverity=computeMarkerDiffSeverity(start.marker,end.marker,context.calendarSystem);if(!diffSeverity)return this.format(start,context);var biggestUnitForPartial=diffSeverity;!(biggestUnitForPartial>1)||"numeric"!==standardDateProps.year&&"2-digit"!==standardDateProps.year||"numeric"!==standardDateProps.month&&"2-digit"!==standardDateProps.month||"numeric"!==standardDateProps.day&&"2-digit"!==standardDateProps.day||(biggestUnitForPartial=1);var full0=this.format(start,context),full1=this.format(end,context);if(full0===full1)return full0;var partialDateProps,partialFormattingFunc=buildFormattingFunc(computePartialFormattingOptions(standardDateProps,biggestUnitForPartial),extendedSettings,context),partial0=partialFormattingFunc(start),partial1=partialFormattingFunc(end),insertion=findCommonInsertion(full0,partial0,full1,partial1),separator=extendedSettings.separator||betterDefaultSeparator||context.defaultSeparator||"";return insertion?insertion.before+partial0+separator+partial1+insertion.after:full0+separator+full1},NativeFormatter.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}},NativeFormatter}();function buildFormattingFunc(standardDateProps,extendedSettings,context){var standardDatePropCnt=Object.keys(standardDateProps).length;return 1===standardDatePropCnt&&"short"===standardDateProps.timeZoneName?function(date){return formatTimeZoneOffset(date.timeZoneOffset)}:0===standardDatePropCnt&&extendedSettings.week?function(date){return formatWeekNumber(context.computeWeekNumber(date.marker),context.weekText,context.locale,extendedSettings.week)}:buildNativeFormattingFunc(standardDateProps,extendedSettings,context)}function buildNativeFormattingFunc(standardDateProps,extendedSettings,context){standardDateProps=__assign({},standardDateProps),extendedSettings=__assign({},extendedSettings),sanitizeSettings(standardDateProps,extendedSettings),standardDateProps.timeZone="UTC";var normalFormat=new Intl.DateTimeFormat(context.locale.codes,standardDateProps),zeroFormat;if(extendedSettings.omitZeroMinute){var zeroProps=__assign({},standardDateProps);delete zeroProps.minute,zeroFormat=new Intl.DateTimeFormat(context.locale.codes,zeroProps)}return function(date){var marker=date.marker,format,s;return postProcess((format=zeroFormat&&!marker.getUTCMinutes()?zeroFormat:normalFormat).format(marker),date,standardDateProps,extendedSettings,context)}}function sanitizeSettings(standardDateProps,extendedSettings){standardDateProps.timeZoneName&&(standardDateProps.hour||(standardDateProps.hour="2-digit"),standardDateProps.minute||(standardDateProps.minute="2-digit")),"long"===standardDateProps.timeZoneName&&(standardDateProps.timeZoneName="short"),extendedSettings.omitZeroMinute&&(standardDateProps.second||standardDateProps.millisecond)&&delete extendedSettings.omitZeroMinute}function postProcess(s,date,standardDateProps,extendedSettings,context){return s=s.replace(LTR_RE,""),"short"===standardDateProps.timeZoneName&&(s=injectTzoStr(s,"UTC"===context.timeZone||null==date.timeZoneOffset?"UTC":formatTimeZoneOffset(date.timeZoneOffset))),extendedSettings.omitCommas&&(s=s.replace(COMMA_RE,"").trim()),extendedSettings.omitZeroMinute&&(s=s.replace(":00","")),!1===extendedSettings.meridiem?s=s.replace(MERIDIEM_RE,"").trim():"narrow"===extendedSettings.meridiem?s=s.replace(MERIDIEM_RE,(function(m0,m1){return m1.toLocaleLowerCase()})):"short"===extendedSettings.meridiem?s=s.replace(MERIDIEM_RE,(function(m0,m1){return m1.toLocaleLowerCase()+"m"})):"lowercase"===extendedSettings.meridiem&&(s=s.replace(MERIDIEM_RE,(function(m0){return m0.toLocaleLowerCase()}))),s=(s=s.replace(MULTI_SPACE_RE," ")).trim()}function injectTzoStr(s,tzoStr){var replaced=!1;return s=s.replace(UTC_RE,(function(){return replaced=!0,tzoStr})),replaced||(s+=" "+tzoStr),s}function formatWeekNumber(num,weekText,locale,display){var parts=[];return"narrow"===display?parts.push(weekText):"short"===display&&parts.push(weekText," "),parts.push(locale.simpleNumberFormat.format(num)),"rtl"===locale.options.direction&&parts.reverse(),parts.join("")}function computeMarkerDiffSeverity(d0,d1,ca){return ca.getMarkerYear(d0)!==ca.getMarkerYear(d1)?5:ca.getMarkerMonth(d0)!==ca.getMarkerMonth(d1)?4:ca.getMarkerDay(d0)!==ca.getMarkerDay(d1)?2:timeAsMs(d0)!==timeAsMs(d1)?1:0}function computePartialFormattingOptions(options,biggestUnit){var partialOptions={};for(var name_2 in options)name_2 in STANDARD_DATE_PROP_SEVERITIES&&!(STANDARD_DATE_PROP_SEVERITIES[name_2]<=biggestUnit)||(partialOptions[name_2]=options[name_2]);return partialOptions}function findCommonInsertion(full0,partial0,full1,partial1){for(var i0=0;i0<full0.length;){var found0=full0.indexOf(partial0,i0);if(-1===found0)break;var before0=full0.substr(0,found0);i0=found0+partial0.length;for(var after0=full0.substr(i0),i1=0;i1<full1.length;){var found1=full1.indexOf(partial1,i1);if(-1===found1)break;var before1=full1.substr(0,found1);i1=found1+partial1.length;var after1=full1.substr(i1);if(before0===before1&&after0===after1)return{before:before0,after:after0}}}return null}function expandZonedMarker(dateInfo,calendarSystem){var a=calendarSystem.markerToArray(dateInfo.marker);return{marker:dateInfo.marker,timeZoneOffset:dateInfo.timeZoneOffset,array:a,year:a[0],month:a[1],day:a[2],hour:a[3],minute:a[4],second:a[5],millisecond:a[6]}}function createVerboseFormattingArg(start,end,context,betterDefaultSeparator){var startInfo=expandZonedMarker(start,context.calendarSystem),endInfo;return{date:startInfo,start:startInfo,end:end?expandZonedMarker(end,context.calendarSystem):null,timeZone:context.timeZone,localeCodes:context.locale.codes,defaultSeparator:betterDefaultSeparator||context.defaultSeparator}}var CmdFormatter=function(){function CmdFormatter(cmdStr){this.cmdStr=cmdStr}return CmdFormatter.prototype.format=function(date,context,betterDefaultSeparator){return context.cmdFormatter(this.cmdStr,createVerboseFormattingArg(date,null,context,betterDefaultSeparator))},CmdFormatter.prototype.formatRange=function(start,end,context,betterDefaultSeparator){return context.cmdFormatter(this.cmdStr,createVerboseFormattingArg(start,end,context,betterDefaultSeparator))},CmdFormatter}(),FuncFormatter=function(){function FuncFormatter(func){this.func=func}return FuncFormatter.prototype.format=function(date,context,betterDefaultSeparator){return this.func(createVerboseFormattingArg(date,null,context,betterDefaultSeparator))},FuncFormatter.prototype.formatRange=function(start,end,context,betterDefaultSeparator){return this.func(createVerboseFormattingArg(start,end,context,betterDefaultSeparator))},FuncFormatter}();function createFormatter(input){return"object"==typeof input&&input?new NativeFormatter(input):"string"==typeof input?new CmdFormatter(input):"function"==typeof input?new FuncFormatter(input):null}var BASE_OPTION_REFINERS={navLinkDayClick:identity,navLinkWeekClick:identity,duration:createDuration,bootstrapFontAwesome:identity,buttonIcons:identity,customButtons:identity,defaultAllDayEventDuration:createDuration,defaultTimedEventDuration:createDuration,nextDayThreshold:createDuration,scrollTime:createDuration,slotMinTime:createDuration,slotMaxTime:createDuration,dayPopoverFormat:createFormatter,slotDuration:createDuration,snapDuration:createDuration,headerToolbar:identity,footerToolbar:identity,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:createFormatter,dayHeaderClassNames:identity,dayHeaderContent:identity,dayHeaderDidMount:identity,dayHeaderWillUnmount:identity,dayCellClassNames:identity,dayCellContent:identity,dayCellDidMount:identity,dayCellWillUnmount:identity,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:identity,weekNumbers:Boolean,weekNumberClassNames:identity,weekNumberContent:identity,weekNumberDidMount:identity,weekNumberWillUnmount:identity,editable:Boolean,viewClassNames:identity,viewDidMount:identity,viewWillUnmount:identity,nowIndicator:Boolean,nowIndicatorClassNames:identity,nowIndicatorContent:identity,nowIndicatorDidMount:identity,nowIndicatorWillUnmount:identity,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:identity,locale:identity,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:identity,eventOrder:parseFieldSpecs,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:identity,contentHeight:identity,direction:String,weekNumberFormat:createFormatter,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,progressiveEventRendering:Boolean,businessHours:identity,initialDate:identity,now:identity,eventDataTransform:identity,stickyHeaderDates:identity,stickyFooterScrollbar:identity,viewHeight:identity,defaultAllDay:Boolean,eventSourceFailure:identity,eventSourceSuccess:identity,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:identity,eventConstraint:identity,eventAllow:identity,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:identity,eventContent:identity,eventDidMount:identity,eventWillUnmount:identity,selectConstraint:identity,selectOverlap:identity,selectAllow:identity,droppable:Boolean,unselectCancel:String,slotLabelFormat:identity,slotLaneClassNames:identity,slotLaneContent:identity,slotLaneDidMount:identity,slotLaneWillUnmount:identity,slotLabelClassNames:identity,slotLabelContent:identity,slotLabelDidMount:identity,slotLabelWillUnmount:identity,dayMaxEvents:identity,dayMaxEventRows:identity,dayMinWidth:Number,slotLabelInterval:createDuration,allDayText:String,allDayClassNames:identity,allDayContent:identity,allDayDidMount:identity,allDayWillUnmount:identity,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:createFormatter,rerenderDelay:Number,moreLinkText:identity,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMinHeight:Number,slotEventOverlap:Boolean,plugins:identity,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:createDuration,hiddenDays:identity,monthMode:Boolean,fixedWeekCount:Boolean,validRange:identity,visibleRange:identity,titleFormat:identity,noEventsText:String},BASE_OPTION_DEFAULTS={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1},CALENDAR_LISTENER_REFINERS={datesSet:identity,eventsSet:identity,eventAdd:identity,eventChange:identity,eventRemove:identity,windowResize:identity,eventClick:identity,eventMouseEnter:identity,eventMouseLeave:identity,select:identity,unselect:identity,loading:identity,_unmount:identity,_beforeprint:identity,_afterprint:identity,_noEventDrop:identity,_noEventResize:identity,_resize:identity,_scrollRequest:identity},CALENDAR_OPTION_REFINERS={buttonText:identity,views:identity,plugins:identity,initialEvents:identity,events:identity,eventSources:identity},COMPLEX_OPTION_COMPARATORS={headerToolbar:isBoolComplexEqual,footerToolbar:isBoolComplexEqual,buttonText:isBoolComplexEqual,buttonIcons:isBoolComplexEqual};function isBoolComplexEqual(a,b){return"object"==typeof a&&"object"==typeof b&&a&&b?isPropsEqual(a,b):a===b}var VIEW_OPTION_REFINERS={type:String,component:identity,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:identity,usesMinMaxTime:Boolean,classNames:identity,content:identity,didMount:identity,willUnmount:identity};function mergeRawOptions(optionSets){return mergeProps(optionSets,COMPLEX_OPTION_COMPARATORS)}function refineProps(input,refiners){var refined={},extra={};for(var propName in refiners)propName in input&&(refined[propName]=refiners[propName](input[propName]));for(var propName in input)propName in refiners||(extra[propName]=input[propName]);return{refined:refined,extra:extra}}function identity(raw){return raw}function parseEvents(rawEvents,eventSource,context,allowOpenRange){for(var eventStore={defs:{},instances:{}},eventRefiners=buildEventRefiners(context),_i=0,rawEvents_1=rawEvents;_i<rawEvents_1.length;_i++){var rawEvent,tuple=parseEvent(rawEvents_1[_i],eventSource,context,allowOpenRange,eventRefiners);tuple&&eventTupleToStore(tuple,eventStore)}return eventStore}function eventTupleToStore(tuple,eventStore){return void 0===eventStore&&(eventStore={defs:{},instances:{}}),eventStore.defs[tuple.def.defId]=tuple.def,tuple.instance&&(eventStore.instances[tuple.instance.instanceId]=tuple.instance),eventStore}function getRelevantEvents(eventStore,instanceId){var instance=eventStore.instances[instanceId];if(instance){var def_1=eventStore.defs[instance.defId],newStore=filterEventStoreDefs(eventStore,(function(lookDef){return isEventDefsGrouped(def_1,lookDef)}));return newStore.defs[def_1.defId]=def_1,newStore.instances[instance.instanceId]=instance,newStore}return{defs:{},instances:{}}}function isEventDefsGrouped(def0,def1){return Boolean(def0.groupId&&def0.groupId===def1.groupId)}function createEmptyEventStore(){return{defs:{},instances:{}}}function mergeEventStores(store0,store1){return{defs:__assign(__assign({},store0.defs),store1.defs),instances:__assign(__assign({},store0.instances),store1.instances)}}function filterEventStoreDefs(eventStore,filterFunc){var defs=filterHash(eventStore.defs,filterFunc),instances=filterHash(eventStore.instances,(function(instance){return defs[instance.defId]}));return{defs:defs,instances:instances}}function excludeSubEventStore(master,sub){var defs=master.defs,instances=master.instances,filteredDefs={},filteredInstances={};for(var defId in defs)sub.defs[defId]||(filteredDefs[defId]=defs[defId]);for(var instanceId in instances)!sub.instances[instanceId]&&filteredDefs[instances[instanceId].defId]&&(filteredInstances[instanceId]=instances[instanceId]);return{defs:filteredDefs,instances:filteredInstances}}function normalizeConstraint(input,context){return Array.isArray(input)?parseEvents(input,null,context,!0):"object"==typeof input&&input?parseEvents([input],null,context,!0):null!=input?String(input):null}function parseClassNames(raw){return Array.isArray(raw)?raw:"string"==typeof raw?raw.split(/\s+/):[]}var EVENT_UI_REFINERS={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:identity,overlap:identity,allow:identity,className:parseClassNames,classNames:parseClassNames,color:String,backgroundColor:String,borderColor:String,textColor:String},EMPTY_EVENT_UI={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function createEventUi(refined,context){var constraint=normalizeConstraint(refined.constraint,context);return{display:refined.display||null,startEditable:null!=refined.startEditable?refined.startEditable:refined.editable,durationEditable:null!=refined.durationEditable?refined.durationEditable:refined.editable,constraints:null!=constraint?[constraint]:[],overlap:null!=refined.overlap?refined.overlap:null,allows:null!=refined.allow?[refined.allow]:[],backgroundColor:refined.backgroundColor||refined.color||"",borderColor:refined.borderColor||refined.color||"",textColor:refined.textColor||"",classNames:(refined.className||[]).concat(refined.classNames||[])}}function combineEventUis(uis){return uis.reduce(combineTwoEventUis,EMPTY_EVENT_UI)}function combineTwoEventUis(item0,item1){return{display:null!=item1.display?item1.display:item0.display,startEditable:null!=item1.startEditable?item1.startEditable:item0.startEditable,durationEditable:null!=item1.durationEditable?item1.durationEditable:item0.durationEditable,constraints:item0.constraints.concat(item1.constraints),overlap:"boolean"==typeof item1.overlap?item1.overlap:item0.overlap,allows:item0.allows.concat(item1.allows),backgroundColor:item1.backgroundColor||item0.backgroundColor,borderColor:item1.borderColor||item0.borderColor,textColor:item1.textColor||item0.textColor,classNames:item0.classNames.concat(item1.classNames)}}var EVENT_NON_DATE_REFINERS={id:String,groupId:String,title:String,url:String},EVENT_DATE_REFINERS={start:identity,end:identity,date:identity,allDay:Boolean},EVENT_REFINERS=__assign(__assign(__assign({},EVENT_NON_DATE_REFINERS),EVENT_DATE_REFINERS),{extendedProps:identity});function parseEvent(raw,eventSource,context,allowOpenRange,refiners){void 0===refiners&&(refiners=buildEventRefiners(context));var _a=refineEventDef(raw,context,refiners),refined=_a.refined,extra=_a.extra,defaultAllDay=computeIsDefaultAllDay(eventSource,context),recurringRes=parseRecurring(refined,defaultAllDay,context.dateEnv,context.pluginHooks.recurringTypes),def;if(recurringRes)return(def=parseEventDef(refined,extra,eventSource?eventSource.sourceId:"",recurringRes.allDay,Boolean(recurringRes.duration),context)).recurringDef={typeId:recurringRes.typeId,typeData:recurringRes.typeData,duration:recurringRes.duration},{def:def,instance:null};var singleRes=parseSingle(refined,defaultAllDay,context,allowOpenRange),def,instance;return singleRes?{def:def=parseEventDef(refined,extra,eventSource?eventSource.sourceId:"",singleRes.allDay,singleRes.hasEnd,context),instance:createEventInstance(def.defId,singleRes.range,singleRes.forcedStartTzo,singleRes.forcedEndTzo)}:null}function refineEventDef(raw,context,refiners){return void 0===refiners&&(refiners=buildEventRefiners(context)),refineProps(raw,refiners)}function buildEventRefiners(context){return __assign(__assign(__assign({},EVENT_UI_REFINERS),EVENT_REFINERS),context.pluginHooks.eventRefiners)}function parseEventDef(refined,extra,sourceId,allDay,hasEnd,context){for(var def={title:refined.title||"",groupId:refined.groupId||"",publicId:refined.id||"",url:refined.url||"",recurringDef:null,defId:guid(),sourceId:sourceId,allDay:allDay,hasEnd:hasEnd,ui:createEventUi(refined,context),extendedProps:__assign(__assign({},refined.extendedProps||{}),extra)},_i=0,_a=context.pluginHooks.eventDefMemberAdders;_i<_a.length;_i++){var memberAdder=_a[_i];__assign(def,memberAdder(refined))}return Object.freeze(def.ui.classNames),Object.freeze(def.extendedProps),def}function parseSingle(refined,defaultAllDay,context,allowOpenRange){var allDay=refined.allDay,startMeta,startMarker=null,hasEnd=!1,endMeta,endMarker=null,startInput=null!=refined.start?refined.start:refined.date;if(startMeta=context.dateEnv.createMarkerMeta(startInput))startMarker=startMeta.marker;else if(!allowOpenRange)return null;return null!=refined.end&&(endMeta=context.dateEnv.createMarkerMeta(refined.end)),null==allDay&&(allDay=null!=defaultAllDay?defaultAllDay:(!startMeta||startMeta.isTimeUnspecified)&&(!endMeta||endMeta.isTimeUnspecified)),allDay&&startMarker&&(startMarker=startOfDay(startMarker)),endMeta&&(endMarker=endMeta.marker,allDay&&(endMarker=startOfDay(endMarker)),startMarker&&endMarker<=startMarker&&(endMarker=null)),endMarker?hasEnd=!0:allowOpenRange||(hasEnd=context.options.forceEventDuration||!1,endMarker=context.dateEnv.add(startMarker,allDay?context.options.defaultAllDayEventDuration:context.options.defaultTimedEventDuration)),{allDay:allDay,hasEnd:hasEnd,range:{start:startMarker,end:endMarker},forcedStartTzo:startMeta?startMeta.forcedTzo:null,forcedEndTzo:endMeta?endMeta.forcedTzo:null}}function computeIsDefaultAllDay(eventSource,context){var res=null;return eventSource&&(res=eventSource.defaultAllDay),null==res&&(res=context.options.defaultAllDay),res}function computeAlignedDayRange(timedRange){var dayCnt=Math.floor(diffDays(timedRange.start,timedRange.end))||1,start=startOfDay(timedRange.start),end;return{start:start,end:addDays(start,dayCnt)}}function computeVisibleDayRange(timedRange,nextDayThreshold){void 0===nextDayThreshold&&(nextDayThreshold=createDuration(0));var startDay=null,endDay=null;if(timedRange.end){endDay=startOfDay(timedRange.end);var endTimeMS=timedRange.end.valueOf()-endDay.valueOf();endTimeMS&&endTimeMS>=asRoughMs(nextDayThreshold)&&(endDay=addDays(endDay,1))}return timedRange.start&&(startDay=startOfDay(timedRange.start),endDay&&endDay<=startDay&&(endDay=addDays(startDay,1))),{start:startDay,end:endDay}}function isMultiDayRange(range){var visibleRange=computeVisibleDayRange(range);return diffDays(visibleRange.start,visibleRange.end)>1}function diffDates(date0,date1,dateEnv,largeUnit){return"year"===largeUnit?createDuration(dateEnv.diffWholeYears(date0,date1),"year"):"month"===largeUnit?createDuration(dateEnv.diffWholeMonths(date0,date1),"month"):diffDayAndTime(date0,date1)}function parseRange(input,dateEnv){var start=null,end=null;return input.start&&(start=dateEnv.createMarker(input.start)),input.end&&(end=dateEnv.createMarker(input.end)),start||end?start&&end&&end<start?null:{start:start,end:end}:null}function invertRanges(ranges,constraintRange){var invertedRanges=[],start=constraintRange.start,i,dateRange;for(ranges.sort(compareRanges),i=0;i<ranges.length;i+=1)(dateRange=ranges[i]).start>start&&invertedRanges.push({start:start,end:dateRange.start}),dateRange.end>start&&(start=dateRange.end);return start<constraintRange.end&&invertedRanges.push({start:start,end:constraintRange.end}),invertedRanges}function compareRanges(range0,range1){return range0.start.valueOf()-range1.start.valueOf()}function intersectRanges(range0,range1){var start=range0.start,end=range0.end,newRange=null;return null!==range1.start&&(start=null===start?range1.start:new Date(Math.max(start.valueOf(),range1.start.valueOf()))),null!=range1.end&&(end=null===end?range1.end:new Date(Math.min(end.valueOf(),range1.end.valueOf()))),(null===start||null===end||start<end)&&(newRange={start:start,end:end}),newRange}function rangesEqual(range0,range1){return(null===range0.start?null:range0.start.valueOf())===(null===range1.start?null:range1.start.valueOf())&&(null===range0.end?null:range0.end.valueOf())===(null===range1.end?null:range1.end.valueOf())}function rangesIntersect(range0,range1){return(null===range0.end||null===range1.start||range0.end>range1.start)&&(null===range0.start||null===range1.end||range0.start<range1.end)}function rangeContainsRange(outerRange,innerRange){return(null===outerRange.start||null!==innerRange.start&&innerRange.start>=outerRange.start)&&(null===outerRange.end||null!==innerRange.end&&innerRange.end<=outerRange.end)}function rangeContainsMarker(range,date){return(null===range.start||date>=range.start)&&(null===range.end||date<range.end)}function constrainMarkerToRange(date,range){return null!=range.start&&date<range.start?range.start:null!=range.end&&date>=range.end?new Date(range.end.valueOf()-1):date}function sliceEventStore(eventStore,eventUiBases,framingRange,nextDayThreshold){var inverseBgByGroupId={},inverseBgByDefId={},defByGroupId={},bgRanges=[],fgRanges=[],eventUis=compileEventUis(eventStore.defs,eventUiBases);for(var defId in eventStore.defs){var def,ui;"inverse-background"===(ui=eventUis[(def=eventStore.defs[defId]).defId]).display&&(def.groupId?(inverseBgByGroupId[def.groupId]=[],defByGroupId[def.groupId]||(defByGroupId[def.groupId]=def)):inverseBgByDefId[defId]=[])}for(var instanceId in eventStore.instances){var instance=eventStore.instances[instanceId],def,ui=eventUis[(def=eventStore.defs[instance.defId]).defId],origRange=instance.range,normalRange=!def.allDay&&nextDayThreshold?computeVisibleDayRange(origRange,nextDayThreshold):origRange,slicedRange=intersectRanges(normalRange,framingRange);slicedRange&&("inverse-background"===ui.display?def.groupId?inverseBgByGroupId[def.groupId].push(slicedRange):inverseBgByDefId[instance.defId].push(slicedRange):"none"!==ui.display&&("background"===ui.display?bgRanges:fgRanges).push({def:def,ui:ui,instance:instance,range:slicedRange,isStart:normalRange.start&&normalRange.start.valueOf()===slicedRange.start.valueOf(),isEnd:normalRange.end&&normalRange.end.valueOf()===slicedRange.end.valueOf()}))}for(var groupId in inverseBgByGroupId)for(var ranges,invertedRanges,_i=0,invertedRanges_1=invertedRanges=invertRanges(ranges=inverseBgByGroupId[groupId],framingRange);_i<invertedRanges_1.length;_i++){var invertedRange=invertedRanges_1[_i],def,ui=eventUis[(def=defByGroupId[groupId]).defId];bgRanges.push({def:def,ui:ui,instance:null,range:invertedRange,isStart:!1,isEnd:!1})}for(var defId in inverseBgByDefId)for(var ranges,invertedRanges,_a=0,invertedRanges_2=invertedRanges=invertRanges(ranges=inverseBgByDefId[defId],framingRange);_a<invertedRanges_2.length;_a++){var invertedRange=invertedRanges_2[_a];bgRanges.push({def:eventStore.defs[defId],ui:eventUis[defId],instance:null,range:invertedRange,isStart:!1,isEnd:!1})}return{bg:bgRanges,fg:fgRanges}}function hasBgRendering(def){return"background"===def.ui.display||"inverse-background"===def.ui.display}function setElSeg(el,seg){el.fcSeg=seg}function getElSeg(el){return el.fcSeg||el.parentNode.fcSeg||null}function compileEventUis(eventDefs,eventUiBases){return mapHash(eventDefs,(function(eventDef){return compileEventUi(eventDef,eventUiBases)}))}function compileEventUi(eventDef,eventUiBases){var uis=[];return eventUiBases[""]&&uis.push(eventUiBases[""]),eventUiBases[eventDef.defId]&&uis.push(eventUiBases[eventDef.defId]),uis.push(eventDef.ui),combineEventUis(uis)}function sortEventSegs(segs,eventOrderSpecs){var objs=segs.map(buildSegCompareObj);return objs.sort((function(obj0,obj1){return compareByFieldSpecs(obj0,obj1,eventOrderSpecs)})),objs.map((function(c){return c._seg}))}function buildSegCompareObj(seg){var eventRange=seg.eventRange,eventDef=eventRange.def,range=eventRange.instance?eventRange.instance.range:eventRange.range,start=range.start?range.start.valueOf():0,end=range.end?range.end.valueOf():0;return __assign(__assign(__assign({},eventDef.extendedProps),eventDef),{id:eventDef.publicId,start:start,end:end,duration:end-start,allDay:Number(eventDef.allDay),_seg:seg})}function computeSegDraggable(seg,context){for(var pluginHooks,transformers=context.pluginHooks.isDraggableTransformers,_a=seg.eventRange,def=_a.def,ui=_a.ui,val=ui.startEditable,_i=0,transformers_1=transformers;_i<transformers_1.length;_i++){var transformer;val=(0,transformers_1[_i])(val,def,ui,context)}return val}function computeSegStartResizable(seg,context){return seg.isStart&&seg.eventRange.ui.durationEditable&&context.options.eventResizableFromStart}function computeSegEndResizable(seg,context){return seg.isEnd&&seg.eventRange.ui.durationEditable}function buildSegTimeText(seg,timeFormat,context,defaultDisplayEventTime,defaultDisplayEventEnd,startOverride,endOverride){var dateEnv=context.dateEnv,options=context.options,displayEventTime=options.displayEventTime,displayEventEnd=options.displayEventEnd,eventDef=seg.eventRange.def,eventInstance=seg.eventRange.instance;if(null==displayEventTime&&(displayEventTime=!1!==defaultDisplayEventTime),null==displayEventEnd&&(displayEventEnd=!1!==defaultDisplayEventEnd),displayEventTime&&!eventDef.allDay&&(seg.isStart||seg.isEnd)){var segStart=startOverride||(seg.isStart?eventInstance.range.start:seg.start||seg.eventRange.range.start),segEnd=endOverride||(seg.isEnd?eventInstance.range.end:seg.end||seg.eventRange.range.end);return displayEventEnd&&eventDef.hasEnd?dateEnv.formatRange(segStart,segEnd,timeFormat,{forcedStartTzo:startOverride?null:eventInstance.forcedStartTzo,forcedEndTzo:endOverride?null:eventInstance.forcedEndTzo}):dateEnv.format(segStart,timeFormat,{forcedTzo:startOverride?null:eventInstance.forcedStartTzo})}return""}function getSegMeta(seg,todayRange,nowDate){var segRange=seg.eventRange.range;return{isPast:segRange.end<(nowDate||todayRange.start),isFuture:segRange.start>=(nowDate||todayRange.end),isToday:todayRange&&rangeContainsMarker(todayRange,segRange.start)}}function getEventClassNames(props){var classNames=["fc-event"];return props.isMirror&&classNames.push("fc-event-mirror"),props.isDraggable&&classNames.push("fc-event-draggable"),(props.isStartResizable||props.isEndResizable)&&classNames.push("fc-event-resizable"),props.isDragging&&classNames.push("fc-event-dragging"),props.isResizing&&classNames.push("fc-event-resizing"),props.isSelected&&classNames.push("fc-event-selected"),props.isStart&&classNames.push("fc-event-start"),props.isEnd&&classNames.push("fc-event-end"),props.isPast&&classNames.push("fc-event-past"),props.isToday&&classNames.push("fc-event-today"),props.isFuture&&classNames.push("fc-event-future"),classNames}function buildEventRangeKey(eventRange){return eventRange.instance?eventRange.instance.instanceId:eventRange.def.defId+":"+eventRange.range.start.toISOString()}var STANDARD_PROPS={start:identity,end:identity,allDay:Boolean};function parseDateSpan(raw,dateEnv,defaultDuration){var span=parseOpenDateSpan(raw,dateEnv),range=span.range;if(!range.start)return null;if(!range.end){if(null==defaultDuration)return null;range.end=dateEnv.add(range.start,defaultDuration)}return span}function parseOpenDateSpan(raw,dateEnv){var _a=refineProps(raw,STANDARD_PROPS),standardProps=_a.refined,extra=_a.extra,startMeta=standardProps.start?dateEnv.createMarkerMeta(standardProps.start):null,endMeta=standardProps.end?dateEnv.createMarkerMeta(standardProps.end):null,allDay=standardProps.allDay;return null==allDay&&(allDay=startMeta&&startMeta.isTimeUnspecified&&(!endMeta||endMeta.isTimeUnspecified)),__assign({range:{start:startMeta?startMeta.marker:null,end:endMeta?endMeta.marker:null},allDay:allDay},extra)}function isDateSpansEqual(span0,span1){return rangesEqual(span0.range,span1.range)&&span0.allDay===span1.allDay&&isSpanPropsEqual(span0,span1)}function isSpanPropsEqual(span0,span1){for(var propName in span1)if("range"!==propName&&"allDay"!==propName&&span0[propName]!==span1[propName])return!1;for(var propName in span0)if(!(propName in span1))return!1;return!0}function buildDateSpanApi(span,dateEnv){return __assign(__assign({},buildRangeApi(span.range,dateEnv,span.allDay)),{allDay:span.allDay})}function buildRangeApiWithTimeZone(range,dateEnv,omitTime){return __assign(__assign({},buildRangeApi(range,dateEnv,omitTime)),{timeZone:dateEnv.timeZone})}function buildRangeApi(range,dateEnv,omitTime){return{start:dateEnv.toDate(range.start),end:dateEnv.toDate(range.end),startStr:dateEnv.formatIso(range.start,{omitTime:omitTime}),endStr:dateEnv.formatIso(range.end,{omitTime:omitTime})}}function fabricateEventRange(dateSpan,eventUiBases,context){var res=refineEventDef({editable:!1},context),def=parseEventDef(res.refined,res.extra,"",dateSpan.allDay,!0,context);return{def:def,ui:compileEventUi(def,eventUiBases),instance:createEventInstance(def.defId,dateSpan.range),range:dateSpan.range,isStart:!0,isEnd:!0}}function triggerDateSelect(selection,pev,context){context.emitter.trigger("select",__assign(__assign({},buildDateSpanApiWithContext(selection,context)),{jsEvent:pev?pev.origEvent:null,view:context.viewApi||context.calendarApi.view}))}function triggerDateUnselect(pev,context){context.emitter.trigger("unselect",{jsEvent:pev?pev.origEvent:null,view:context.viewApi||context.calendarApi.view})}function buildDateSpanApiWithContext(dateSpan,context){for(var props={},_i=0,_a=context.pluginHooks.dateSpanTransforms;_i<_a.length;_i++){var transform=_a[_i];__assign(props,transform(dateSpan,context))}return __assign(props,buildDateSpanApi(dateSpan,context.dateEnv)),props}function getDefaultEventEnd(allDay,marker,context){var dateEnv=context.dateEnv,options=context.options,end=marker;return allDay?(end=startOfDay(end),end=dateEnv.add(end,options.defaultAllDayEventDuration)):end=dateEnv.add(end,options.defaultTimedEventDuration),end}function applyMutationToEventStore(eventStore,eventConfigBase,mutation,context){var eventConfigs=compileEventUis(eventStore.defs,eventConfigBase),dest={defs:{},instances:{}};for(var defId in eventStore.defs){var def=eventStore.defs[defId];dest.defs[defId]=applyMutationToEventDef(def,eventConfigs[defId],mutation,context)}for(var instanceId in eventStore.instances){var instance=eventStore.instances[instanceId],def=dest.defs[instance.defId];dest.instances[instanceId]=applyMutationToEventInstance(instance,def,eventConfigs[instance.defId],mutation,context)}return dest}function applyMutationToEventDef(eventDef,eventConfig,mutation,context){var standardProps=mutation.standardProps||{};null==standardProps.hasEnd&&eventConfig.durationEditable&&(mutation.startDelta||mutation.endDelta)&&(standardProps.hasEnd=!0);var copy=__assign(__assign(__assign({},eventDef),standardProps),{ui:__assign(__assign({},eventDef.ui),standardProps.ui)});mutation.extendedProps&&(copy.extendedProps=__assign(__assign({},copy.extendedProps),mutation.extendedProps));for(var _i=0,_a=context.pluginHooks.eventDefMutationAppliers;_i<_a.length;_i++){var applier;(0,_a[_i])(copy,mutation,context)}return!copy.hasEnd&&context.options.forceEventDuration&&(copy.hasEnd=!0),copy}function applyMutationToEventInstance(eventInstance,eventDef,eventConfig,mutation,context){var dateEnv=context.dateEnv,forceAllDay=mutation.standardProps&&!0===mutation.standardProps.allDay,clearEnd=mutation.standardProps&&!1===mutation.standardProps.hasEnd,copy=__assign({},eventInstance);return forceAllDay&&(copy.range=computeAlignedDayRange(copy.range)),mutation.datesDelta&&eventConfig.startEditable&&(copy.range={start:dateEnv.add(copy.range.start,mutation.datesDelta),end:dateEnv.add(copy.range.end,mutation.datesDelta)}),mutation.startDelta&&eventConfig.durationEditable&&(copy.range={start:dateEnv.add(copy.range.start,mutation.startDelta),end:copy.range.end}),mutation.endDelta&&eventConfig.durationEditable&&(copy.range={start:copy.range.start,end:dateEnv.add(copy.range.end,mutation.endDelta)}),clearEnd&&(copy.range={start:copy.range.start,end:getDefaultEventEnd(eventDef.allDay,copy.range.start,context)}),eventDef.allDay&&(copy.range={start:startOfDay(copy.range.start),end:startOfDay(copy.range.end)}),copy.range.end<copy.range.start&&(copy.range.end=getDefaultEventEnd(eventDef.allDay,copy.range.start,context)),copy}var ViewApi=function(){function ViewApi(type,getCurrentData,dateEnv){this.type=type,this.getCurrentData=getCurrentData,this.dateEnv=dateEnv}return Object.defineProperty(ViewApi.prototype,"calendar",{get:function(){return this.getCurrentData().calendarApi},enumerable:!1,configurable:!0}),Object.defineProperty(ViewApi.prototype,"title",{get:function(){return this.getCurrentData().viewTitle},enumerable:!1,configurable:!0}),Object.defineProperty(ViewApi.prototype,"activeStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(ViewApi.prototype,"activeEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)},enumerable:!1,configurable:!0}),Object.defineProperty(ViewApi.prototype,"currentStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(ViewApi.prototype,"currentEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)},enumerable:!1,configurable:!0}),ViewApi.prototype.getOption=function(name){return this.getCurrentData().options[name]},ViewApi}(),EVENT_SOURCE_REFINERS={id:String,defaultAllDay:Boolean,url:String,format:String,events:identity,eventDataTransform:identity,success:identity,failure:identity};function parseEventSource(raw,context,refiners){var rawObj;if(void 0===refiners&&(refiners=buildEventSourceRefiners(context)),"string"==typeof raw?rawObj={url:raw}:"function"==typeof raw||Array.isArray(raw)?rawObj={events:raw}:"object"==typeof raw&&raw&&(rawObj=raw),rawObj){var _a=refineProps(rawObj,refiners),refined=_a.refined,extra=_a.extra,metaRes=buildEventSourceMeta(refined,context);if(metaRes)return{_raw:raw,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:refined.defaultAllDay,eventDataTransform:refined.eventDataTransform,success:refined.success,failure:refined.failure,publicId:refined.id||"",sourceId:guid(),sourceDefId:metaRes.sourceDefId,meta:metaRes.meta,ui:createEventUi(refined,context),extendedProps:extra}}return null}function buildEventSourceRefiners(context){return __assign(__assign(__assign({},EVENT_UI_REFINERS),EVENT_SOURCE_REFINERS),context.pluginHooks.eventSourceRefiners)}function buildEventSourceMeta(raw,context){for(var defs=context.pluginHooks.eventSourceDefs,i=defs.length-1;i>=0;i-=1){var def,meta=defs[i].parseMeta(raw);if(meta)return{sourceDefId:i,meta:meta}}return null}function reduceCurrentDate(currentDate,action){switch(action.type){case"CHANGE_DATE":return action.dateMarker;default:return currentDate}}function getInitialDate(options,dateEnv){var initialDateInput=options.initialDate;return null!=initialDateInput?dateEnv.createMarker(initialDateInput):getNow(options.now,dateEnv)}function getNow(nowInput,dateEnv){return"function"==typeof nowInput&&(nowInput=nowInput()),null==nowInput?dateEnv.createNowMarker():dateEnv.createMarker(nowInput)}var CalendarApi=function(){function CalendarApi(){}return CalendarApi.prototype.getCurrentData=function(){return this.currentDataManager.getCurrentData()},CalendarApi.prototype.dispatch=function(action){return this.currentDataManager.dispatch(action)},Object.defineProperty(CalendarApi.prototype,"view",{get:function(){return this.getCurrentData().viewApi},enumerable:!1,configurable:!0}),CalendarApi.prototype.batchRendering=function(callback){callback()},CalendarApi.prototype.updateSize=function(){this.trigger("_resize",!0)},CalendarApi.prototype.setOption=function(name,val){this.dispatch({type:"SET_OPTION",optionName:name,rawOptionValue:val})},CalendarApi.prototype.getOption=function(name){return this.currentDataManager.currentCalendarOptionsInput[name]},CalendarApi.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.getCurrentData().availableRawLocales)},CalendarApi.prototype.on=function(handlerName,handler){var currentDataManager=this.currentDataManager;currentDataManager.currentCalendarOptionsRefiners[handlerName]?currentDataManager.emitter.on(handlerName,handler):console.warn("Unknown listener name '"+handlerName+"'")},CalendarApi.prototype.off=function(handlerName,handler){this.currentDataManager.emitter.off(handlerName,handler)},CalendarApi.prototype.trigger=function(handlerName){for(var _a,args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];(_a=this.currentDataManager.emitter).trigger.apply(_a,__spreadArrays([handlerName],args))},CalendarApi.prototype.changeView=function(viewType,dateOrRange){var _this=this;this.batchRendering((function(){if(_this.unselect(),dateOrRange)if(dateOrRange.start&&dateOrRange.end)_this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:viewType}),_this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:dateOrRange});else{var dateEnv=_this.getCurrentData().dateEnv;_this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:viewType,dateMarker:dateEnv.createMarker(dateOrRange)})}else _this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:viewType})}))},CalendarApi.prototype.zoomTo=function(dateMarker,viewType){var state,spec;viewType=viewType||"day",spec=this.getCurrentData().viewSpecs[viewType]||this.getUnitViewSpec(viewType),this.unselect(),spec?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:spec.type,dateMarker:dateMarker}):this.dispatch({type:"CHANGE_DATE",dateMarker:dateMarker})},CalendarApi.prototype.getUnitViewSpec=function(unit){var _a=this.getCurrentData(),viewSpecs=_a.viewSpecs,toolbarConfig=_a.toolbarConfig,viewTypes=[].concat(toolbarConfig.viewsWithButtons),i,spec;for(var viewType in viewSpecs)viewTypes.push(viewType);for(i=0;i<viewTypes.length;i+=1)if((spec=viewSpecs[viewTypes[i]])&&spec.singleUnit===unit)return spec;return null},CalendarApi.prototype.prev=function(){this.unselect(),this.dispatch({type:"PREV"})},CalendarApi.prototype.next=function(){this.unselect(),this.dispatch({type:"NEXT"})},CalendarApi.prototype.prevYear=function(){var state=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:state.dateEnv.addYears(state.currentDate,-1)})},CalendarApi.prototype.nextYear=function(){var state=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:state.dateEnv.addYears(state.currentDate,1)})},CalendarApi.prototype.today=function(){var state=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:getNow(state.calendarOptions.now,state.dateEnv)})},CalendarApi.prototype.gotoDate=function(zonedDateInput){var state=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:state.dateEnv.createMarker(zonedDateInput)})},CalendarApi.prototype.incrementDate=function(deltaInput){var state=this.getCurrentData(),delta=createDuration(deltaInput);delta&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:state.dateEnv.add(state.currentDate,delta)}))},CalendarApi.prototype.getDate=function(){var state=this.getCurrentData();return state.dateEnv.toDate(state.currentDate)},CalendarApi.prototype.formatDate=function(d,formatter){var dateEnv=this.getCurrentData().dateEnv;return dateEnv.format(dateEnv.createMarker(d),createFormatter(formatter))},CalendarApi.prototype.formatRange=function(d0,d1,settings){var dateEnv=this.getCurrentData().dateEnv;return dateEnv.formatRange(dateEnv.createMarker(d0),dateEnv.createMarker(d1),createFormatter(settings),settings)},CalendarApi.prototype.formatIso=function(d,omitTime){var dateEnv=this.getCurrentData().dateEnv;return dateEnv.formatIso(dateEnv.createMarker(d),{omitTime:omitTime})},CalendarApi.prototype.select=function(dateOrObj,endDate){var selectionInput;selectionInput=null==endDate?null!=dateOrObj.start?dateOrObj:{start:dateOrObj,end:null}:{start:dateOrObj,end:endDate};var state=this.getCurrentData(),selection=parseDateSpan(selectionInput,state.dateEnv,createDuration({days:1}));selection&&(this.dispatch({type:"SELECT_DATES",selection:selection}),triggerDateSelect(selection,null,state))},CalendarApi.prototype.unselect=function(pev){var state=this.getCurrentData();state.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),triggerDateUnselect(pev,state))},CalendarApi.prototype.addEvent=function(eventInput,sourceInput){if(eventInput instanceof EventApi){var def=eventInput._def,instance=eventInput._instance,currentData;return this.getCurrentData().eventStore.defs[def.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:eventTupleToStore({def:def,instance:instance})}),this.triggerEventAdd(eventInput)),eventInput}var state=this.getCurrentData(),eventSource;if(sourceInput instanceof EventSourceApi)eventSource=sourceInput.internalEventSource;else if("boolean"==typeof sourceInput)sourceInput&&(eventSource=hashValuesToArray(state.eventSources)[0]);else if(null!=sourceInput){var sourceApi=this.getEventSourceById(sourceInput);if(!sourceApi)return console.warn('Could not find an event source with ID "'+sourceInput+'"'),null;eventSource=sourceApi.internalEventSource}var tuple=parseEvent(eventInput,eventSource,state,!1);if(tuple){var newEventApi=new EventApi(state,tuple.def,tuple.def.recurringDef?null:tuple.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:eventTupleToStore(tuple)}),this.triggerEventAdd(newEventApi),newEventApi}return null},CalendarApi.prototype.triggerEventAdd=function(eventApi){var _this=this,emitter;this.getCurrentData().emitter.trigger("eventAdd",{event:eventApi,relatedEvents:[],revert:function(){_this.dispatch({type:"REMOVE_EVENTS",eventStore:eventApiToStore(eventApi)})}})},CalendarApi.prototype.getEventById=function(id){var state=this.getCurrentData(),_a=state.eventStore,defs=_a.defs,instances=_a.instances;for(var defId in id=String(id),defs){var def=defs[defId];if(def.publicId===id){if(def.recurringDef)return new EventApi(state,def,null);for(var instanceId in instances){var instance=instances[instanceId];if(instance.defId===def.defId)return new EventApi(state,def,instance)}}}return null},CalendarApi.prototype.getEvents=function(){var currentData=this.getCurrentData();return buildEventApis(currentData.eventStore,currentData)},CalendarApi.prototype.removeAllEvents=function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})},CalendarApi.prototype.getEventSources=function(){var state=this.getCurrentData(),sourceHash=state.eventSources,sourceApis=[];for(var internalId in sourceHash)sourceApis.push(new EventSourceApi(state,sourceHash[internalId]));return sourceApis},CalendarApi.prototype.getEventSourceById=function(id){var state=this.getCurrentData(),sourceHash=state.eventSources;for(var sourceId in id=String(id),sourceHash)if(sourceHash[sourceId].publicId===id)return new EventSourceApi(state,sourceHash[sourceId]);return null},CalendarApi.prototype.addEventSource=function(sourceInput){var state=this.getCurrentData();if(sourceInput instanceof EventSourceApi)return state.eventSources[sourceInput.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[sourceInput.internalEventSource]}),sourceInput;var eventSource=parseEventSource(sourceInput,state);return eventSource?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[eventSource]}),new EventSourceApi(state,eventSource)):null},CalendarApi.prototype.removeAllEventSources=function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})},CalendarApi.prototype.refetchEvents=function(){this.dispatch({type:"FETCH_EVENT_SOURCES"})},CalendarApi.prototype.scrollToTime=function(timeInput){var time=createDuration(timeInput);time&&this.trigger("_scrollRequest",{time:time})},CalendarApi}(),EventApi=function(){function EventApi(context,def,instance){this._context=context,this._def=def,this._instance=instance||null}return EventApi.prototype.setProp=function(name,val){var _a,_b;if(name in EVENT_DATE_REFINERS)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(name in EVENT_NON_DATE_REFINERS)val=EVENT_NON_DATE_REFINERS[name](val),this.mutate({standardProps:(_a={},_a[name]=val,_a)});else if(name in EVENT_UI_REFINERS){var ui=EVENT_UI_REFINERS[name](val);"color"===name?ui={backgroundColor:val,borderColor:val}:"editable"===name?ui={startEditable:val,durationEditable:val}:((_b={})[name]=val,ui=_b),this.mutate({standardProps:{ui:ui}})}else console.warn("Could not set prop '"+name+"'. Use setExtendedProp instead.")},EventApi.prototype.setExtendedProp=function(name,val){var _a;this.mutate({extendedProps:(_a={},_a[name]=val,_a)})},EventApi.prototype.setStart=function(startInput,options){void 0===options&&(options={});var dateEnv=this._context.dateEnv,start=dateEnv.createMarker(startInput);if(start&&this._instance){var instanceRange,startDelta=diffDates(this._instance.range.start,start,dateEnv,options.granularity);options.maintainDuration?this.mutate({datesDelta:startDelta}):this.mutate({startDelta:startDelta})}},EventApi.prototype.setEnd=function(endInput,options){void 0===options&&(options={});var dateEnv=this._context.dateEnv,end;if((null==endInput||(end=dateEnv.createMarker(endInput)))&&this._instance)if(end){var endDelta=diffDates(this._instance.range.end,end,dateEnv,options.granularity);this.mutate({endDelta:endDelta})}else this.mutate({standardProps:{hasEnd:!1}})},EventApi.prototype.setDates=function(startInput,endInput,options){void 0===options&&(options={});var dateEnv=this._context.dateEnv,standardProps={allDay:options.allDay},start=dateEnv.createMarker(startInput),end;if(start&&(null==endInput||(end=dateEnv.createMarker(endInput)))&&this._instance){var instanceRange=this._instance.range;!0===options.allDay&&(instanceRange=computeAlignedDayRange(instanceRange));var startDelta=diffDates(instanceRange.start,start,dateEnv,options.granularity);if(end){var endDelta=diffDates(instanceRange.end,end,dateEnv,options.granularity);durationsEqual(startDelta,endDelta)?this.mutate({datesDelta:startDelta,standardProps:standardProps}):this.mutate({startDelta:startDelta,endDelta:endDelta,standardProps:standardProps})}else standardProps.hasEnd=!1,this.mutate({datesDelta:startDelta,standardProps:standardProps})}},EventApi.prototype.moveStart=function(deltaInput){var delta=createDuration(deltaInput);delta&&this.mutate({startDelta:delta})},EventApi.prototype.moveEnd=function(deltaInput){var delta=createDuration(deltaInput);delta&&this.mutate({endDelta:delta})},EventApi.prototype.moveDates=function(deltaInput){var delta=createDuration(deltaInput);delta&&this.mutate({datesDelta:delta})},EventApi.prototype.setAllDay=function(allDay,options){void 0===options&&(options={});var standardProps={allDay:allDay},maintainDuration=options.maintainDuration;null==maintainDuration&&(maintainDuration=this._context.options.allDayMaintainDuration),this._def.allDay!==allDay&&(standardProps.hasEnd=maintainDuration),this.mutate({standardProps:standardProps})},EventApi.prototype.formatRange=function(formatInput){var dateEnv=this._context.dateEnv,instance=this._instance,formatter=createFormatter(formatInput);return this._def.hasEnd?dateEnv.formatRange(instance.range.start,instance.range.end,formatter,{forcedStartTzo:instance.forcedStartTzo,forcedEndTzo:instance.forcedEndTzo}):dateEnv.format(instance.range.start,formatter,{forcedTzo:instance.forcedStartTzo})},EventApi.prototype.mutate=function(mutation){var instance=this._instance;if(instance){var def=this._def,context_1=this._context,eventStore_1=context_1.getCurrentData().eventStore,relevantEvents=getRelevantEvents(eventStore_1,instance.instanceId),eventConfigBase;relevantEvents=applyMutationToEventStore(relevantEvents,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},mutation,context_1);var oldEvent=new EventApi(context_1,def,instance);this._def=relevantEvents.defs[def.defId],this._instance=relevantEvents.instances[instance.instanceId],context_1.dispatch({type:"MERGE_EVENTS",eventStore:relevantEvents}),context_1.emitter.trigger("eventChange",{oldEvent:oldEvent,event:this,relatedEvents:buildEventApis(relevantEvents,context_1,instance),revert:function(){context_1.dispatch({type:"RESET_EVENTS",eventStore:eventStore_1})}})}},EventApi.prototype.remove=function(){var context=this._context,asStore=eventApiToStore(this);context.dispatch({type:"REMOVE_EVENTS",eventStore:asStore}),context.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert:function(){context.dispatch({type:"MERGE_EVENTS",eventStore:asStore})}})},Object.defineProperty(EventApi.prototype,"source",{get:function(){var sourceId=this._def.sourceId;return sourceId?new EventSourceApi(this._context,this._context.getCurrentData().eventSources[sourceId]):null},enumerable:!1,configurable:!0}),Object.defineProperty(EventApi.prototype,"start",{get:function(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null},enumerable:!1,configurable:!0}),Object.defineProperty(EventApi.prototype,"end",{get:function(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null},enumerable:!1,configurable:!0}),Object.defineProperty(EventApi.prototype,"startStr",{get:function(){var instance=this._instance;return instance?this._context.dateEnv.formatIso(instance.range.start,{omitTime:this._def.allDay,forcedTzo:instance.forcedStartTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(EventApi.prototype,"endStr",{get:function(){var instance=this._instance;return instance&&this._def.hasEnd?this._context.dateEnv.formatIso(instance.range.end,{omitTime:this._def.allDay,forcedTzo:instance.forcedEndTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(EventApi.prototype,"id",{get:function(){return this._def.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(EventApi.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!1,configurable:!0}),Object.defineProperty(EventApi.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!1,configurable:!0}),Object.defineProperty(EventApi.prototype,"title",{get:function(){return this._def.title},enumerable:!1,configurable:!0}),Object.defineProperty(EventApi.prototype,"url",{get:function(){return this._def.url},enumerable:!1,configurable:!0}),Object.defineProperty(EventApi.prototype,"display",{get:function(){return this._def.ui.display||"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(EventApi.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!1,configurable:!0}),Object.defineProperty(EventApi.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!1,configurable:!0}),Object.defineProperty(EventApi.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(EventApi.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!1,configurable:!0}),Object.defineProperty(EventApi.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(EventApi.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(EventApi.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(EventApi.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!1,configurable:!0}),Object.defineProperty(EventApi.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!1,configurable:!0}),Object.defineProperty(EventApi.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!1,configurable:!0}),EventApi.prototype.toPlainObject=function(settings){void 0===settings&&(settings={});var def=this._def,ui=def.ui,_a=this,startStr=_a.startStr,endStr=_a.endStr,res={};return def.title&&(res.title=def.title),startStr&&(res.start=startStr),endStr&&(res.end=endStr),def.publicId&&(res.id=def.publicId),def.groupId&&(res.groupId=def.groupId),def.url&&(res.url=def.url),ui.display&&"auto"!==ui.display&&(res.display=ui.display),settings.collapseColor&&ui.backgroundColor&&ui.backgroundColor===ui.borderColor?res.color=ui.backgroundColor:(ui.backgroundColor&&(res.backgroundColor=ui.backgroundColor),ui.borderColor&&(res.borderColor=ui.borderColor)),ui.textColor&&(res.textColor=ui.textColor),ui.classNames.length&&(res.classNames=ui.classNames),Object.keys(def.extendedProps).length&&(settings.collapseExtendedProps?__assign(res,def.extendedProps):res.extendedProps=def.extendedProps),res},EventApi.prototype.toJSON=function(){return this.toPlainObject()},EventApi}();function eventApiToStore(eventApi){var _a,_b,def=eventApi._def,instance=eventApi._instance;return{defs:(_a={},_a[def.defId]=def,_a),instances:instance?(_b={},_b[instance.instanceId]=instance,_b):{}}}function buildEventApis(eventStore,context,excludeInstance){var defs=eventStore.defs,instances=eventStore.instances,eventApis=[],excludeInstanceId=excludeInstance?excludeInstance.instanceId:"";for(var id in instances){var instance=instances[id],def=defs[instance.defId];instance.instanceId!==excludeInstanceId&&eventApis.push(new EventApi(context,def,instance))}return eventApis}var calendarSystemClassMap={},GregorianCalendarSystem;function registerCalendarSystem(name,theClass){calendarSystemClassMap[name]=theClass}function createCalendarSystem(name){return new calendarSystemClassMap[name]}registerCalendarSystem("gregory",function(){function GregorianCalendarSystem(){}return GregorianCalendarSystem.prototype.getMarkerYear=function(d){return d.getUTCFullYear()},GregorianCalendarSystem.prototype.getMarkerMonth=function(d){return d.getUTCMonth()},GregorianCalendarSystem.prototype.getMarkerDay=function(d){return d.getUTCDate()},GregorianCalendarSystem.prototype.arrayToMarker=function(arr){return arrayToUtcDate(arr)},GregorianCalendarSystem.prototype.markerToArray=function(marker){return dateToUtcArray(marker)},GregorianCalendarSystem}());var ISO_RE=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function parse(str){var m=ISO_RE.exec(str);if(m){var marker=new Date(Date.UTC(Number(m[1]),m[3]?Number(m[3])-1:0,Number(m[5]||1),Number(m[7]||0),Number(m[8]||0),Number(m[10]||0),m[12]?1e3*Number("0."+m[12]):0));if(isValidDate(marker)){var timeZoneOffset=null;return m[13]&&(timeZoneOffset=("-"===m[15]?-1:1)*(60*Number(m[16]||0)+Number(m[18]||0))),{marker:marker,isTimeUnspecified:!m[6],timeZoneOffset:timeZoneOffset}}}return null}var DateEnv=function(){function DateEnv(settings){var timeZone=this.timeZone=settings.timeZone,isNamedTimeZone="local"!==timeZone&&"UTC"!==timeZone;settings.namedTimeZoneImpl&&isNamedTimeZone&&(this.namedTimeZoneImpl=new settings.namedTimeZoneImpl(timeZone)),this.canComputeOffset=Boolean(!isNamedTimeZone||this.namedTimeZoneImpl),this.calendarSystem=createCalendarSystem(settings.calendarSystem),this.locale=settings.locale,this.weekDow=settings.locale.week.dow,this.weekDoy=settings.locale.week.doy,"ISO"===settings.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof settings.firstDay&&(this.weekDow=settings.firstDay),"function"==typeof settings.weekNumberCalculation&&(this.weekNumberFunc=settings.weekNumberCalculation),this.weekText=null!=settings.weekText?settings.weekText:settings.locale.options.weekText,this.cmdFormatter=settings.cmdFormatter,this.defaultSeparator=settings.defaultSeparator}return DateEnv.prototype.createMarker=function(input){var meta=this.createMarkerMeta(input);return null===meta?null:meta.marker},DateEnv.prototype.createNowMarker=function(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):arrayToUtcDate(dateToLocalArray(new Date))},DateEnv.prototype.createMarkerMeta=function(input){if("string"==typeof input)return this.parse(input);var marker=null;return"number"==typeof input?marker=this.timestampToMarker(input):input instanceof Date?(input=input.valueOf(),isNaN(input)||(marker=this.timestampToMarker(input))):Array.isArray(input)&&(marker=arrayToUtcDate(input)),null!==marker&&isValidDate(marker)?{marker:marker,isTimeUnspecified:!1,forcedTzo:null}:null},DateEnv.prototype.parse=function(s){var parts=parse(s);if(null===parts)return null;var marker=parts.marker,forcedTzo=null;return null!==parts.timeZoneOffset&&(this.canComputeOffset?marker=this.timestampToMarker(marker.valueOf()-60*parts.timeZoneOffset*1e3):forcedTzo=parts.timeZoneOffset),{marker:marker,isTimeUnspecified:parts.isTimeUnspecified,forcedTzo:forcedTzo}},DateEnv.prototype.getYear=function(marker){return this.calendarSystem.getMarkerYear(marker)},DateEnv.prototype.getMonth=function(marker){return this.calendarSystem.getMarkerMonth(marker)},DateEnv.prototype.add=function(marker,dur){var a=this.calendarSystem.markerToArray(marker);return a[0]+=dur.years,a[1]+=dur.months,a[2]+=dur.days,a[6]+=dur.milliseconds,this.calendarSystem.arrayToMarker(a)},DateEnv.prototype.subtract=function(marker,dur){var a=this.calendarSystem.markerToArray(marker);return a[0]-=dur.years,a[1]-=dur.months,a[2]-=dur.days,a[6]-=dur.milliseconds,this.calendarSystem.arrayToMarker(a)},DateEnv.prototype.addYears=function(marker,n){var a=this.calendarSystem.markerToArray(marker);return a[0]+=n,this.calendarSystem.arrayToMarker(a)},DateEnv.prototype.addMonths=function(marker,n){var a=this.calendarSystem.markerToArray(marker);return a[1]+=n,this.calendarSystem.arrayToMarker(a)},DateEnv.prototype.diffWholeYears=function(m0,m1){var calendarSystem=this.calendarSystem;return timeAsMs(m0)===timeAsMs(m1)&&calendarSystem.getMarkerDay(m0)===calendarSystem.getMarkerDay(m1)&&calendarSystem.getMarkerMonth(m0)===calendarSystem.getMarkerMonth(m1)?calendarSystem.getMarkerYear(m1)-calendarSystem.getMarkerYear(m0):null},DateEnv.prototype.diffWholeMonths=function(m0,m1){var calendarSystem=this.calendarSystem;return timeAsMs(m0)===timeAsMs(m1)&&calendarSystem.getMarkerDay(m0)===calendarSystem.getMarkerDay(m1)?calendarSystem.getMarkerMonth(m1)-calendarSystem.getMarkerMonth(m0)+12*(calendarSystem.getMarkerYear(m1)-calendarSystem.getMarkerYear(m0)):null},DateEnv.prototype.greatestWholeUnit=function(m0,m1){var n=this.diffWholeYears(m0,m1);return null!==n?{unit:"year",value:n}:null!==(n=this.diffWholeMonths(m0,m1))?{unit:"month",value:n}:null!==(n=diffWholeWeeks(m0,m1))?{unit:"week",value:n}:null!==(n=diffWholeDays(m0,m1))?{unit:"day",value:n}:isInt(n=diffHours(m0,m1))?{unit:"hour",value:n}:isInt(n=diffMinutes(m0,m1))?{unit:"minute",value:n}:isInt(n=diffSeconds(m0,m1))?{unit:"second",value:n}:{unit:"millisecond",value:m1.valueOf()-m0.valueOf()}},DateEnv.prototype.countDurationsBetween=function(m0,m1,d){var diff;return d.years&&null!==(diff=this.diffWholeYears(m0,m1))?diff/asRoughYears(d):d.months&&null!==(diff=this.diffWholeMonths(m0,m1))?diff/asRoughMonths(d):d.days&&null!==(diff=diffWholeDays(m0,m1))?diff/asRoughDays(d):(m1.valueOf()-m0.valueOf())/asRoughMs(d)},DateEnv.prototype.startOf=function(m,unit){return"year"===unit?this.startOfYear(m):"month"===unit?this.startOfMonth(m):"week"===unit?this.startOfWeek(m):"day"===unit?startOfDay(m):"hour"===unit?startOfHour(m):"minute"===unit?startOfMinute(m):"second"===unit?startOfSecond(m):null},DateEnv.prototype.startOfYear=function(m){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(m)])},DateEnv.prototype.startOfMonth=function(m){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(m),this.calendarSystem.getMarkerMonth(m)])},DateEnv.prototype.startOfWeek=function(m){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(m),this.calendarSystem.getMarkerMonth(m),m.getUTCDate()-(m.getUTCDay()-this.weekDow+7)%7])},DateEnv.prototype.computeWeekNumber=function(marker){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(marker)):weekOfYear(marker,this.weekDow,this.weekDoy)},DateEnv.prototype.format=function(marker,formatter,dateOptions){return void 0===dateOptions&&(dateOptions={}),formatter.format({marker:marker,timeZoneOffset:null!=dateOptions.forcedTzo?dateOptions.forcedTzo:this.offsetForMarker(marker)},this)},DateEnv.prototype.formatRange=function(start,end,formatter,dateOptions){return void 0===dateOptions&&(dateOptions={}),dateOptions.isEndExclusive&&(end=addMs(end,-1)),formatter.formatRange({marker:start,timeZoneOffset:null!=dateOptions.forcedStartTzo?dateOptions.forcedStartTzo:this.offsetForMarker(start)},{marker:end,timeZoneOffset:null!=dateOptions.forcedEndTzo?dateOptions.forcedEndTzo:this.offsetForMarker(end)},this,dateOptions.defaultSeparator)},DateEnv.prototype.formatIso=function(marker,extraOptions){void 0===extraOptions&&(extraOptions={});var timeZoneOffset=null;return extraOptions.omitTimeZoneOffset||(timeZoneOffset=null!=extraOptions.forcedTzo?extraOptions.forcedTzo:this.offsetForMarker(marker)),buildIsoString(marker,timeZoneOffset,extraOptions.omitTime)},DateEnv.prototype.timestampToMarker=function(ms){return"local"===this.timeZone?arrayToUtcDate(dateToLocalArray(new Date(ms))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms)):new Date(ms)},DateEnv.prototype.offsetForMarker=function(m){return"local"===this.timeZone?-arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)):null},DateEnv.prototype.toDate=function(m,forcedTzo){return"local"===this.timeZone?arrayToLocalDate(dateToUtcArray(m)):"UTC"===this.timeZone?new Date(m.valueOf()):this.namedTimeZoneImpl?new Date(m.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m))*60):new Date(m.valueOf()-(forcedTzo||0))},DateEnv}(),globalLocales=[],RAW_EN_LOCALE={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"};function organizeRawLocales(explicitRawLocales){for(var defaultCode=explicitRawLocales.length>0?explicitRawLocales[0].code:"en",allRawLocales=globalLocales.concat(explicitRawLocales),rawLocaleMap={en:RAW_EN_LOCALE},_i=0,allRawLocales_1=allRawLocales;_i<allRawLocales_1.length;_i++){var rawLocale=allRawLocales_1[_i];rawLocaleMap[rawLocale.code]=rawLocale}return{map:rawLocaleMap,defaultCode:defaultCode}}function buildLocale(inputSingular,available){return"object"!=typeof inputSingular||Array.isArray(inputSingular)?queryLocale(inputSingular,available):parseLocale(inputSingular.code,[inputSingular.code],inputSingular)}function queryLocale(codeArg,available){var codes=[].concat(codeArg||[]),raw;return parseLocale(codeArg,codes,queryRawLocale(codes,available)||RAW_EN_LOCALE)}function queryRawLocale(codes,available){for(var i=0;i<codes.length;i+=1)for(var parts=codes[i].toLocaleLowerCase().split("-"),j=parts.length;j>0;j-=1){var simpleId=parts.slice(0,j).join("-");if(available[simpleId])return available[simpleId]}return null}function parseLocale(codeArg,codes,raw){var merged=mergeProps([RAW_EN_LOCALE,raw],["buttonText"]);delete merged.code;var week=merged.week;return delete merged.week,{codeArg:codeArg,codes:codes,week:week,simpleNumberFormat:new Intl.NumberFormat(codeArg),options:merged}}function formatDate(dateInput,options){void 0===options&&(options={});var dateEnv=buildDateEnv(options),formatter=createFormatter(options),dateMeta=dateEnv.createMarkerMeta(dateInput);return dateMeta?dateEnv.format(dateMeta.marker,formatter,{forcedTzo:dateMeta.forcedTzo}):""}function formatRange(startInput,endInput,options){var dateEnv=buildDateEnv("object"==typeof options&&options?options:{}),formatter=createFormatter(options),startMeta=dateEnv.createMarkerMeta(startInput),endMeta=dateEnv.createMarkerMeta(endInput);return startMeta&&endMeta?dateEnv.formatRange(startMeta.marker,endMeta.marker,formatter,{forcedStartTzo:startMeta.forcedTzo,forcedEndTzo:endMeta.forcedTzo,isEndExclusive:options.isEndExclusive,defaultSeparator:BASE_OPTION_DEFAULTS.defaultRangeSeparator}):""}function buildDateEnv(settings){var locale=buildLocale(settings.locale||"en",organizeRawLocales([]).map);return new DateEnv(__assign(__assign({timeZone:BASE_OPTION_DEFAULTS.timeZone,calendarSystem:"gregory"},settings),{locale:locale}))}var DEF_DEFAULTS={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"},canVGrowWithinCell;function parseBusinessHours(input,context){return parseEvents(refineInputs(input),null,context)}function refineInputs(input){var rawDefs;return rawDefs=(rawDefs=!0===input?[{}]:Array.isArray(input)?input.filter((function(rawDef){return rawDef.daysOfWeek})):"object"==typeof input&&input?[input]:[]).map((function(rawDef){return __assign(__assign({},DEF_DEFAULTS),rawDef)}))}function pointInsideRect(point,rect){return point.left>=rect.left&&point.left<rect.right&&point.top>=rect.top&&point.top<rect.bottom}function intersectRects(rect1,rect2){var res={left:Math.max(rect1.left,rect2.left),right:Math.min(rect1.right,rect2.right),top:Math.max(rect1.top,rect2.top),bottom:Math.min(rect1.bottom,rect2.bottom)};return res.left<res.right&&res.top<res.bottom&&res}function translateRect(rect,deltaX,deltaY){return{left:rect.left+deltaX,right:rect.right+deltaX,top:rect.top+deltaY,bottom:rect.bottom+deltaY}}function constrainPoint(point,rect){return{left:Math.min(Math.max(point.left,rect.left),rect.right),top:Math.min(Math.max(point.top,rect.top),rect.bottom)}}function getRectCenter(rect){return{left:(rect.left+rect.right)/2,top:(rect.top+rect.bottom)/2}}function diffPoints(point1,point2){return{left:point1.left-point2.left,top:point1.top-point2.top}}function getCanVGrowWithinCell(){return null==canVGrowWithinCell&&(canVGrowWithinCell=computeCanVGrowWithinCell()),canVGrowWithinCell}function computeCanVGrowWithinCell(){if("undefined"==typeof document)return!0;var el=document.createElement("div");el.style.position="absolute",el.style.top="0px",el.style.left="0px",el.innerHTML="<table><tr><td><div></div></td></tr></table>",el.querySelector("table").style.height="100px",el.querySelector("div").style.height="100%",document.body.appendChild(el);var div,possible=el.querySelector("div").offsetHeight>0;return document.body.removeChild(el),possible}var EMPTY_EVENT_STORE={defs:{},instances:{}},Splitter=function(){function Splitter(){this.getKeysForEventDefs=memoize(this._getKeysForEventDefs),this.splitDateSelection=memoize(this._splitDateSpan),this.splitEventStore=memoize(this._splitEventStore),this.splitIndividualUi=memoize(this._splitIndividualUi),this.splitEventDrag=memoize(this._splitInteraction),this.splitEventResize=memoize(this._splitInteraction),this.eventUiBuilders={}}return Splitter.prototype.splitProps=function(props){var _this=this,keyInfos=this.getKeyInfo(props),defKeys=this.getKeysForEventDefs(props.eventStore),dateSelections=this.splitDateSelection(props.dateSelection),individualUi=this.splitIndividualUi(props.eventUiBases,defKeys),eventStores=this.splitEventStore(props.eventStore,defKeys),eventDrags=this.splitEventDrag(props.eventDrag),eventResizes=this.splitEventResize(props.eventResize),splitProps={};for(var key in this.eventUiBuilders=mapHash(keyInfos,(function(info,key){return _this.eventUiBuilders[key]||memoize(buildEventUiForKey)})),keyInfos){var keyInfo=keyInfos[key],eventStore=eventStores[key]||EMPTY_EVENT_STORE,buildEventUi=this.eventUiBuilders[key];splitProps[key]={businessHours:keyInfo.businessHours||props.businessHours,dateSelection:dateSelections[key]||null,eventStore:eventStore,eventUiBases:buildEventUi(props.eventUiBases[""],keyInfo.ui,individualUi[key]),eventSelection:eventStore.instances[props.eventSelection]?props.eventSelection:"",eventDrag:eventDrags[key]||null,eventResize:eventResizes[key]||null}}return splitProps},Splitter.prototype._splitDateSpan=function(dateSpan){var dateSpans={};if(dateSpan)for(var keys,_i=0,keys_1=this.getKeysForDateSpan(dateSpan);_i<keys_1.length;_i++){var key;dateSpans[keys_1[_i]]=dateSpan}return dateSpans},Splitter.prototype._getKeysForEventDefs=function(eventStore){var _this=this;return mapHash(eventStore.defs,(function(eventDef){return _this.getKeysForEventDef(eventDef)}))},Splitter.prototype._splitEventStore=function(eventStore,defKeys){var defs=eventStore.defs,instances=eventStore.instances,splitStores={};for(var defId in defs)for(var _i=0,_a=defKeys[defId];_i<_a.length;_i++){var key;splitStores[key=_a[_i]]||(splitStores[key]={defs:{},instances:{}}),splitStores[key].defs[defId]=defs[defId]}for(var instanceId in instances)for(var instance=instances[instanceId],_b=0,_c=defKeys[instance.defId];_b<_c.length;_b++){var key;splitStores[key=_c[_b]]&&(splitStores[key].instances[instanceId]=instance)}return splitStores},Splitter.prototype._splitIndividualUi=function(eventUiBases,defKeys){var splitHashes={};for(var defId in eventUiBases)if(defId)for(var _i=0,_a=defKeys[defId];_i<_a.length;_i++){var key=_a[_i];splitHashes[key]||(splitHashes[key]={}),splitHashes[key][defId]=eventUiBases[defId]}return splitHashes},Splitter.prototype._splitInteraction=function(interaction){var splitStates={};if(interaction){var affectedStores_1=this._splitEventStore(interaction.affectedEvents,this._getKeysForEventDefs(interaction.affectedEvents)),mutatedKeysByDefId=this._getKeysForEventDefs(interaction.mutatedEvents),mutatedStores_1=this._splitEventStore(interaction.mutatedEvents,mutatedKeysByDefId),populate=function(key){splitStates[key]||(splitStates[key]={affectedEvents:affectedStores_1[key]||EMPTY_EVENT_STORE,mutatedEvents:mutatedStores_1[key]||EMPTY_EVENT_STORE,isEvent:interaction.isEvent})};for(var key in affectedStores_1)populate(key);for(var key in mutatedStores_1)populate(key)}return splitStates},Splitter}();function buildEventUiForKey(allUi,eventUiForKey,individualUi){var baseParts=[];allUi&&baseParts.push(allUi),eventUiForKey&&baseParts.push(eventUiForKey);var stuff={"":combineEventUis(baseParts)};return individualUi&&__assign(stuff,individualUi),stuff}function getDateMeta(date,todayRange,nowDate,dateProfile){return{dow:date.getUTCDay(),isDisabled:Boolean(dateProfile&&!rangeContainsMarker(dateProfile.activeRange,date)),isOther:Boolean(dateProfile&&!rangeContainsMarker(dateProfile.currentRange,date)),isToday:Boolean(todayRange&&rangeContainsMarker(todayRange,date)),isPast:Boolean(nowDate?date<nowDate:!!todayRange&&date<todayRange.start),isFuture:Boolean(nowDate?date>nowDate:!!todayRange&&date>=todayRange.end)}}function getDayClassNames(meta,theme){var classNames=["fc-day","fc-day-"+DAY_IDS[meta.dow]];return meta.isDisabled?classNames.push("fc-day-disabled"):(meta.isToday&&(classNames.push("fc-day-today"),classNames.push(theme.getClass("today"))),meta.isPast&&classNames.push("fc-day-past"),meta.isFuture&&classNames.push("fc-day-future"),meta.isOther&&classNames.push("fc-day-other")),classNames}function getSlotClassNames(meta,theme){var classNames=["fc-slot","fc-slot-"+DAY_IDS[meta.dow]];return meta.isDisabled?classNames.push("fc-slot-disabled"):(meta.isToday&&(classNames.push("fc-slot-today"),classNames.push(theme.getClass("today"))),meta.isPast&&classNames.push("fc-slot-past"),meta.isFuture&&classNames.push("fc-slot-future")),classNames}function buildNavLinkData(date,type){return void 0===type&&(type="day"),JSON.stringify({date:formatDayString(date),type:type})}var _isRtlScrollbarOnLeft=null,_scrollbarWidths;function getIsRtlScrollbarOnLeft(){return null===_isRtlScrollbarOnLeft&&(_isRtlScrollbarOnLeft=computeIsRtlScrollbarOnLeft()),_isRtlScrollbarOnLeft}function computeIsRtlScrollbarOnLeft(){var outerEl=document.createElement("div");applyStyle(outerEl,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),outerEl.innerHTML="<div></div>",document.body.appendChild(outerEl);var innerEl,res=outerEl.firstChild.getBoundingClientRect().left>outerEl.getBoundingClientRect().left;return removeElement(outerEl),res}function getScrollbarWidths(){return _scrollbarWidths||(_scrollbarWidths=computeScrollbarWidths()),_scrollbarWidths}function computeScrollbarWidths(){var el=document.createElement("div");el.style.overflow="scroll",el.style.position="absolute",el.style.top="-9999px",el.style.left="-9999px",document.body.appendChild(el);var res=computeScrollbarWidthsForEl(el);return document.body.removeChild(el),res}function computeScrollbarWidthsForEl(el){return{x:el.offsetHeight-el.clientHeight,y:el.offsetWidth-el.clientWidth}}function computeEdges(el,getPadding){void 0===getPadding&&(getPadding=!1);var computedStyle=window.getComputedStyle(el),borderLeft=parseInt(computedStyle.borderLeftWidth,10)||0,borderRight=parseInt(computedStyle.borderRightWidth,10)||0,borderTop=parseInt(computedStyle.borderTopWidth,10)||0,borderBottom=parseInt(computedStyle.borderBottomWidth,10)||0,badScrollbarWidths=computeScrollbarWidthsForEl(el),scrollbarLeftRight=badScrollbarWidths.y-borderLeft-borderRight,scrollbarBottom,res={borderLeft:borderLeft,borderRight:borderRight,borderTop:borderTop,borderBottom:borderBottom,scrollbarBottom:badScrollbarWidths.x-borderTop-borderBottom,scrollbarLeft:0,scrollbarRight:0};return getIsRtlScrollbarOnLeft()&&"rtl"===computedStyle.direction?res.scrollbarLeft=scrollbarLeftRight:res.scrollbarRight=scrollbarLeftRight,getPadding&&(res.paddingLeft=parseInt(computedStyle.paddingLeft,10)||0,res.paddingRight=parseInt(computedStyle.paddingRight,10)||0,res.paddingTop=parseInt(computedStyle.paddingTop,10)||0,res.paddingBottom=parseInt(computedStyle.paddingBottom,10)||0),res}function computeInnerRect(el,goWithinPadding,doFromWindowViewport){void 0===goWithinPadding&&(goWithinPadding=!1);var outerRect=doFromWindowViewport?el.getBoundingClientRect():computeRect(el),edges=computeEdges(el,goWithinPadding),res={left:outerRect.left+edges.borderLeft+edges.scrollbarLeft,right:outerRect.right-edges.borderRight-edges.scrollbarRight,top:outerRect.top+edges.borderTop,bottom:outerRect.bottom-edges.borderBottom-edges.scrollbarBottom};return goWithinPadding&&(res.left+=edges.paddingLeft,res.right-=edges.paddingRight,res.top+=edges.paddingTop,res.bottom-=edges.paddingBottom),res}function computeRect(el){var rect=el.getBoundingClientRect();return{left:rect.left+window.pageXOffset,top:rect.top+window.pageYOffset,right:rect.right+window.pageXOffset,bottom:rect.bottom+window.pageYOffset}}function computeHeightAndMargins(el){return el.getBoundingClientRect().height+computeVMargins(el)}function computeVMargins(el){var computed=window.getComputedStyle(el);return parseInt(computed.marginTop,10)+parseInt(computed.marginBottom,10)}function getClippingParents(el){for(var parents=[];el instanceof HTMLElement;){var computedStyle=window.getComputedStyle(el);if("fixed"===computedStyle.position)break;/(auto|scroll)/.test(computedStyle.overflow+computedStyle.overflowY+computedStyle.overflowX)&&parents.push(el),el=el.parentNode}return parents}function unpromisify(func,success,failure){var isResolved=!1,wrappedSuccess=function(){isResolved||(isResolved=!0,success.apply(this,arguments))},wrappedFailure=function(){isResolved||(isResolved=!0,failure&&failure.apply(this,arguments))},res=func(wrappedSuccess,wrappedFailure);res&&"function"==typeof res.then&&res.then(wrappedSuccess,wrappedFailure)}var Emitter=function(){function Emitter(){this.handlers={},this.thisContext=null}return Emitter.prototype.setThisContext=function(thisContext){this.thisContext=thisContext},Emitter.prototype.setOptions=function(options){this.options=options},Emitter.prototype.on=function(type,handler){addToHash(this.handlers,type,handler)},Emitter.prototype.off=function(type,handler){removeFromHash(this.handlers,type,handler)},Emitter.prototype.trigger=function(type){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];for(var attachedHandlers=this.handlers[type]||[],optionHandler=this.options&&this.options[type],handlers=[].concat(optionHandler||[],attachedHandlers),_a=0,handlers_1=handlers;_a<handlers_1.length;_a++){var handler=handlers_1[_a];handler.apply(this.thisContext,args)}},Emitter.prototype.hasHandlers=function(type){return this.handlers[type]&&this.handlers[type].length||this.options&&this.options[type]},Emitter}();function addToHash(hash,type,handler){(hash[type]||(hash[type]=[])).push(handler)}function removeFromHash(hash,type,handler){handler?hash[type]&&(hash[type]=hash[type].filter((function(func){return func!==handler}))):delete hash[type]}var PositionCache=function(){function PositionCache(originEl,els,isHorizontal,isVertical){this.els=els;var originClientRect=this.originClientRect=originEl.getBoundingClientRect();isHorizontal&&this.buildElHorizontals(originClientRect.left),isVertical&&this.buildElVerticals(originClientRect.top)}return PositionCache.prototype.buildElHorizontals=function(originClientLeft){for(var lefts=[],rights=[],_i=0,_a=this.els;_i<_a.length;_i++){var el,rect=_a[_i].getBoundingClientRect();lefts.push(rect.left-originClientLeft),rights.push(rect.right-originClientLeft)}this.lefts=lefts,this.rights=rights},PositionCache.prototype.buildElVerticals=function(originClientTop){for(var tops=[],bottoms=[],_i=0,_a=this.els;_i<_a.length;_i++){var el,rect=_a[_i].getBoundingClientRect();tops.push(rect.top-originClientTop),bottoms.push(rect.bottom-originClientTop)}this.tops=tops,this.bottoms=bottoms},PositionCache.prototype.leftToIndex=function(leftPosition){var _a=this,lefts=_a.lefts,rights=_a.rights,len=lefts.length,i;for(i=0;i<len;i+=1)if(leftPosition>=lefts[i]&&leftPosition<rights[i])return i},PositionCache.prototype.topToIndex=function(topPosition){var _a=this,tops=_a.tops,bottoms=_a.bottoms,len=tops.length,i;for(i=0;i<len;i+=1)if(topPosition>=tops[i]&&topPosition<bottoms[i])return i},PositionCache.prototype.getWidth=function(leftIndex){return this.rights[leftIndex]-this.lefts[leftIndex]},PositionCache.prototype.getHeight=function(topIndex){return this.bottoms[topIndex]-this.tops[topIndex]},PositionCache}(),ScrollController=function(){function ScrollController(){}return ScrollController.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()},ScrollController.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()},ScrollController.prototype.canScrollVertically=function(){return this.getMaxScrollTop()>0},ScrollController.prototype.canScrollHorizontally=function(){return this.getMaxScrollLeft()>0},ScrollController.prototype.canScrollUp=function(){return this.getScrollTop()>0},ScrollController.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()},ScrollController.prototype.canScrollLeft=function(){return this.getScrollLeft()>0},ScrollController.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()},ScrollController}(),ElementScrollController=function(_super){function ElementScrollController(el){var _this=_super.call(this)||this;return _this.el=el,_this}return __extends(ElementScrollController,_super),ElementScrollController.prototype.getScrollTop=function(){return this.el.scrollTop},ElementScrollController.prototype.getScrollLeft=function(){return this.el.scrollLeft},ElementScrollController.prototype.setScrollTop=function(top){this.el.scrollTop=top},ElementScrollController.prototype.setScrollLeft=function(left){this.el.scrollLeft=left},ElementScrollController.prototype.getScrollWidth=function(){return this.el.scrollWidth},ElementScrollController.prototype.getScrollHeight=function(){return this.el.scrollHeight},ElementScrollController.prototype.getClientHeight=function(){return this.el.clientHeight},ElementScrollController.prototype.getClientWidth=function(){return this.el.clientWidth},ElementScrollController}(ScrollController),WindowScrollController=function(_super){function WindowScrollController(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(WindowScrollController,_super),WindowScrollController.prototype.getScrollTop=function(){return window.pageYOffset},WindowScrollController.prototype.getScrollLeft=function(){return window.pageXOffset},WindowScrollController.prototype.setScrollTop=function(n){window.scroll(window.pageXOffset,n)},WindowScrollController.prototype.setScrollLeft=function(n){window.scroll(n,window.pageYOffset)},WindowScrollController.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth},WindowScrollController.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight},WindowScrollController.prototype.getClientHeight=function(){return document.documentElement.clientHeight},WindowScrollController.prototype.getClientWidth=function(){return document.documentElement.clientWidth},WindowScrollController}(ScrollController),Theme=function(){function Theme(calendarOptions){this.iconOverrideOption&&this.setIconOverride(calendarOptions[this.iconOverrideOption])}return Theme.prototype.setIconOverride=function(iconOverrideHash){var iconClassesCopy,buttonName;if("object"==typeof iconOverrideHash&&iconOverrideHash){for(buttonName in iconClassesCopy=__assign({},this.iconClasses),iconOverrideHash)iconClassesCopy[buttonName]=this.applyIconOverridePrefix(iconOverrideHash[buttonName]);this.iconClasses=iconClassesCopy}else!1===iconOverrideHash&&(this.iconClasses={})},Theme.prototype.applyIconOverridePrefix=function(className){var prefix=this.iconOverridePrefix;return prefix&&0!==className.indexOf(prefix)&&(className=prefix+className),className},Theme.prototype.getClass=function(key){return this.classes[key]||""},Theme.prototype.getIconClass=function(buttonName,isRtl){var className;return(className=isRtl&&this.rtlIconClasses&&this.rtlIconClasses[buttonName]||this.iconClasses[buttonName])?this.baseIconClass+" "+className:""},Theme.prototype.getCustomButtonIconClass=function(customButtonProps){var className;return this.iconOverrideCustomButtonOption&&(className=customButtonProps[this.iconOverrideCustomButtonOption])?this.baseIconClass+" "+this.applyIconOverridePrefix(className):""},Theme}();if(Theme.prototype.classes={},Theme.prototype.iconClasses={},Theme.prototype.baseIconClass="",Theme.prototype.iconOverridePrefix="","undefined"==typeof FullCalendarVDom)throw new Error("Please import the top-level fullcalendar lib before attempting to import a plugin.");var Component=FullCalendarVDom.Component,createElement=FullCalendarVDom.createElement,render=FullCalendarVDom.render,createRef=FullCalendarVDom.createRef,Fragment=FullCalendarVDom.Fragment,createContext$1=FullCalendarVDom.createContext,flushToDom$1=FullCalendarVDom.flushToDom,unmountComponentAtNode$1=FullCalendarVDom.unmountComponentAtNode,ScrollResponder=function(){function ScrollResponder(execFunc,emitter,scrollTime){var _this=this;this.execFunc=execFunc,this.emitter=emitter,this.scrollTime=scrollTime,this.handleScrollRequest=function(request){_this.queuedRequest=__assign({},_this.queuedRequest||{},request),_this.drain()},emitter.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}return ScrollResponder.prototype.detach=function(){this.emitter.off("_scrollRequest",this.handleScrollRequest)},ScrollResponder.prototype.update=function(isDatesNew){isDatesNew?this.fireInitialScroll():this.drain()},ScrollResponder.prototype.fireInitialScroll=function(){this.handleScrollRequest({time:this.scrollTime})},ScrollResponder.prototype.drain=function(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)},ScrollResponder}(),ViewContextType=createContext$1({});function buildViewContext(viewSpec,viewApi,viewOptions,dateProfileGenerator,dateEnv,theme,pluginHooks,dispatch,getCurrentData,emitter,calendarApi,registerInteractiveComponent,unregisterInteractiveComponent){return{dateEnv:dateEnv,options:viewOptions,pluginHooks:pluginHooks,emitter:emitter,dispatch:dispatch,getCurrentData:getCurrentData,calendarApi:calendarApi,viewSpec:viewSpec,viewApi:viewApi,dateProfileGenerator:dateProfileGenerator,theme:theme,isRtl:"rtl"===viewOptions.direction,addResizeHandler:function(handler){emitter.on("_resize",handler)},removeResizeHandler:function(handler){emitter.off("_resize",handler)},createScrollResponder:function(execFunc){return new ScrollResponder(execFunc,emitter,createDuration(viewOptions.scrollTime))},registerInteractiveComponent:registerInteractiveComponent,unregisterInteractiveComponent:unregisterInteractiveComponent}}var PureComponent=function(_super){function PureComponent(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(PureComponent,_super),PureComponent.prototype.shouldComponentUpdate=function(nextProps,nextState){return this.debug&&console.log(getUnequalProps(nextProps,this.props),getUnequalProps(nextState,this.state)),!compareObjs(this.props,nextProps,this.propEquality)||!compareObjs(this.state,nextState,this.stateEquality)},PureComponent.addPropsEquality=addPropsEquality,PureComponent.addStateEquality=addStateEquality,PureComponent.contextType=ViewContextType,PureComponent}(Component);PureComponent.prototype.propEquality={},PureComponent.prototype.stateEquality={};var BaseComponent=function(_super){function BaseComponent(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(BaseComponent,_super),BaseComponent.contextType=ViewContextType,BaseComponent}(PureComponent);function addPropsEquality(propEquality){var hash=Object.create(this.prototype.propEquality);__assign(hash,propEquality),this.prototype.propEquality=hash}function addStateEquality(stateEquality){var hash=Object.create(this.prototype.stateEquality);__assign(hash,stateEquality),this.prototype.stateEquality=hash}function setRef(ref,current){"function"==typeof ref?ref(current):ref&&(ref.current=current)}function reduceEventStore(eventStore,action,eventSources,dateProfile,context){switch(action.type){case"RECEIVE_EVENTS":return receiveRawEvents(eventStore,eventSources[action.sourceId],action.fetchId,action.fetchRange,action.rawEvents,context);case"ADD_EVENTS":return addEvent(eventStore,action.eventStore,dateProfile?dateProfile.activeRange:null,context);case"RESET_EVENTS":return action.eventStore;case"MERGE_EVENTS":return mergeEventStores(eventStore,action.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return dateProfile?expandRecurring(eventStore,dateProfile.activeRange,context):eventStore;case"REMOVE_EVENTS":return excludeSubEventStore(eventStore,action.eventStore);case"REMOVE_EVENT_SOURCE":return excludeEventsBySourceId(eventStore,action.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return filterEventStoreDefs(eventStore,(function(eventDef){return!eventDef.sourceId}));case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return eventStore}}function receiveRawEvents(eventStore,eventSource,fetchId,fetchRange,rawEvents,context){if(eventSource&&fetchId===eventSource.latestFetchId){var subset=parseEvents(transformRawEvents(rawEvents,eventSource,context),eventSource,context);return fetchRange&&(subset=expandRecurring(subset,fetchRange,context)),mergeEventStores(excludeEventsBySourceId(eventStore,eventSource.sourceId),subset)}return eventStore}function transformRawEvents(rawEvents,eventSource,context){var calEachTransform=context.options.eventDataTransform,sourceEachTransform=eventSource?eventSource.eventDataTransform:null;return sourceEachTransform&&(rawEvents=transformEachRawEvent(rawEvents,sourceEachTransform)),calEachTransform&&(rawEvents=transformEachRawEvent(rawEvents,calEachTransform)),rawEvents}function transformEachRawEvent(rawEvents,func){var refinedEvents;if(func){refinedEvents=[];for(var _i=0,rawEvents_1=rawEvents;_i<rawEvents_1.length;_i++){var rawEvent=rawEvents_1[_i],refinedEvent=func(rawEvent);refinedEvent?refinedEvents.push(refinedEvent):null==refinedEvent&&refinedEvents.push(rawEvent)}}else refinedEvents=rawEvents;return refinedEvents}function addEvent(eventStore,subset,expandRange,context){return expandRange&&(subset=expandRecurring(subset,expandRange,context)),mergeEventStores(eventStore,subset)}function rezoneEventStoreDates(eventStore,oldDateEnv,newDateEnv){var defs=eventStore.defs,instances=mapHash(eventStore.instances,(function(instance){var def=defs[instance.defId];return def.allDay||def.recurringDef?instance:__assign(__assign({},instance),{range:{start:newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start,instance.forcedStartTzo)),end:newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end,instance.forcedEndTzo))},forcedStartTzo:newDateEnv.canComputeOffset?null:instance.forcedStartTzo,forcedEndTzo:newDateEnv.canComputeOffset?null:instance.forcedEndTzo})}));return{defs:defs,instances:instances}}function excludeEventsBySourceId(eventStore,sourceId){return filterEventStoreDefs(eventStore,(function(eventDef){return eventDef.sourceId!==sourceId}))}function excludeInstances(eventStore,removals){return{defs:eventStore.defs,instances:filterHash(eventStore.instances,(function(instance){return!removals[instance.instanceId]}))}}function isInteractionValid(interaction,context){return isNewPropsValid({eventDrag:interaction},context)}function isDateSelectionValid(dateSelection,context){return isNewPropsValid({dateSelection:dateSelection},context)}function isNewPropsValid(newProps,context){var calendarState=context.getCurrentData(),props=__assign({businessHours:calendarState.businessHours,dateSelection:"",eventStore:calendarState.eventStore,eventUiBases:calendarState.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},newProps);return(context.pluginHooks.isPropsValid||isPropsValid)(props,context)}function isPropsValid(state,context,dateSpanMeta,filterConfig){return void 0===dateSpanMeta&&(dateSpanMeta={}),!(state.eventDrag&&!isInteractionPropsValid(state,context,dateSpanMeta,filterConfig))&&!(state.dateSelection&&!isDateSelectionPropsValid(state,context,dateSpanMeta,filterConfig))}function isInteractionPropsValid(state,context,dateSpanMeta,filterConfig){var currentState=context.getCurrentData(),interaction=state.eventDrag,subjectEventStore=interaction.mutatedEvents,subjectDefs=subjectEventStore.defs,subjectInstances=subjectEventStore.instances,subjectConfigs=compileEventUis(subjectDefs,interaction.isEvent?state.eventUiBases:{"":currentState.selectionConfig});filterConfig&&(subjectConfigs=mapHash(subjectConfigs,filterConfig));var otherEventStore=excludeInstances(state.eventStore,interaction.affectedEvents.instances),otherDefs=otherEventStore.defs,otherInstances=otherEventStore.instances,otherConfigs=compileEventUis(otherDefs,state.eventUiBases);for(var subjectInstanceId in subjectInstances){var subjectInstance=subjectInstances[subjectInstanceId],subjectRange=subjectInstance.range,subjectConfig=subjectConfigs[subjectInstance.defId],subjectDef=subjectDefs[subjectInstance.defId];if(!allConstraintsPass(subjectConfig.constraints,subjectRange,otherEventStore,state.businessHours,context))return!1;var eventOverlap=context.options.eventOverlap,eventOverlapFunc="function"==typeof eventOverlap?eventOverlap:null;for(var otherInstanceId in otherInstances){var otherInstance=otherInstances[otherInstanceId];if(rangesIntersect(subjectRange,otherInstance.range)){var otherOverlap;if(!1===otherConfigs[otherInstance.defId].overlap&&interaction.isEvent)return!1;if(!1===subjectConfig.overlap)return!1;if(eventOverlapFunc&&!eventOverlapFunc(new EventApi(context,otherDefs[otherInstance.defId],otherInstance),new EventApi(context,subjectDef,subjectInstance)))return!1}}for(var calendarEventStore=currentState.eventStore,_i=0,_a=subjectConfig.allows;_i<_a.length;_i++){var subjectAllow=_a[_i],subjectDateSpan=__assign(__assign({},dateSpanMeta),{range:subjectInstance.range,allDay:subjectDef.allDay}),origDef=calendarEventStore.defs[subjectDef.defId],origInstance=calendarEventStore.instances[subjectInstanceId],eventApi=void 0;if(eventApi=origDef?new EventApi(context,origDef,origInstance):new EventApi(context,subjectDef),!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan,context),eventApi))return!1}}return!0}function isDateSelectionPropsValid(state,context,dateSpanMeta,filterConfig){var relevantEventStore=state.eventStore,relevantDefs=relevantEventStore.defs,relevantInstances=relevantEventStore.instances,selection=state.dateSelection,selectionRange=selection.range,selectionConfig=context.getCurrentData().selectionConfig;if(filterConfig&&(selectionConfig=filterConfig(selectionConfig)),!allConstraintsPass(selectionConfig.constraints,selectionRange,relevantEventStore,state.businessHours,context))return!1;var selectOverlap=context.options.selectOverlap,selectOverlapFunc="function"==typeof selectOverlap?selectOverlap:null;for(var relevantInstanceId in relevantInstances){var relevantInstance=relevantInstances[relevantInstanceId];if(rangesIntersect(selectionRange,relevantInstance.range)){if(!1===selectionConfig.overlap)return!1;if(selectOverlapFunc&&!selectOverlapFunc(new EventApi(context,relevantDefs[relevantInstance.defId],relevantInstance),null))return!1}}for(var _i=0,_a=selectionConfig.allows;_i<_a.length;_i++){var selectionAllow,fullDateSpan;if(!(0,_a[_i])(buildDateSpanApiWithContext(__assign(__assign({},dateSpanMeta),selection),context),null))return!1}return!0}function allConstraintsPass(constraints,subjectRange,otherEventStore,businessHoursUnexpanded,context){for(var _i=0,constraints_1=constraints;_i<constraints_1.length;_i++){var constraint;if(!anyRangesContainRange(constraintToRanges(constraints_1[_i],subjectRange,otherEventStore,businessHoursUnexpanded,context),subjectRange))return!1}return!0}function constraintToRanges(constraint,subjectRange,otherEventStore,businessHoursUnexpanded,context){return"businessHours"===constraint?eventStoreToRanges(expandRecurring(businessHoursUnexpanded,subjectRange,context)):"string"==typeof constraint?eventStoreToRanges(filterEventStoreDefs(otherEventStore,(function(eventDef){return eventDef.groupId===constraint}))):"object"==typeof constraint&&constraint?eventStoreToRanges(expandRecurring(constraint,subjectRange,context)):[]}function eventStoreToRanges(eventStore){var instances=eventStore.instances,ranges=[];for(var instanceId in instances)ranges.push(instances[instanceId].range);return ranges}function anyRangesContainRange(outerRanges,innerRange){for(var _i=0,outerRanges_1=outerRanges;_i<outerRanges_1.length;_i++){var outerRange;if(rangeContainsRange(outerRanges_1[_i],innerRange))return!0}return!1}var DateComponent=function(_super){function DateComponent(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.uid=guid(),_this}return __extends(DateComponent,_super),DateComponent.prototype.prepareHits=function(){},DateComponent.prototype.queryHit=function(positionLeft,positionTop,elWidth,elHeight){return null},DateComponent.prototype.isInteractionValid=function(interaction){var dateProfile=this.props.dateProfile,instances=interaction.mutatedEvents.instances;if(dateProfile)for(var instanceId in instances)if(!rangeContainsRange(dateProfile.validRange,instances[instanceId].range))return!1;return isInteractionValid(interaction,this.context)},DateComponent.prototype.isDateSelectionValid=function(selection){var dateProfile=this.props.dateProfile;return!(dateProfile&&!rangeContainsRange(dateProfile.validRange,selection.range))&&isDateSelectionValid(selection,this.context)},DateComponent.prototype.isValidSegDownEl=function(el){return!this.props.eventDrag&&!this.props.eventResize&&!elementClosest(el,".fc-event-mirror")},DateComponent.prototype.isValidDateDownEl=function(el){return!(elementClosest(el,".fc-event:not(.fc-bg-event)")||elementClosest(el,".fc-daygrid-more-link")||elementClosest(el,"a[data-navlink]")||elementClosest(el,".fc-popover"))},DateComponent}(BaseComponent);function createPlugin(input){return{id:guid(),deps:input.deps||[],reducers:input.reducers||[],isLoadingFuncs:input.isLoadingFuncs||[],contextInit:[].concat(input.contextInit||[]),eventRefiners:input.eventRefiners||{},eventDefMemberAdders:input.eventDefMemberAdders||[],eventSourceRefiners:input.eventSourceRefiners||{},isDraggableTransformers:input.isDraggableTransformers||[],eventDragMutationMassagers:input.eventDragMutationMassagers||[],eventDefMutationAppliers:input.eventDefMutationAppliers||[],dateSelectionTransformers:input.dateSelectionTransformers||[],datePointTransforms:input.datePointTransforms||[],dateSpanTransforms:input.dateSpanTransforms||[],views:input.views||{},viewPropsTransformers:input.viewPropsTransformers||[],isPropsValid:input.isPropsValid||null,externalDefTransforms:input.externalDefTransforms||[],eventResizeJoinTransforms:input.eventResizeJoinTransforms||[],viewContainerAppends:input.viewContainerAppends||[],eventDropTransformers:input.eventDropTransformers||[],componentInteractions:input.componentInteractions||[],calendarInteractions:input.calendarInteractions||[],themeClasses:input.themeClasses||{},eventSourceDefs:input.eventSourceDefs||[],cmdFormatter:input.cmdFormatter,recurringTypes:input.recurringTypes||[],namedTimeZonedImpl:input.namedTimeZonedImpl,initialView:input.initialView||"",elementDraggingImpl:input.elementDraggingImpl,optionChangeHandlers:input.optionChangeHandlers||{},scrollGridImpl:input.scrollGridImpl||null,contentTypeHandlers:input.contentTypeHandlers||{},listenerRefiners:input.listenerRefiners||{},optionRefiners:input.optionRefiners||{},propSetHandlers:input.propSetHandlers||{}}}function buildPluginHooks(pluginDefs,globalDefs){var isAdded={},hooks={reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],eventResizeJoinTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,contentTypeHandlers:{},listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function addDefs(defs){for(var _i=0,defs_1=defs;_i<defs_1.length;_i++){var def=defs_1[_i];isAdded[def.id]||(isAdded[def.id]=!0,addDefs(def.deps),hooks=combineHooks(hooks,def))}}return pluginDefs&&addDefs(pluginDefs),addDefs(globalDefs),hooks}function buildBuildPluginHooks(){var currentOverrideDefs=[],currentGlobalDefs=[],currentHooks;return function(overrideDefs,globalDefs){return currentHooks&&isArraysEqual(overrideDefs,currentOverrideDefs)&&isArraysEqual(globalDefs,currentGlobalDefs)||(currentHooks=buildPluginHooks(overrideDefs,globalDefs)),currentOverrideDefs=overrideDefs,currentGlobalDefs=globalDefs,currentHooks}}function combineHooks(hooks0,hooks1){return{reducers:hooks0.reducers.concat(hooks1.reducers),isLoadingFuncs:hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),contextInit:hooks0.contextInit.concat(hooks1.contextInit),eventRefiners:__assign(__assign({},hooks0.eventRefiners),hooks1.eventRefiners),eventDefMemberAdders:hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),eventSourceRefiners:__assign(__assign({},hooks0.eventSourceRefiners),hooks1.eventSourceRefiners),isDraggableTransformers:hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),eventDragMutationMassagers:hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),eventDefMutationAppliers:hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),dateSelectionTransformers:hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),datePointTransforms:hooks0.datePointTransforms.concat(hooks1.datePointTransforms),dateSpanTransforms:hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),views:__assign(__assign({},hooks0.views),hooks1.views),viewPropsTransformers:hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),isPropsValid:hooks1.isPropsValid||hooks0.isPropsValid,externalDefTransforms:hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),eventResizeJoinTransforms:hooks0.eventResizeJoinTransforms.concat(hooks1.eventResizeJoinTransforms),viewContainerAppends:hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),eventDropTransformers:hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),calendarInteractions:hooks0.calendarInteractions.concat(hooks1.calendarInteractions),componentInteractions:hooks0.componentInteractions.concat(hooks1.componentInteractions),themeClasses:__assign(__assign({},hooks0.themeClasses),hooks1.themeClasses),eventSourceDefs:hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),cmdFormatter:hooks1.cmdFormatter||hooks0.cmdFormatter,recurringTypes:hooks0.recurringTypes.concat(hooks1.recurringTypes),namedTimeZonedImpl:hooks1.namedTimeZonedImpl||hooks0.namedTimeZonedImpl,initialView:hooks0.initialView||hooks1.initialView,elementDraggingImpl:hooks0.elementDraggingImpl||hooks1.elementDraggingImpl,optionChangeHandlers:__assign(__assign({},hooks0.optionChangeHandlers),hooks1.optionChangeHandlers),scrollGridImpl:hooks1.scrollGridImpl||hooks0.scrollGridImpl,contentTypeHandlers:__assign(__assign({},hooks0.contentTypeHandlers),hooks1.contentTypeHandlers),listenerRefiners:__assign(__assign({},hooks0.listenerRefiners),hooks1.listenerRefiners),optionRefiners:__assign(__assign({},hooks0.optionRefiners),hooks1.optionRefiners),propSetHandlers:__assign(__assign({},hooks0.propSetHandlers),hooks1.propSetHandlers)}}var StandardTheme=function(_super){function StandardTheme(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(StandardTheme,_super),StandardTheme}(Theme);function compileViewDefs(defaultConfigs,overrideConfigs){var hash={},viewType;for(viewType in defaultConfigs)ensureViewDef(viewType,hash,defaultConfigs,overrideConfigs);for(viewType in overrideConfigs)ensureViewDef(viewType,hash,defaultConfigs,overrideConfigs);return hash}function ensureViewDef(viewType,hash,defaultConfigs,overrideConfigs){if(hash[viewType])return hash[viewType];var viewDef=buildViewDef(viewType,hash,defaultConfigs,overrideConfigs);return viewDef&&(hash[viewType]=viewDef),viewDef}function buildViewDef(viewType,hash,defaultConfigs,overrideConfigs){var defaultConfig=defaultConfigs[viewType],overrideConfig=overrideConfigs[viewType],queryProp=function(name){return defaultConfig&&null!==defaultConfig[name]?defaultConfig[name]:overrideConfig&&null!==overrideConfig[name]?overrideConfig[name]:null},theComponent=queryProp("component"),superType=queryProp("superType"),superDef=null;if(superType){if(superType===viewType)throw new Error("Can't have a custom view type that references itself");superDef=ensureViewDef(superType,hash,defaultConfigs,overrideConfigs)}return!theComponent&&superDef&&(theComponent=superDef.component),theComponent?{type:viewType,component:theComponent,defaults:__assign(__assign({},superDef?superDef.defaults:{}),defaultConfig?defaultConfig.rawOptions:{}),overrides:__assign(__assign({},superDef?superDef.overrides:{}),overrideConfig?overrideConfig.rawOptions:{})}:null}StandardTheme.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},StandardTheme.prototype.baseIconClass="fc-icon",StandardTheme.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},StandardTheme.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},StandardTheme.prototype.iconOverrideOption="buttonIcons",StandardTheme.prototype.iconOverrideCustomButtonOption="icon",StandardTheme.prototype.iconOverridePrefix="fc-icon-";var RenderHook=function(_super){function RenderHook(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.rootElRef=createRef(),_this.handleRootEl=function(el){setRef(_this.rootElRef,el),_this.props.elRef&&setRef(_this.props.elRef,el)},_this}return __extends(RenderHook,_super),RenderHook.prototype.render=function(){var _this=this,props=this.props,hookProps=props.hookProps;return createElement(MountHook,{hookProps:hookProps,didMount:props.didMount,willUnmount:props.willUnmount,elRef:this.handleRootEl},(function(rootElRef){return createElement(ContentHook,{hookProps:hookProps,content:props.content,defaultContent:props.defaultContent,backupElRef:_this.rootElRef},(function(innerElRef,innerContent){return props.children(rootElRef,normalizeClassNames(props.classNames,hookProps),innerElRef,innerContent)}))}))},RenderHook}(BaseComponent),CustomContentRenderContext=createContext$1(0);function ContentHook(props){return createElement(CustomContentRenderContext.Consumer,null,(function(renderId){return createElement(ContentHookInner,__assign({renderId:renderId},props))}))}var ContentHookInner=function(_super){function ContentHookInner(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.innerElRef=createRef(),_this}return __extends(ContentHookInner,_super),ContentHookInner.prototype.render=function(){return this.props.children(this.innerElRef,this.renderInnerContent())},ContentHookInner.prototype.componentDidMount=function(){this.updateCustomContent()},ContentHookInner.prototype.componentDidUpdate=function(){this.updateCustomContent()},ContentHookInner.prototype.componentWillUnmount=function(){this.customContentInfo&&this.customContentInfo.destroy&&this.customContentInfo.destroy()},ContentHookInner.prototype.renderInnerContent=function(){var contentTypeHandlers=this.context.pluginHooks.contentTypeHandlers,_a=this,props=_a.props,customContentInfo=_a.customContentInfo,rawVal,innerContent=normalizeContent(props.content,props.hookProps),innerContentVDom=null;if(void 0===innerContent&&(innerContent=normalizeContent(props.defaultContent,props.hookProps)),void 0!==innerContent){if(customContentInfo)customContentInfo.contentVal=innerContent[customContentInfo.contentKey];else if("object"==typeof innerContent)for(var contentKey in contentTypeHandlers)if(void 0!==innerContent[contentKey]){var stuff=contentTypeHandlers[contentKey]();customContentInfo=this.customContentInfo=__assign({contentKey:contentKey,contentVal:innerContent[contentKey]},stuff);break}innerContentVDom=customContentInfo?[]:innerContent}return innerContentVDom},ContentHookInner.prototype.updateCustomContent=function(){this.customContentInfo&&this.customContentInfo.render(this.innerElRef.current||this.props.backupElRef.current,this.customContentInfo.contentVal)},ContentHookInner}(BaseComponent),MountHook=function(_super){function MountHook(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.handleRootEl=function(rootEl){_this.rootEl=rootEl,_this.props.elRef&&setRef(_this.props.elRef,rootEl)},_this}return __extends(MountHook,_super),MountHook.prototype.render=function(){return this.props.children(this.handleRootEl)},MountHook.prototype.componentDidMount=function(){var callback=this.props.didMount;callback&&callback(__assign(__assign({},this.props.hookProps),{el:this.rootEl}))},MountHook.prototype.componentWillUnmount=function(){var callback=this.props.willUnmount;callback&&callback(__assign(__assign({},this.props.hookProps),{el:this.rootEl}))},MountHook}(BaseComponent);function buildClassNameNormalizer(){var currentGenerator,currentHookProps,currentClassNames=[];return function(generator,hookProps){return currentHookProps&&isPropsEqual(currentHookProps,hookProps)&&generator===currentGenerator||(currentGenerator=generator,currentHookProps=hookProps,currentClassNames=normalizeClassNames(generator,hookProps)),currentClassNames}}function normalizeClassNames(classNames,hookProps){return"function"==typeof classNames&&(classNames=classNames(hookProps)),parseClassNames(classNames)}function normalizeContent(input,hookProps){return"function"==typeof input?input(hookProps,createElement):input}var ViewRoot=function(_super){function ViewRoot(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.normalizeClassNames=buildClassNameNormalizer(),_this}return __extends(ViewRoot,_super),ViewRoot.prototype.render=function(){var _a=this,props=_a.props,context=_a.context,options=context.options,hookProps={view:context.viewApi},customClassNames=this.normalizeClassNames(options.viewClassNames,hookProps);return createElement(MountHook,{hookProps:hookProps,didMount:options.viewDidMount,willUnmount:options.viewWillUnmount,elRef:props.elRef},(function(rootElRef){return props.children(rootElRef,["fc-"+props.viewSpec.type+"-view","fc-view"].concat(customClassNames))}))},ViewRoot}(BaseComponent);function parseViewConfigs(inputs){return mapHash(inputs,parseViewConfig)}function parseViewConfig(input){var rawOptions="function"==typeof input?{component:input}:input,component=rawOptions.component;return rawOptions.content&&(component=createViewHookComponent(rawOptions)),{superType:rawOptions.type,component:component,rawOptions:rawOptions}}function createViewHookComponent(options){return function(viewProps){return createElement(ViewContextType.Consumer,null,(function(context){return createElement(ViewRoot,{viewSpec:context.viewSpec},(function(viewElRef,viewClassNames){var hookProps=__assign(__assign({},viewProps),{nextDayThreshold:context.options.nextDayThreshold});return createElement(RenderHook,{hookProps:hookProps,classNames:options.classNames,content:options.content,didMount:options.didMount,willUnmount:options.willUnmount,elRef:viewElRef},(function(rootElRef,customClassNames,innerElRef,innerContent){return createElement("div",{className:viewClassNames.concat(customClassNames).join(" "),ref:rootElRef},innerContent)}))}))}))}}function buildViewSpecs(defaultInputs,optionOverrides,dynamicOptionOverrides,localeDefaults){var defaultConfigs=parseViewConfigs(defaultInputs),overrideConfigs=parseViewConfigs(optionOverrides.views),viewDefs;return mapHash(compileViewDefs(defaultConfigs,overrideConfigs),(function(viewDef){return buildViewSpec(viewDef,overrideConfigs,optionOverrides,dynamicOptionOverrides,localeDefaults)}))}function buildViewSpec(viewDef,overrideConfigs,optionOverrides,dynamicOptionOverrides,localeDefaults){var durationInput=viewDef.overrides.duration||viewDef.defaults.duration||dynamicOptionOverrides.duration||optionOverrides.duration,duration=null,durationUnit="",singleUnit="",singleUnitOverrides={};if(durationInput&&(duration=createDurationCached(durationInput))){var denom=greatestDurationDenominator(duration);durationUnit=denom.unit,1===denom.value&&(singleUnit=durationUnit,singleUnitOverrides=overrideConfigs[durationUnit]?overrideConfigs[durationUnit].rawOptions:{})}var queryButtonText=function(optionsSubset){var buttonTextMap=optionsSubset.buttonText||{},buttonTextKey=viewDef.defaults.buttonTextKey;return null!=buttonTextKey&&null!=buttonTextMap[buttonTextKey]?buttonTextMap[buttonTextKey]:null!=buttonTextMap[viewDef.type]?buttonTextMap[viewDef.type]:null!=buttonTextMap[singleUnit]?buttonTextMap[singleUnit]:null};return{type:viewDef.type,component:viewDef.component,duration:duration,durationUnit:durationUnit,singleUnit:singleUnit,optionDefaults:viewDef.defaults,optionOverrides:__assign(__assign({},singleUnitOverrides),viewDef.overrides),buttonTextOverride:queryButtonText(dynamicOptionOverrides)||queryButtonText(optionOverrides)||viewDef.overrides.buttonText,buttonTextDefault:queryButtonText(localeDefaults)||viewDef.defaults.buttonText||queryButtonText(BASE_OPTION_DEFAULTS)||viewDef.type}}var durationInputMap={};function createDurationCached(durationInput){var json=JSON.stringify(durationInput),res=durationInputMap[json];return void 0===res&&(res=createDuration(durationInput),durationInputMap[json]=res),res}var DateProfileGenerator=function(){function DateProfileGenerator(props){this.props=props,this.nowDate=getNow(props.nowInput,props.dateEnv),this.initHiddenDays()}return DateProfileGenerator.prototype.buildPrev=function(currentDateProfile,currentDate,forceToValid){var dateEnv=this.props.dateEnv,prevDate=dateEnv.subtract(dateEnv.startOf(currentDate,currentDateProfile.currentRangeUnit),currentDateProfile.dateIncrement);return this.build(prevDate,-1,forceToValid)},DateProfileGenerator.prototype.buildNext=function(currentDateProfile,currentDate,forceToValid){var dateEnv=this.props.dateEnv,nextDate=dateEnv.add(dateEnv.startOf(currentDate,currentDateProfile.currentRangeUnit),currentDateProfile.dateIncrement);return this.build(nextDate,1,forceToValid)},DateProfileGenerator.prototype.build=function(currentDate,direction,forceToValid){void 0===forceToValid&&(forceToValid=!0);var props=this.props,validRange,currentInfo,isRangeAllDay,renderRange,activeRange,isValid;return validRange=this.buildValidRange(),validRange=this.trimHiddenDays(validRange),forceToValid&&(currentDate=constrainMarkerToRange(currentDate,validRange)),currentInfo=this.buildCurrentRangeInfo(currentDate,direction),isRangeAllDay=/^(year|month|week|day)$/.test(currentInfo.unit),renderRange=this.buildRenderRange(this.trimHiddenDays(currentInfo.range),currentInfo.unit,isRangeAllDay),activeRange=renderRange=this.trimHiddenDays(renderRange),props.showNonCurrentDates||(activeRange=intersectRanges(activeRange,currentInfo.range)),activeRange=intersectRanges(activeRange=this.adjustActiveRange(activeRange),validRange),isValid=rangesIntersect(currentInfo.range,validRange),{validRange:validRange,currentRange:currentInfo.range,currentRangeUnit:currentInfo.unit,isRangeAllDay:isRangeAllDay,activeRange:activeRange,renderRange:renderRange,slotMinTime:props.slotMinTime,slotMaxTime:props.slotMaxTime,isValid:isValid,dateIncrement:this.buildDateIncrement(currentInfo.duration)}},DateProfileGenerator.prototype.buildValidRange=function(){var input=this.props.validRangeInput,simpleInput="function"==typeof input?input.call(this.props.calendarApi,this.nowDate):input;return this.refineRange(simpleInput)||{start:null,end:null}},DateProfileGenerator.prototype.buildCurrentRangeInfo=function(date,direction){var props=this.props,duration=null,unit=null,range=null,dayCount;return props.duration?(duration=props.duration,unit=props.durationUnit,range=this.buildRangeFromDuration(date,direction,duration,unit)):(dayCount=this.props.dayCount)?(unit="day",range=this.buildRangeFromDayCount(date,direction,dayCount)):(range=this.buildCustomVisibleRange(date))?unit=props.dateEnv.greatestWholeUnit(range.start,range.end).unit:(unit=greatestDurationDenominator(duration=this.getFallbackDuration()).unit,range=this.buildRangeFromDuration(date,direction,duration,unit)),{duration:duration,unit:unit,range:range}},DateProfileGenerator.prototype.getFallbackDuration=function(){return createDuration({day:1})},DateProfileGenerator.prototype.adjustActiveRange=function(range){var _a=this.props,dateEnv=_a.dateEnv,usesMinMaxTime=_a.usesMinMaxTime,slotMinTime=_a.slotMinTime,slotMaxTime=_a.slotMaxTime,start=range.start,end=range.end;return usesMinMaxTime&&(asRoughDays(slotMinTime)<0&&(start=startOfDay(start),start=dateEnv.add(start,slotMinTime)),asRoughDays(slotMaxTime)>1&&(end=addDays(end=startOfDay(end),-1),end=dateEnv.add(end,slotMaxTime))),{start:start,end:end}},DateProfileGenerator.prototype.buildRangeFromDuration=function(date,direction,duration,unit){var _a=this.props,dateEnv=_a.dateEnv,dateAlignment=_a.dateAlignment,start,end,res;if(!dateAlignment){var dateIncrement=this.props.dateIncrement;dateAlignment=dateIncrement&&asRoughMs(dateIncrement)<asRoughMs(duration)?greatestDurationDenominator(dateIncrement).unit:unit}function computeRes(){start=dateEnv.startOf(date,dateAlignment),end=dateEnv.add(start,duration),res={start:start,end:end}}return asRoughDays(duration)<=1&&this.isHiddenDay(start)&&(start=startOfDay(start=this.skipHiddenDays(start,direction))),computeRes(),this.trimHiddenDays(res)||(date=this.skipHiddenDays(date,direction),computeRes()),res},DateProfileGenerator.prototype.buildRangeFromDayCount=function(date,direction,dayCount){var _a=this.props,dateEnv=_a.dateEnv,dateAlignment=_a.dateAlignment,runningCount=0,start=date,end;dateAlignment&&(start=dateEnv.startOf(start,dateAlignment)),start=startOfDay(start),end=start=this.skipHiddenDays(start,direction);do{end=addDays(end,1),this.isHiddenDay(end)||(runningCount+=1)}while(runningCount<dayCount);return{start:start,end:end}},DateProfileGenerator.prototype.buildCustomVisibleRange=function(date){var props=this.props,input=props.visibleRangeInput,simpleInput="function"==typeof input?input.call(props.calendarApi,props.dateEnv.toDate(date)):input,range=this.refineRange(simpleInput);return!range||null!=range.start&&null!=range.end?range:null},DateProfileGenerator.prototype.buildRenderRange=function(currentRange,currentRangeUnit,isRangeAllDay){return currentRange},DateProfileGenerator.prototype.buildDateIncrement=function(fallback){var dateIncrement=this.props.dateIncrement,customAlignment;return dateIncrement||((customAlignment=this.props.dateAlignment)?createDuration(1,customAlignment):fallback||createDuration({days:1}))},DateProfileGenerator.prototype.refineRange=function(rangeInput){if(rangeInput){var range=parseRange(rangeInput,this.props.dateEnv);return range&&(range=computeVisibleDayRange(range)),range}return null},DateProfileGenerator.prototype.initHiddenDays=function(){var hiddenDays=this.props.hiddenDays||[],isHiddenDayHash=[],dayCnt=0,i;for(!1===this.props.weekends&&hiddenDays.push(0,6),i=0;i<7;i+=1)(isHiddenDayHash[i]=-1!==hiddenDays.indexOf(i))||(dayCnt+=1);if(!dayCnt)throw new Error("invalid hiddenDays");this.isHiddenDayHash=isHiddenDayHash},DateProfileGenerator.prototype.trimHiddenDays=function(range){var start=range.start,end=range.end;return start&&(start=this.skipHiddenDays(start)),end&&(end=this.skipHiddenDays(end,-1,!0)),null==start||null==end||start<end?{start:start,end:end}:null},DateProfileGenerator.prototype.isHiddenDay=function(day){return day instanceof Date&&(day=day.getUTCDay()),this.isHiddenDayHash[day]},DateProfileGenerator.prototype.skipHiddenDays=function(date,inc,isExclusive){for(void 0===inc&&(inc=1),void 0===isExclusive&&(isExclusive=!1);this.isHiddenDayHash[(date.getUTCDay()+(isExclusive?inc:0)+7)%7];)date=addDays(date,inc);return date},DateProfileGenerator}(),eventSourceDef,arrayEventSourcePlugin,eventSourceDef$1,funcEventSourcePlugin,JSON_FEED_EVENT_SOURCE_REFINERS,eventSourceDef$2,jsonFeedEventSourcePlugin,SIMPLE_RECURRING_REFINERS,recurring,simpleRecurringEventsPlugin,changeHandlerPlugin;function reduceViewType(viewType,action){switch(action.type){case"CHANGE_VIEW_TYPE":viewType=action.viewType}return viewType}function reduceDynamicOptionOverrides(dynamicOptionOverrides,action){var _a;switch(action.type){case"SET_OPTION":return __assign(__assign({},dynamicOptionOverrides),((_a={})[action.optionName]=action.rawOptionValue,_a));default:return dynamicOptionOverrides}}function reduceDateProfile(currentDateProfile,action,currentDate,dateProfileGenerator){var dp;switch(action.type){case"CHANGE_VIEW_TYPE":return dateProfileGenerator.build(action.dateMarker||currentDate);case"CHANGE_DATE":if(!currentDateProfile.activeRange||!rangeContainsMarker(currentDateProfile.currentRange,action.dateMarker))return dateProfileGenerator.build(action.dateMarker);break;case"PREV":if((dp=dateProfileGenerator.buildPrev(currentDateProfile,currentDate)).isValid)return dp;break;case"NEXT":if((dp=dateProfileGenerator.buildNext(currentDateProfile,currentDate)).isValid)return dp}return currentDateProfile}function initEventSources(calendarOptions,dateProfile,context){var activeRange=dateProfile?dateProfile.activeRange:null;return addSources({},parseInitialSources(calendarOptions,context),activeRange,context)}function reduceEventSources(eventSources,action,dateProfile,context){var activeRange=dateProfile?dateProfile.activeRange:null;switch(action.type){case"ADD_EVENT_SOURCES":return addSources(eventSources,action.sources,activeRange,context);case"REMOVE_EVENT_SOURCE":return removeSource(eventSources,action.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return dateProfile?fetchDirtySources(eventSources,activeRange,context):eventSources;case"FETCH_EVENT_SOURCES":return fetchSourcesByIds(eventSources,action.sourceIds?arrayToHash(action.sourceIds):excludeStaticSources(eventSources,context),activeRange,context);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return receiveResponse(eventSources,action.sourceId,action.fetchId,action.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return eventSources}}function reduceEventSourcesNewTimeZone(eventSources,dateProfile,context){var activeRange=dateProfile?dateProfile.activeRange:null;return fetchSourcesByIds(eventSources,excludeStaticSources(eventSources,context),activeRange,context)}function computeEventSourcesLoading(eventSources){for(var sourceId in eventSources)if(eventSources[sourceId].isFetching)return!0;return!1}function addSources(eventSourceHash,sources,fetchRange,context){for(var hash={},_i=0,sources_1=sources;_i<sources_1.length;_i++){var source=sources_1[_i];hash[source.sourceId]=source}return fetchRange&&(hash=fetchDirtySources(hash,fetchRange,context)),__assign(__assign({},eventSourceHash),hash)}function removeSource(eventSourceHash,sourceId){return filterHash(eventSourceHash,(function(eventSource){return eventSource.sourceId!==sourceId}))}function fetchDirtySources(sourceHash,fetchRange,context){return fetchSourcesByIds(sourceHash,filterHash(sourceHash,(function(eventSource){return isSourceDirty(eventSource,fetchRange,context)})),fetchRange,context)}function isSourceDirty(eventSource,fetchRange,context){return doesSourceNeedRange(eventSource,context)?!context.options.lazyFetching||!eventSource.fetchRange||eventSource.isFetching||fetchRange.start<eventSource.fetchRange.start||fetchRange.end>eventSource.fetchRange.end:!eventSource.latestFetchId}function fetchSourcesByIds(prevSources,sourceIdHash,fetchRange,context){var nextSources={};for(var sourceId in prevSources){var source=prevSources[sourceId];sourceIdHash[sourceId]?nextSources[sourceId]=fetchSource(source,fetchRange,context):nextSources[sourceId]=source}return nextSources}function fetchSource(eventSource,fetchRange,context){var options=context.options,calendarApi=context.calendarApi,sourceDef=context.pluginHooks.eventSourceDefs[eventSource.sourceDefId],fetchId=guid();return sourceDef.fetch({eventSource:eventSource,range:fetchRange,context:context},(function(res){var rawEvents=res.rawEvents;options.eventSourceSuccess&&(rawEvents=options.eventSourceSuccess.call(calendarApi,rawEvents,res.xhr)||rawEvents),eventSource.success&&(rawEvents=eventSource.success.call(calendarApi,rawEvents,res.xhr)||rawEvents),context.dispatch({type:"RECEIVE_EVENTS",sourceId:eventSource.sourceId,fetchId:fetchId,fetchRange:fetchRange,rawEvents:rawEvents})}),(function(error){console.warn(error.message,error),options.eventSourceFailure&&options.eventSourceFailure.call(calendarApi,error),eventSource.failure&&eventSource.failure(error),context.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:eventSource.sourceId,fetchId:fetchId,fetchRange:fetchRange,error:error})})),__assign(__assign({},eventSource),{isFetching:!0,latestFetchId:fetchId})}function receiveResponse(sourceHash,sourceId,fetchId,fetchRange){var _a,eventSource=sourceHash[sourceId];return eventSource&&fetchId===eventSource.latestFetchId?__assign(__assign({},sourceHash),((_a={})[sourceId]=__assign(__assign({},eventSource),{isFetching:!1,fetchRange:fetchRange}),_a)):sourceHash}function excludeStaticSources(eventSources,context){return filterHash(eventSources,(function(eventSource){return doesSourceNeedRange(eventSource,context)}))}function parseInitialSources(rawOptions,context){var refiners=buildEventSourceRefiners(context),rawSources=[].concat(rawOptions.eventSources||[]),sources=[];rawOptions.initialEvents&&rawSources.unshift(rawOptions.initialEvents),rawOptions.events&&rawSources.unshift(rawOptions.events);for(var _i=0,rawSources_1=rawSources;_i<rawSources_1.length;_i++){var rawSource,source=parseEventSource(rawSources_1[_i],context,refiners);source&&sources.push(source)}return sources}function doesSourceNeedRange(eventSource,context){var defs;return!context.pluginHooks.eventSourceDefs[eventSource.sourceDefId].ignoreRange}function reduceDateSelection(currentSelection,action){switch(action.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return action.selection;default:return currentSelection}}function reduceSelectedEvent(currentInstanceId,action){switch(action.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return action.eventInstanceId;default:return currentInstanceId}}function reduceEventDrag(currentDrag,action){var newDrag;switch(action.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return{affectedEvents:(newDrag=action.state).affectedEvents,mutatedEvents:newDrag.mutatedEvents,isEvent:newDrag.isEvent};default:return currentDrag}}function reduceEventResize(currentResize,action){var newResize;switch(action.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return{affectedEvents:(newResize=action.state).affectedEvents,mutatedEvents:newResize.mutatedEvents,isEvent:newResize.isEvent};default:return currentResize}}function parseToolbars(calendarOptions,calendarOptionOverrides,theme,viewSpecs,calendarApi){var viewsWithButtons=[],headerToolbar,footerToolbar;return{headerToolbar:calendarOptions.headerToolbar?parseToolbar(calendarOptions.headerToolbar,calendarOptions,calendarOptionOverrides,theme,viewSpecs,calendarApi,viewsWithButtons):null,footerToolbar:calendarOptions.footerToolbar?parseToolbar(calendarOptions.footerToolbar,calendarOptions,calendarOptionOverrides,theme,viewSpecs,calendarApi,viewsWithButtons):null,viewsWithButtons:viewsWithButtons}}function parseToolbar(sectionStrHash,calendarOptions,calendarOptionOverrides,theme,viewSpecs,calendarApi,viewsWithButtons){return mapHash(sectionStrHash,(function(sectionStr){return parseSection(sectionStr,calendarOptions,calendarOptionOverrides,theme,viewSpecs,calendarApi,viewsWithButtons)}))}function parseSection(sectionStr,calendarOptions,calendarOptionOverrides,theme,viewSpecs,calendarApi,viewsWithButtons){var isRtl="rtl"===calendarOptions.direction,calendarCustomButtons=calendarOptions.customButtons||{},calendarButtonTextOverrides=calendarOptionOverrides.buttonText||{},calendarButtonText=calendarOptions.buttonText||{},sectionSubstrs;return(sectionStr?sectionStr.split(" "):[]).map((function(buttonGroupStr){return buttonGroupStr.split(",").map((function(buttonName){return"title"===buttonName?{buttonName:buttonName}:((customButtonProps=calendarCustomButtons[buttonName])?(buttonClick=function(ev){customButtonProps.click&&customButtonProps.click.call(ev.target,ev,ev.target)},(buttonIcon=theme.getCustomButtonIconClass(customButtonProps))||(buttonIcon=theme.getIconClass(buttonName,isRtl))||(buttonText=customButtonProps.text)):(viewSpec=viewSpecs[buttonName])?(viewsWithButtons.push(buttonName),buttonClick=function(){calendarApi.changeView(buttonName)},(buttonText=viewSpec.buttonTextOverride)||(buttonIcon=theme.getIconClass(buttonName,isRtl))||(buttonText=viewSpec.buttonTextDefault)):calendarApi[buttonName]&&(buttonClick=function(){calendarApi[buttonName]()},(buttonText=calendarButtonTextOverrides[buttonName])||(buttonIcon=theme.getIconClass(buttonName,isRtl))||(buttonText=calendarButtonText[buttonName])),{buttonName:buttonName,buttonClick:buttonClick,buttonIcon:buttonIcon,buttonText:buttonText});var customButtonProps,viewSpec,buttonClick,buttonIcon,buttonText}))}))}function requestJson(method,url,params,successCallback,failureCallback){var body=null;"GET"===(method=method.toUpperCase())?url=injectQueryStringParams(url,params):body=encodeParams(params);var xhr=new XMLHttpRequest;xhr.open(method,url,!0),"GET"!==method&&xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),xhr.onload=function(){if(xhr.status>=200&&xhr.status<400){var parsed=!1,res=void 0;try{res=JSON.parse(xhr.responseText),parsed=!0}catch(err){}parsed?successCallback(res,xhr):failureCallback("Failure parsing JSON",xhr)}else failureCallback("Request failed",xhr)},xhr.onerror=function(){failureCallback("Request failed",xhr)},xhr.send(body)}function injectQueryStringParams(url,params){return url+(-1===url.indexOf("?")?"?":"&")+encodeParams(params)}function encodeParams(params){var parts=[];for(var key in params)parts.push(encodeURIComponent(key)+"="+encodeURIComponent(params[key]));return parts.join("&")}function buildRequestParams(meta,range,context){var dateEnv=context.dateEnv,options=context.options,startParam,endParam,timeZoneParam,customRequestParams,params={};return null==(startParam=meta.startParam)&&(startParam=options.startParam),null==(endParam=meta.endParam)&&(endParam=options.endParam),null==(timeZoneParam=meta.timeZoneParam)&&(timeZoneParam=options.timeZoneParam),customRequestParams="function"==typeof meta.extraParams?meta.extraParams():meta.extraParams||{},__assign(params,customRequestParams),params[startParam]=dateEnv.formatIso(range.start),params[endParam]=dateEnv.formatIso(range.end),"local"!==dateEnv.timeZone&&(params[timeZoneParam]=dateEnv.timeZone),params}function expandRanges(daysOfWeek,startTime,framingRange,dateEnv){for(var dowHash=daysOfWeek?arrayToHash(daysOfWeek):null,dayMarker=startOfDay(framingRange.start),endMarker=framingRange.end,instanceStarts=[];dayMarker<endMarker;){var instanceStart=void 0;dowHash&&!dowHash[dayMarker.getUTCDay()]||(instanceStart=startTime?dateEnv.add(dayMarker,startTime):dayMarker,instanceStarts.push(instanceStart)),dayMarker=addDays(dayMarker,1)}return instanceStarts}function handleEventSources(inputs,context){for(var unfoundSources=hashValuesToArray(context.getCurrentData().eventSources),newInputs=[],_i=0,inputs_1=inputs;_i<inputs_1.length;_i++){for(var input=inputs_1[_i],inputFound=!1,i=0;i<unfoundSources.length;i+=1)if(unfoundSources[i]._raw===input){unfoundSources.splice(i,1),inputFound=!0;break}inputFound||newInputs.push(input)}for(var _a=0,unfoundSources_1=unfoundSources;_a<unfoundSources_1.length;_a++){var unfoundSource=unfoundSources_1[_a];context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:unfoundSource.sourceId})}for(var _b=0,newInputs_1=newInputs;_b<newInputs_1.length;_b++){var newInput=newInputs_1[_b];context.calendarApi.addEventSource(newInput)}}function handleDateProfile(dateProfile,context){context.emitter.trigger("datesSet",__assign(__assign({},buildRangeApiWithTimeZone(dateProfile.activeRange,context.dateEnv)),{view:context.viewApi}))}function handleEventStore(eventStore,context){var emitter=context.emitter;emitter.hasHandlers("eventsSet")&&emitter.trigger("eventsSet",buildEventApis(eventStore,context))}var globalPlugins=[createPlugin({eventSourceDefs:[{ignoreRange:!0,parseMeta:function(refined){return Array.isArray(refined.events)?refined.events:null},fetch:function(arg,success){success({rawEvents:arg.eventSource.meta})}}]}),createPlugin({eventSourceDefs:[{parseMeta:function(refined){return"function"==typeof refined.events?refined.events:null},fetch:function(arg,success,failure){var dateEnv=arg.context.dateEnv,func;unpromisify(arg.eventSource.meta.bind(null,buildRangeApiWithTimeZone(arg.range,dateEnv)),(function(rawEvents){success({rawEvents:rawEvents})}),failure)}}]}),createPlugin({eventSourceRefiners:{method:String,extraParams:identity,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:function(refined){return!refined.url||"json"!==refined.format&&refined.format?null:{url:refined.url,format:"json",method:(refined.method||"GET").toUpperCase(),extraParams:refined.extraParams,startParam:refined.startParam,endParam:refined.endParam,timeZoneParam:refined.timeZoneParam}},fetch:function(arg,success,failure){var meta=arg.eventSource.meta,requestParams=buildRequestParams(meta,arg.range,arg.context);requestJson(meta.method,meta.url,requestParams,(function(rawEvents,xhr){success({rawEvents:rawEvents,xhr:xhr})}),(function(errorMessage,xhr){failure({message:errorMessage,xhr:xhr})}))}}]}),createPlugin({recurringTypes:[{parse:function(refined,dateEnv){if(refined.daysOfWeek||refined.startTime||refined.endTime||refined.startRecur||refined.endRecur){var recurringData={daysOfWeek:refined.daysOfWeek||null,startTime:refined.startTime||null,endTime:refined.endTime||null,startRecur:refined.startRecur?dateEnv.createMarker(refined.startRecur):null,endRecur:refined.endRecur?dateEnv.createMarker(refined.endRecur):null},duration=void 0;return refined.duration&&(duration=refined.duration),!duration&&refined.startTime&&refined.endTime&&(duration=subtractDurations(refined.endTime,refined.startTime)),{allDayGuess:Boolean(!refined.startTime&&!refined.endTime),duration:duration,typeData:recurringData}}return null},expand:function(typeData,framingRange,dateEnv){var clippedFramingRange=intersectRanges(framingRange,{start:typeData.startRecur,end:typeData.endRecur});return clippedFramingRange?expandRanges(typeData.daysOfWeek,typeData.startTime,clippedFramingRange,dateEnv):[]}}],eventRefiners:{daysOfWeek:identity,startTime:createDuration,endTime:createDuration,duration:createDuration,startRecur:identity,endRecur:identity}}),createPlugin({optionChangeHandlers:{events:function(events,context){handleEventSources([events],context)},eventSources:handleEventSources}}),createPlugin({isLoadingFuncs:[function(state){return computeEventSourcesLoading(state.eventSources)}],contentTypeHandlers:{html:function(){return{render:injectHtml}},domNodes:function(){return{render:injectDomNodes}}},propSetHandlers:{dateProfile:handleDateProfile,eventStore:handleEventStore}})];function injectHtml(el,html){el.innerHTML=html}function injectDomNodes(el,domNodes){var oldNodes=Array.prototype.slice.call(el.childNodes),newNodes=Array.prototype.slice.call(domNodes);if(!isArraysEqual(oldNodes,newNodes)){for(var _i=0,newNodes_1=newNodes;_i<newNodes_1.length;_i++){var newNode=newNodes_1[_i];el.appendChild(newNode)}oldNodes.forEach(removeElement)}}var DelayedRunner=function(){function DelayedRunner(drainedOption){this.drainedOption=drainedOption,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}return DelayedRunner.prototype.request=function(delay){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==delay?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),delay))},DelayedRunner.prototype.pause=function(scope){void 0===scope&&(scope="");var pauseDepths=this.pauseDepths;pauseDepths[scope]=(pauseDepths[scope]||0)+1,this.clearTimeout()},DelayedRunner.prototype.resume=function(scope,force){void 0===scope&&(scope="");var pauseDepths=this.pauseDepths;if(scope in pauseDepths){var depth;if(force)delete pauseDepths[scope];else pauseDepths[scope]-=1,pauseDepths[scope]<=0&&delete pauseDepths[scope];this.tryDrain()}},DelayedRunner.prototype.isPaused=function(){return Object.keys(this.pauseDepths).length},DelayedRunner.prototype.tryDrain=function(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}},DelayedRunner.prototype.clear=function(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}},DelayedRunner.prototype.clearTimeout=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)},DelayedRunner.prototype.drained=function(){this.drainedOption&&this.drainedOption()},DelayedRunner}(),TaskRunner=function(){function TaskRunner(runTaskOption,drainedOption){this.runTaskOption=runTaskOption,this.drainedOption=drainedOption,this.queue=[],this.delayedRunner=new DelayedRunner(this.drain.bind(this))}return TaskRunner.prototype.request=function(task,delay){this.queue.push(task),this.delayedRunner.request(delay)},TaskRunner.prototype.pause=function(scope){this.delayedRunner.pause(scope)},TaskRunner.prototype.resume=function(scope,force){this.delayedRunner.resume(scope,force)},TaskRunner.prototype.drain=function(){for(var queue=this.queue;queue.length;){for(var completedTasks=[],task=void 0;task=queue.shift();)this.runTask(task),completedTasks.push(task);this.drained(completedTasks)}},TaskRunner.prototype.runTask=function(task){this.runTaskOption&&this.runTaskOption(task)},TaskRunner.prototype.drained=function(completedTasks){this.drainedOption&&this.drainedOption(completedTasks)},TaskRunner}();function buildTitle(dateProfile,viewOptions,dateEnv){var range;return range=/^(year|month)$/.test(dateProfile.currentRangeUnit)?dateProfile.currentRange:dateProfile.activeRange,dateEnv.formatRange(range.start,range.end,createFormatter(viewOptions.titleFormat||buildTitleFormat(dateProfile)),{isEndExclusive:dateProfile.isRangeAllDay,defaultSeparator:viewOptions.titleRangeSeparator})}function buildTitleFormat(dateProfile){var currentRangeUnit=dateProfile.currentRangeUnit;if("year"===currentRangeUnit)return{year:"numeric"};if("month"===currentRangeUnit)return{year:"numeric",month:"long"};var days=diffWholeDays(dateProfile.currentRange.start,dateProfile.currentRange.end);return null!==days&&days>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}var CalendarDataManager=function(){function CalendarDataManager(props){var _this=this;this.computeOptionsData=memoize(this._computeOptionsData),this.computeCurrentViewData=memoize(this._computeCurrentViewData),this.organizeRawLocales=memoize(organizeRawLocales),this.buildLocale=memoize(buildLocale),this.buildPluginHooks=buildBuildPluginHooks(),this.buildDateEnv=memoize(buildDateEnv$1),this.buildTheme=memoize(buildTheme),this.parseToolbars=memoize(parseToolbars),this.buildViewSpecs=memoize(buildViewSpecs),this.buildDateProfileGenerator=memoizeObjArg(buildDateProfileGenerator),this.buildViewApi=memoize(buildViewApi),this.buildViewUiProps=memoizeObjArg(buildViewUiProps),this.buildEventUiBySource=memoize(buildEventUiBySource,isPropsEqual),this.buildEventUiBases=memoize(buildEventUiBases),this.parseContextBusinessHours=memoizeObjArg(parseContextBusinessHours),this.buildTitle=memoize(buildTitle),this.emitter=new Emitter,this.actionRunner=new TaskRunner(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.getCurrentData=function(){return _this.data},this.dispatch=function(action){_this.actionRunner.request(action)},this.props=props,this.actionRunner.pause();var dynamicOptionOverrides={},optionsData=this.computeOptionsData(props.optionOverrides,dynamicOptionOverrides,props.calendarApi),currentViewType=optionsData.calendarOptions.initialView||optionsData.pluginHooks.initialView,currentViewData=this.computeCurrentViewData(currentViewType,optionsData,props.optionOverrides,dynamicOptionOverrides);props.calendarApi.currentDataManager=this,this.emitter.setThisContext(props.calendarApi),this.emitter.setOptions(currentViewData.options);var currentDate=getInitialDate(optionsData.calendarOptions,optionsData.dateEnv),dateProfile=currentViewData.dateProfileGenerator.build(currentDate);rangeContainsMarker(dateProfile.activeRange,currentDate)||(currentDate=dateProfile.currentRange.start);for(var calendarContext={dateEnv:optionsData.dateEnv,options:optionsData.calendarOptions,pluginHooks:optionsData.pluginHooks,calendarApi:props.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},_i=0,_a=optionsData.pluginHooks.contextInit;_i<_a.length;_i++){var callback;(0,_a[_i])(calendarContext)}for(var eventSources=initEventSources(optionsData.calendarOptions,dateProfile,calendarContext),initialState={dynamicOptionOverrides:dynamicOptionOverrides,currentViewType:currentViewType,currentDate:currentDate,dateProfile:dateProfile,businessHours:this.parseContextBusinessHours(calendarContext),eventSources:eventSources,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(calendarContext).selectionConfig},contextAndState=__assign(__assign({},calendarContext),initialState),_b=0,_c=optionsData.pluginHooks.reducers;_b<_c.length;_b++){var reducer=_c[_b];__assign(initialState,reducer(null,null,contextAndState))}computeIsLoading(initialState,calendarContext)&&this.emitter.trigger("loading",!0),this.state=initialState,this.updateData(),this.actionRunner.resume()}return CalendarDataManager.prototype.resetOptions=function(optionOverrides,append){var props=this.props;props.optionOverrides=append?__assign(__assign({},props.optionOverrides),optionOverrides):optionOverrides,this.actionRunner.request({type:"NOTHING"})},CalendarDataManager.prototype._handleAction=function(action){var _a=this,props=_a.props,state=_a.state,emitter=_a.emitter,dynamicOptionOverrides=reduceDynamicOptionOverrides(state.dynamicOptionOverrides,action),optionsData=this.computeOptionsData(props.optionOverrides,dynamicOptionOverrides,props.calendarApi),currentViewType=reduceViewType(state.currentViewType,action),currentViewData=this.computeCurrentViewData(currentViewType,optionsData,props.optionOverrides,dynamicOptionOverrides);props.calendarApi.currentDataManager=this,emitter.setThisContext(props.calendarApi),emitter.setOptions(currentViewData.options);var calendarContext={dateEnv:optionsData.dateEnv,options:optionsData.calendarOptions,pluginHooks:optionsData.pluginHooks,calendarApi:props.calendarApi,dispatch:this.dispatch,emitter:emitter,getCurrentData:this.getCurrentData},currentDate=state.currentDate,dateProfile=state.dateProfile;this.data&&this.data.dateProfileGenerator!==currentViewData.dateProfileGenerator&&(dateProfile=currentViewData.dateProfileGenerator.build(currentDate)),rangeContainsMarker((dateProfile=reduceDateProfile(dateProfile,action,currentDate=reduceCurrentDate(currentDate,action),currentViewData.dateProfileGenerator)).currentRange,currentDate)||(currentDate=dateProfile.currentRange.start);for(var eventSources=reduceEventSources(state.eventSources,action,dateProfile,calendarContext),eventStore=reduceEventStore(state.eventStore,action,eventSources,dateProfile,calendarContext),isEventsLoading,renderableEventStore=computeEventSourcesLoading(eventSources)&&!currentViewData.options.progressiveEventRendering&&state.renderableEventStore||eventStore,_b=this.buildViewUiProps(calendarContext),eventUiSingleBase=_b.eventUiSingleBase,selectionConfig=_b.selectionConfig,eventUiBySource=this.buildEventUiBySource(eventSources),eventUiBases,newState={dynamicOptionOverrides:dynamicOptionOverrides,currentViewType:currentViewType,currentDate:currentDate,dateProfile:dateProfile,eventSources:eventSources,eventStore:eventStore,renderableEventStore:renderableEventStore,selectionConfig:selectionConfig,eventUiBases:this.buildEventUiBases(renderableEventStore.defs,eventUiSingleBase,eventUiBySource),businessHours:this.parseContextBusinessHours(calendarContext),dateSelection:reduceDateSelection(state.dateSelection,action),eventSelection:reduceSelectedEvent(state.eventSelection,action),eventDrag:reduceEventDrag(state.eventDrag,action),eventResize:reduceEventResize(state.eventResize,action)},contextAndState=__assign(__assign({},calendarContext),newState),_i=0,_c=optionsData.pluginHooks.reducers;_i<_c.length;_i++){var reducer=_c[_i];__assign(newState,reducer(state,action,contextAndState))}var wasLoading=computeIsLoading(state,calendarContext),isLoading=computeIsLoading(newState,calendarContext);!wasLoading&&isLoading?emitter.trigger("loading",!0):wasLoading&&!isLoading&&emitter.trigger("loading",!1),this.state=newState,props.onAction&&props.onAction(action)},CalendarDataManager.prototype.updateData=function(){var _a=this,props=_a.props,state=_a.state,oldData=this.data,optionsData=this.computeOptionsData(props.optionOverrides,state.dynamicOptionOverrides,props.calendarApi),currentViewData=this.computeCurrentViewData(state.currentViewType,optionsData,props.optionOverrides,state.dynamicOptionOverrides),data=this.data=__assign(__assign(__assign({viewTitle:this.buildTitle(state.dateProfile,currentViewData.options,optionsData.dateEnv),calendarApi:props.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},optionsData),currentViewData),state),changeHandlers=optionsData.pluginHooks.optionChangeHandlers,oldCalendarOptions=oldData&&oldData.calendarOptions,newCalendarOptions=optionsData.calendarOptions;if(oldCalendarOptions&&oldCalendarOptions!==newCalendarOptions)for(var optionName in oldCalendarOptions.timeZone!==newCalendarOptions.timeZone&&(state.eventSources=data.eventSources=reduceEventSourcesNewTimeZone(data.eventSources,state.dateProfile,data),state.eventStore=data.eventStore=rezoneEventStoreDates(data.eventStore,oldData.dateEnv,data.dateEnv)),changeHandlers)oldCalendarOptions[optionName]!==newCalendarOptions[optionName]&&changeHandlers[optionName](newCalendarOptions[optionName],data);props.onData&&props.onData(data)},CalendarDataManager.prototype._computeOptionsData=function(optionOverrides,dynamicOptionOverrides,calendarApi){var _a=this.processRawCalendarOptions(optionOverrides,dynamicOptionOverrides),refinedOptions=_a.refinedOptions,pluginHooks=_a.pluginHooks,localeDefaults=_a.localeDefaults,availableLocaleData=_a.availableLocaleData,extra;warnUnknownOptions(_a.extra);var dateEnv=this.buildDateEnv(refinedOptions.timeZone,refinedOptions.locale,refinedOptions.weekNumberCalculation,refinedOptions.firstDay,refinedOptions.weekText,pluginHooks,availableLocaleData,refinedOptions.defaultRangeSeparator),viewSpecs=this.buildViewSpecs(pluginHooks.views,optionOverrides,dynamicOptionOverrides,localeDefaults),theme=this.buildTheme(refinedOptions,pluginHooks),toolbarConfig;return{calendarOptions:refinedOptions,pluginHooks:pluginHooks,dateEnv:dateEnv,viewSpecs:viewSpecs,theme:theme,toolbarConfig:this.parseToolbars(refinedOptions,optionOverrides,theme,viewSpecs,calendarApi),localeDefaults:localeDefaults,availableRawLocales:availableLocaleData.map}},CalendarDataManager.prototype.processRawCalendarOptions=function(optionOverrides,dynamicOptionOverrides){var _a=mergeRawOptions([BASE_OPTION_DEFAULTS,optionOverrides,dynamicOptionOverrides]),locales=_a.locales,locale=_a.locale,availableLocaleData=this.organizeRawLocales(locales),availableRawLocales=availableLocaleData.map,localeDefaults=this.buildLocale(locale||availableLocaleData.defaultCode,availableRawLocales).options,pluginHooks=this.buildPluginHooks(optionOverrides.plugins||[],globalPlugins),refiners=this.currentCalendarOptionsRefiners=__assign(__assign(__assign(__assign(__assign({},BASE_OPTION_REFINERS),CALENDAR_LISTENER_REFINERS),CALENDAR_OPTION_REFINERS),pluginHooks.listenerRefiners),pluginHooks.optionRefiners),extra={},raw=mergeRawOptions([BASE_OPTION_DEFAULTS,localeDefaults,optionOverrides,dynamicOptionOverrides]),refined={},currentRaw=this.currentCalendarOptionsInput,currentRefined=this.currentCalendarOptionsRefined,anyChanges=!1;for(var optionName in raw)"plugins"!==optionName&&(raw[optionName]===currentRaw[optionName]||COMPLEX_OPTION_COMPARATORS[optionName]&&optionName in currentRaw&&COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName],raw[optionName])?refined[optionName]=currentRefined[optionName]:refiners[optionName]?(refined[optionName]=refiners[optionName](raw[optionName]),anyChanges=!0):extra[optionName]=currentRaw[optionName]);return anyChanges&&(this.currentCalendarOptionsInput=raw,this.currentCalendarOptionsRefined=refined),{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:pluginHooks,availableLocaleData:availableLocaleData,localeDefaults:localeDefaults,extra:extra}},CalendarDataManager.prototype._computeCurrentViewData=function(viewType,optionsData,optionOverrides,dynamicOptionOverrides){var viewSpec=optionsData.viewSpecs[viewType];if(!viewSpec)throw new Error('viewType "'+viewType+"\" is not available. Please make sure you've loaded all neccessary plugins");var _a=this.processRawViewOptions(viewSpec,optionsData.pluginHooks,optionsData.localeDefaults,optionOverrides,dynamicOptionOverrides),refinedOptions=_a.refinedOptions,extra,dateProfileGenerator,viewApi;return warnUnknownOptions(_a.extra),{viewSpec:viewSpec,options:refinedOptions,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:viewSpec.optionDefaults.dateProfileGeneratorClass,duration:viewSpec.duration,durationUnit:viewSpec.durationUnit,usesMinMaxTime:viewSpec.optionDefaults.usesMinMaxTime,dateEnv:optionsData.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:refinedOptions.slotMinTime,slotMaxTime:refinedOptions.slotMaxTime,showNonCurrentDates:refinedOptions.showNonCurrentDates,dayCount:refinedOptions.dayCount,dateAlignment:refinedOptions.dateAlignment,dateIncrement:refinedOptions.dateIncrement,hiddenDays:refinedOptions.hiddenDays,weekends:refinedOptions.weekends,nowInput:refinedOptions.now,validRangeInput:refinedOptions.validRange,visibleRangeInput:refinedOptions.visibleRange,monthMode:refinedOptions.monthMode,fixedWeekCount:refinedOptions.fixedWeekCount}),viewApi:this.buildViewApi(viewType,this.getCurrentData,optionsData.dateEnv)}},CalendarDataManager.prototype.processRawViewOptions=function(viewSpec,pluginHooks,localeDefaults,optionOverrides,dynamicOptionOverrides){var raw=mergeRawOptions([BASE_OPTION_DEFAULTS,viewSpec.optionDefaults,localeDefaults,optionOverrides,viewSpec.optionOverrides,dynamicOptionOverrides]),refiners=__assign(__assign(__assign(__assign(__assign(__assign({},BASE_OPTION_REFINERS),CALENDAR_LISTENER_REFINERS),CALENDAR_OPTION_REFINERS),VIEW_OPTION_REFINERS),pluginHooks.listenerRefiners),pluginHooks.optionRefiners),refined={},currentRaw=this.currentViewOptionsInput,currentRefined=this.currentViewOptionsRefined,anyChanges=!1,extra={};for(var optionName in raw)raw[optionName]===currentRaw[optionName]?refined[optionName]=currentRefined[optionName]:(raw[optionName]===this.currentCalendarOptionsInput[optionName]?optionName in this.currentCalendarOptionsRefined&&(refined[optionName]=this.currentCalendarOptionsRefined[optionName]):refiners[optionName]?refined[optionName]=refiners[optionName](raw[optionName]):extra[optionName]=raw[optionName],anyChanges=!0);return anyChanges&&(this.currentViewOptionsInput=raw,this.currentViewOptionsRefined=refined),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:extra}},CalendarDataManager}();function buildDateEnv$1(timeZone,explicitLocale,weekNumberCalculation,firstDay,weekText,pluginHooks,availableLocaleData,defaultSeparator){var locale=buildLocale(explicitLocale||availableLocaleData.defaultCode,availableLocaleData.map);return new DateEnv({calendarSystem:"gregory",timeZone:timeZone,namedTimeZoneImpl:pluginHooks.namedTimeZonedImpl,locale:locale,weekNumberCalculation:weekNumberCalculation,firstDay:firstDay,weekText:weekText,cmdFormatter:pluginHooks.cmdFormatter,defaultSeparator:defaultSeparator})}function buildTheme(options,pluginHooks){var ThemeClass;return new(pluginHooks.themeClasses[options.themeSystem]||StandardTheme)(options)}function buildDateProfileGenerator(props){var DateProfileGeneratorClass;return new(props.dateProfileGeneratorClass||DateProfileGenerator)(props)}function buildViewApi(type,getCurrentData,dateEnv){return new ViewApi(type,getCurrentData,dateEnv)}function buildEventUiBySource(eventSources){return mapHash(eventSources,(function(eventSource){return eventSource.ui}))}function buildEventUiBases(eventDefs,eventUiSingleBase,eventUiBySource){var eventUiBases={"":eventUiSingleBase};for(var defId in eventDefs){var def=eventDefs[defId];def.sourceId&&eventUiBySource[def.sourceId]&&(eventUiBases[defId]=eventUiBySource[def.sourceId])}return eventUiBases}function buildViewUiProps(calendarContext){var options=calendarContext.options;return{eventUiSingleBase:createEventUi({display:options.eventDisplay,editable:options.editable,startEditable:options.eventStartEditable,durationEditable:options.eventDurationEditable,constraint:options.eventConstraint,overlap:"boolean"==typeof options.eventOverlap?options.eventOverlap:void 0,allow:options.eventAllow,backgroundColor:options.eventBackgroundColor,borderColor:options.eventBorderColor,textColor:options.eventTextColor,color:options.eventColor},calendarContext),selectionConfig:createEventUi({constraint:options.selectConstraint,overlap:"boolean"==typeof options.selectOverlap?options.selectOverlap:void 0,allow:options.selectAllow},calendarContext)}}function computeIsLoading(state,context){for(var _i=0,_a=context.pluginHooks.isLoadingFuncs;_i<_a.length;_i++){var isLoadingFunc;if((0,_a[_i])(state))return!0}return!1}function parseContextBusinessHours(calendarContext){return parseBusinessHours(calendarContext.options.businessHours,calendarContext)}function warnUnknownOptions(options,viewName){for(var optionName in options)console.warn("Unknown option '"+optionName+"'"+(viewName?" for view '"+viewName+"'":""))}var CalendarDataProvider=function(_super){function CalendarDataProvider(props){var _this=_super.call(this,props)||this;return _this.handleData=function(data){_this.dataManager?_this.setState(data):_this.state=data},_this.dataManager=new CalendarDataManager({optionOverrides:props.optionOverrides,calendarApi:props.calendarApi,onData:_this.handleData}),_this}return __extends(CalendarDataProvider,_super),CalendarDataProvider.prototype.render=function(){return this.props.children(this.state)},CalendarDataProvider.prototype.componentDidUpdate=function(prevProps){var newOptionOverrides=this.props.optionOverrides;newOptionOverrides!==prevProps.optionOverrides&&this.dataManager.resetOptions(newOptionOverrides)},CalendarDataProvider}(Component);function sliceEvents(props,allDay){return sliceEventStore(props.eventStore,props.eventUiBases,props.dateProfile.activeRange,allDay?props.nextDayThreshold:null).fg}var NamedTimeZoneImpl=function(){function NamedTimeZoneImpl(timeZoneName){this.timeZoneName=timeZoneName}return NamedTimeZoneImpl}(),Interaction=function(){function Interaction(settings){this.component=settings.component}return Interaction.prototype.destroy=function(){},Interaction}();function parseInteractionSettings(component,input){return{component:component,el:input.el,useEventCenter:null==input.useEventCenter||input.useEventCenter}}function interactionSettingsToStore(settings){var _a;return(_a={})[settings.component.uid]=settings,_a}var interactionSettingsStore={},ElementDragging=function(){function ElementDragging(el,selector){this.emitter=new Emitter}return ElementDragging.prototype.destroy=function(){},ElementDragging.prototype.setMirrorIsVisible=function(bool){},ElementDragging.prototype.setMirrorNeedsRevert=function(bool){},ElementDragging.prototype.setAutoScrollEnabled=function(bool){},ElementDragging}(),config={},DRAG_META_REFINERS={startTime:createDuration,duration:createDuration,create:Boolean,sourceId:String};function parseDragMeta(raw){var _a=refineProps(raw,DRAG_META_REFINERS),refined=_a.refined,extra=_a.extra;return{startTime:refined.startTime||null,duration:refined.duration||null,create:null==refined.create||refined.create,sourceId:refined.sourceId,leftoverProps:extra}}var ToolbarSection=function(_super){function ToolbarSection(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ToolbarSection,_super),ToolbarSection.prototype.render=function(){var _this=this,children=this.props.widgetGroups.map((function(widgetGroup){return _this.renderWidgetGroup(widgetGroup)}));return createElement.apply(void 0,__spreadArrays(["div",{className:"fc-toolbar-chunk"}],children))},ToolbarSection.prototype.renderWidgetGroup=function(widgetGroup){for(var props=this.props,theme=this.context.theme,children=[],isOnlyButtons=!0,_i=0,widgetGroup_1=widgetGroup;_i<widgetGroup_1.length;_i++){var widget=widgetGroup_1[_i],buttonName=widget.buttonName,buttonClick=widget.buttonClick,buttonText=widget.buttonText,buttonIcon=widget.buttonIcon;if("title"===buttonName)isOnlyButtons=!1,children.push(createElement("h2",{className:"fc-toolbar-title"},props.title));else{var ariaAttrs=buttonIcon?{"aria-label":buttonName}:{},buttonClasses=["fc-"+buttonName+"-button",theme.getClass("button")];buttonName===props.activeButton&&buttonClasses.push(theme.getClass("buttonActive"));var isDisabled=!props.isTodayEnabled&&"today"===buttonName||!props.isPrevEnabled&&"prev"===buttonName||!props.isNextEnabled&&"next"===buttonName;children.push(createElement("button",__assign({disabled:isDisabled,className:buttonClasses.join(" "),onClick:buttonClick,type:"button"},ariaAttrs),buttonText||(buttonIcon?createElement("span",{className:buttonIcon}):"")))}}if(children.length>1){var groupClassName=isOnlyButtons&&theme.getClass("buttonGroup")||"";return createElement.apply(void 0,__spreadArrays(["div",{className:groupClassName}],children))}return children[0]},ToolbarSection}(BaseComponent),Toolbar=function(_super){function Toolbar(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(Toolbar,_super),Toolbar.prototype.render=function(){var _a=this.props,model=_a.model,extraClassName=_a.extraClassName,forceLtr=!1,startContent,endContent,centerContent=model.center,classNames;return model.left?(forceLtr=!0,startContent=model.left):startContent=model.start,model.right?(forceLtr=!0,endContent=model.right):endContent=model.end,createElement("div",{className:[extraClassName||"","fc-toolbar",forceLtr?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",startContent||[]),this.renderSection("center",centerContent||[]),this.renderSection("end",endContent||[]))},Toolbar.prototype.renderSection=function(key,widgetGroups){var props=this.props;return createElement(ToolbarSection,{key:key,widgetGroups:widgetGroups,title:props.title,activeButton:props.activeButton,isTodayEnabled:props.isTodayEnabled,isPrevEnabled:props.isPrevEnabled,isNextEnabled:props.isNextEnabled})},Toolbar}(BaseComponent),ViewContainer=function(_super){function ViewContainer(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.state={availableWidth:null},_this.handleEl=function(el){_this.el=el,setRef(_this.props.elRef,el),_this.updateAvailableWidth()},_this.handleResize=function(){_this.updateAvailableWidth()},_this}return __extends(ViewContainer,_super),ViewContainer.prototype.render=function(){var _a=this,props=_a.props,state=_a.state,aspectRatio=props.aspectRatio,classNames=["fc-view-harness",aspectRatio||props.liquid||props.height?"fc-view-harness-active":"fc-view-harness-passive"],height="",paddingBottom="";return aspectRatio?null!==state.availableWidth?height=state.availableWidth/aspectRatio:paddingBottom=1/aspectRatio*100+"%":height=props.height||"",createElement("div",{ref:this.handleEl,onClick:props.onClick,className:classNames.join(" "),style:{height:height,paddingBottom:paddingBottom}},props.children)},ViewContainer.prototype.componentDidMount=function(){this.context.addResizeHandler(this.handleResize)},ViewContainer.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleResize)},ViewContainer.prototype.updateAvailableWidth=function(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})},ViewContainer}(BaseComponent),EventClicking=function(_super){function EventClicking(settings){var _this=_super.call(this,settings)||this;return _this.handleSegClick=function(ev,segEl){var component=_this.component,context=component.context,seg=getElSeg(segEl);if(seg&&component.isValidSegDownEl(ev.target)){var hasUrlContainer=elementClosest(ev.target,".fc-event-forced-url"),url=hasUrlContainer?hasUrlContainer.querySelector("a[href]").href:"";context.emitter.trigger("eventClick",{el:segEl,event:new EventApi(component.context,seg.eventRange.def,seg.eventRange.instance),jsEvent:ev,view:context.viewApi}),url&&!ev.defaultPrevented&&(window.location.href=url)}},_this.destroy=listenBySelector(settings.el,"click",".fc-event",_this.handleSegClick),_this}return __extends(EventClicking,_super),EventClicking}(Interaction),EventHovering=function(_super){function EventHovering(settings){var _this=_super.call(this,settings)||this;return _this.handleEventElRemove=function(el){el===_this.currentSegEl&&_this.handleSegLeave(null,_this.currentSegEl)},_this.handleSegEnter=function(ev,segEl){getElSeg(segEl)&&(_this.currentSegEl=segEl,_this.triggerEvent("eventMouseEnter",ev,segEl))},_this.handleSegLeave=function(ev,segEl){_this.currentSegEl&&(_this.currentSegEl=null,_this.triggerEvent("eventMouseLeave",ev,segEl))},_this.removeHoverListeners=listenToHoverBySelector(settings.el,".fc-event",_this.handleSegEnter,_this.handleSegLeave),_this}return __extends(EventHovering,_super),EventHovering.prototype.destroy=function(){this.removeHoverListeners()},EventHovering.prototype.triggerEvent=function(publicEvName,ev,segEl){var component=this.component,context=component.context,seg=getElSeg(segEl);ev&&!component.isValidSegDownEl(ev.target)||context.emitter.trigger(publicEvName,{el:segEl,event:new EventApi(context,seg.eventRange.def,seg.eventRange.instance),jsEvent:ev,view:context.viewApi})},EventHovering}(Interaction),CalendarContent=function(_super){function CalendarContent(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.buildViewContext=memoize(buildViewContext),_this.buildViewPropTransformers=memoize(buildViewPropTransformers),_this.buildToolbarProps=memoize(buildToolbarProps),_this.handleNavLinkClick=buildDelegationHandler("a[data-navlink]",_this._handleNavLinkClick.bind(_this)),_this.headerRef=createRef(),_this.footerRef=createRef(),_this.interactionsStore={},_this.registerInteractiveComponent=function(component,settingsInput){var settings=parseInteractionSettings(component,settingsInput),DEFAULT_INTERACTIONS,interactionClasses,interactions=[EventClicking,EventHovering].concat(_this.props.pluginHooks.componentInteractions).map((function(TheInteractionClass){return new TheInteractionClass(settings)}));_this.interactionsStore[component.uid]=interactions,interactionSettingsStore[component.uid]=settings},_this.unregisterInteractiveComponent=function(component){for(var _i=0,_a=_this.interactionsStore[component.uid];_i<_a.length;_i++){var listener;_a[_i].destroy()}delete _this.interactionsStore[component.uid],delete interactionSettingsStore[component.uid]},_this.resizeRunner=new DelayedRunner((function(){_this.props.emitter.trigger("_resize",!0),_this.props.emitter.trigger("windowResize",{view:_this.props.viewApi})})),_this.handleWindowResize=function(ev){var options=_this.props.options;options.handleWindowResize&&ev.target===window&&_this.resizeRunner.request(options.windowResizeDelay)},_this}return __extends(CalendarContent,_super),CalendarContent.prototype.render=function(){var props=this.props,toolbarConfig=props.toolbarConfig,options=props.options,toolbarProps=this.buildToolbarProps(props.viewSpec,props.dateProfile,props.dateProfileGenerator,props.currentDate,getNow(props.options.now,props.dateEnv),props.viewTitle),viewVGrow=!1,viewHeight="",viewAspectRatio;props.isHeightAuto||props.forPrint?viewHeight="":null!=options.height?viewVGrow=!0:null!=options.contentHeight?viewHeight=options.contentHeight:viewAspectRatio=Math.max(options.aspectRatio,.5);var viewContext=this.buildViewContext(props.viewSpec,props.viewApi,props.options,props.dateProfileGenerator,props.dateEnv,props.theme,props.pluginHooks,props.dispatch,props.getCurrentData,props.emitter,props.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent);return createElement(ViewContextType.Provider,{value:viewContext},toolbarConfig.headerToolbar&&createElement(Toolbar,__assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:toolbarConfig.headerToolbar},toolbarProps)),createElement(ViewContainer,{liquid:viewVGrow,height:viewHeight,aspectRatio:viewAspectRatio,onClick:this.handleNavLinkClick},this.renderView(props),this.buildAppendContent()),toolbarConfig.footerToolbar&&createElement(Toolbar,__assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:toolbarConfig.footerToolbar},toolbarProps)))},CalendarContent.prototype.componentDidMount=function(){var props=this.props;this.calendarInteractions=props.pluginHooks.calendarInteractions.map((function(CalendarInteractionClass){return new CalendarInteractionClass(props)})),window.addEventListener("resize",this.handleWindowResize);var propSetHandlers=props.pluginHooks.propSetHandlers;for(var propName in propSetHandlers)propSetHandlers[propName](props[propName],props)},CalendarContent.prototype.componentDidUpdate=function(prevProps){var props=this.props,propSetHandlers=props.pluginHooks.propSetHandlers;for(var propName in propSetHandlers)props[propName]!==prevProps[propName]&&propSetHandlers[propName](props[propName],props)},CalendarContent.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(var _i=0,_a=this.calendarInteractions;_i<_a.length;_i++){var interaction;_a[_i].destroy()}this.props.emitter.trigger("_unmount")},CalendarContent.prototype._handleNavLinkClick=function(ev,anchorEl){var _a=this.props,dateEnv=_a.dateEnv,options=_a.options,calendarApi=_a.calendarApi,navLinkOptions=anchorEl.getAttribute("data-navlink");navLinkOptions=navLinkOptions?JSON.parse(navLinkOptions):{};var dateMarker=dateEnv.createMarker(navLinkOptions.date),viewType=navLinkOptions.type,customAction="day"===viewType?options.navLinkDayClick:"week"===viewType?options.navLinkWeekClick:null;"function"==typeof customAction?customAction.call(calendarApi,dateEnv.toDate(dateMarker),ev):("string"==typeof customAction&&(viewType=customAction),calendarApi.zoomTo(dateMarker,viewType))},CalendarContent.prototype.buildAppendContent=function(){var props=this.props,children=props.pluginHooks.viewContainerAppends.map((function(buildAppendContent){return buildAppendContent(props)}));return createElement.apply(void 0,__spreadArrays([Fragment,{}],children))},CalendarContent.prototype.renderView=function(props){for(var pluginHooks=props.pluginHooks,viewSpec=props.viewSpec,viewProps={dateProfile:props.dateProfile,businessHours:props.businessHours,eventStore:props.renderableEventStore,eventUiBases:props.eventUiBases,dateSelection:props.dateSelection,eventSelection:props.eventSelection,eventDrag:props.eventDrag,eventResize:props.eventResize,isHeightAuto:props.isHeightAuto,forPrint:props.forPrint},transformers,_i=0,transformers_1=this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);_i<transformers_1.length;_i++){var transformer=transformers_1[_i];__assign(viewProps,transformer.transform(viewProps,props))}var ViewComponent=viewSpec.component;return createElement(ViewComponent,__assign({},viewProps))},CalendarContent}(PureComponent);function buildToolbarProps(viewSpec,dateProfile,dateProfileGenerator,currentDate,now,title){var todayInfo=dateProfileGenerator.build(now,void 0,!1),prevInfo=dateProfileGenerator.buildPrev(dateProfile,currentDate,!1),nextInfo=dateProfileGenerator.buildNext(dateProfile,currentDate,!1);return{title:title,activeButton:viewSpec.type,isTodayEnabled:todayInfo.isValid&&!rangeContainsMarker(dateProfile.currentRange,now),isPrevEnabled:prevInfo.isValid,isNextEnabled:nextInfo.isValid}}function buildViewPropTransformers(theClasses){return theClasses.map((function(TheClass){return new TheClass}))}var CalendarRoot=function(_super){function CalendarRoot(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.state={forPrint:!1},_this.handleBeforePrint=function(){_this.setState({forPrint:!0})},_this.handleAfterPrint=function(){_this.setState({forPrint:!1})},_this}return __extends(CalendarRoot,_super),CalendarRoot.prototype.render=function(){var props=this.props,options=props.options,forPrint=this.state.forPrint,isHeightAuto=forPrint||"auto"===options.height||"auto"===options.contentHeight,height=isHeightAuto||null==options.height?"":options.height,classNames=["fc",forPrint?"fc-media-print":"fc-media-screen","fc-direction-"+options.direction,props.theme.getClass("root")];return getCanVGrowWithinCell()||classNames.push("fc-liquid-hack"),props.children(classNames,height,isHeightAuto,forPrint)},CalendarRoot.prototype.componentDidMount=function(){var emitter=this.props.emitter;emitter.on("_beforeprint",this.handleBeforePrint),emitter.on("_afterprint",this.handleAfterPrint)},CalendarRoot.prototype.componentWillUnmount=function(){var emitter=this.props.emitter;emitter.off("_beforeprint",this.handleBeforePrint),emitter.off("_afterprint",this.handleAfterPrint)},CalendarRoot}(BaseComponent);function computeFallbackHeaderFormat(datesRepDistinctDays,dayCnt){return createFormatter(!datesRepDistinctDays||dayCnt>10?{weekday:"short"}:dayCnt>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}var CLASS_NAME="fc-col-header-cell";function renderInner(hookProps){return hookProps.text}var TableDateCell=function(_super){function TableDateCell(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(TableDateCell,_super),TableDateCell.prototype.render=function(){var _a=this.context,dateEnv=_a.dateEnv,options=_a.options,theme=_a.theme,viewApi=_a.viewApi,props=this.props,date=props.date,dateProfile=props.dateProfile,dayMeta=getDateMeta(date,props.todayRange,null,dateProfile),classNames=[CLASS_NAME].concat(getDayClassNames(dayMeta,theme)),text=dateEnv.format(date,props.dayHeaderFormat),navLinkAttrs=options.navLinks&&!dayMeta.isDisabled&&props.colCnt>1?{"data-navlink":buildNavLinkData(date),tabIndex:0}:{},hookProps=__assign(__assign(__assign({date:dateEnv.toDate(date),view:viewApi},props.extraHookProps),{text:text}),dayMeta);return createElement(RenderHook,{hookProps:hookProps,classNames:options.dayHeaderClassNames,content:options.dayHeaderContent,defaultContent:renderInner,didMount:options.dayHeaderDidMount,willUnmount:options.dayHeaderWillUnmount},(function(rootElRef,customClassNames,innerElRef,innerContent){return createElement("th",__assign({ref:rootElRef,className:classNames.concat(customClassNames).join(" "),"data-date":dayMeta.isDisabled?void 0:formatDayString(date),colSpan:props.colSpan},props.extraDataAttrs),createElement("div",{className:"fc-scrollgrid-sync-inner"},!dayMeta.isDisabled&&createElement("a",__assign({ref:innerElRef,className:["fc-col-header-cell-cushion",props.isSticky?"fc-sticky":""].join(" ")},navLinkAttrs),innerContent)))}))},TableDateCell}(BaseComponent),TableDowCell=function(_super){function TableDowCell(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(TableDowCell,_super),TableDowCell.prototype.render=function(){var props=this.props,_a=this.context,dateEnv=_a.dateEnv,theme=_a.theme,viewApi=_a.viewApi,options=_a.options,date=addDays(new Date(2592e5),props.dow),dateMeta={dow:props.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},classNames=[CLASS_NAME].concat(getDayClassNames(dateMeta,theme),props.extraClassNames||[]),text=dateEnv.format(date,props.dayHeaderFormat),hookProps=__assign(__assign(__assign(__assign({date:date},dateMeta),{view:viewApi}),props.extraHookProps),{text:text});return createElement(RenderHook,{hookProps:hookProps,classNames:options.dayHeaderClassNames,content:options.dayHeaderContent,defaultContent:renderInner,didMount:options.dayHeaderDidMount,willUnmount:options.dayHeaderWillUnmount},(function(rootElRef,customClassNames,innerElRef,innerContent){return createElement("th",__assign({ref:rootElRef,className:classNames.concat(customClassNames).join(" "),colSpan:props.colSpan},props.extraDataAttrs),createElement("div",{className:"fc-scrollgrid-sync-inner"},createElement("a",{className:["fc-col-header-cell-cushion",props.isSticky?"fc-sticky":""].join(" "),ref:innerElRef},innerContent)))}))},TableDowCell}(BaseComponent),NowTimer=function(_super){function NowTimer(props,context){var _this=_super.call(this,props,context)||this;return _this.initialNowDate=getNow(context.options.now,context.dateEnv),_this.initialNowQueriedMs=(new Date).valueOf(),_this.state=_this.computeTiming().currentState,_this}return __extends(NowTimer,_super),NowTimer.prototype.render=function(){var _a=this,props=_a.props,state=_a.state;return props.children(state.nowDate,state.todayRange)},NowTimer.prototype.componentDidMount=function(){this.setTimeout()},NowTimer.prototype.componentDidUpdate=function(prevProps){prevProps.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())},NowTimer.prototype.componentWillUnmount=function(){this.clearTimeout()},NowTimer.prototype.computeTiming=function(){var _a=this,props=_a.props,context=_a.context,unroundedNow=addMs(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),currentUnitStart=context.dateEnv.startOf(unroundedNow,props.unit),nextUnitStart=context.dateEnv.add(currentUnitStart,createDuration(1,props.unit)),waitMs=nextUnitStart.valueOf()-unroundedNow.valueOf();return waitMs=Math.min(864e5,waitMs),{currentState:{nowDate:currentUnitStart,todayRange:buildDayRange(currentUnitStart)},nextState:{nowDate:nextUnitStart,todayRange:buildDayRange(nextUnitStart)},waitMs:waitMs}},NowTimer.prototype.setTimeout=function(){var _this=this,_a=this.computeTiming(),nextState=_a.nextState,waitMs=_a.waitMs;this.timeoutId=setTimeout((function(){_this.setState(nextState,(function(){_this.setTimeout()}))}),waitMs)},NowTimer.prototype.clearTimeout=function(){this.timeoutId&&clearTimeout(this.timeoutId)},NowTimer.contextType=ViewContextType,NowTimer}(Component);function buildDayRange(date){var start=startOfDay(date),end;return{start:start,end:addDays(start,1)}}var DayHeader=function(_super){function DayHeader(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.createDayHeaderFormatter=memoize(createDayHeaderFormatter),_this}return __extends(DayHeader,_super),DayHeader.prototype.render=function(){var context=this.context,_a=this.props,dates=_a.dates,dateProfile=_a.dateProfile,datesRepDistinctDays=_a.datesRepDistinctDays,renderIntro=_a.renderIntro,dayHeaderFormat=this.createDayHeaderFormatter(context.options.dayHeaderFormat,datesRepDistinctDays,dates.length);return createElement(NowTimer,{unit:"day"},(function(nowDate,todayRange){return createElement("tr",null,renderIntro&&renderIntro("day"),dates.map((function(date){return datesRepDistinctDays?createElement(TableDateCell,{key:date.toISOString(),date:date,dateProfile:dateProfile,todayRange:todayRange,colCnt:dates.length,dayHeaderFormat:dayHeaderFormat}):createElement(TableDowCell,{key:date.getUTCDay(),dow:date.getUTCDay(),dayHeaderFormat:dayHeaderFormat})})))}))},DayHeader}(BaseComponent);function createDayHeaderFormatter(explicitFormat,datesRepDistinctDays,dateCnt){return explicitFormat||computeFallbackHeaderFormat(datesRepDistinctDays,dateCnt)}var DaySeriesModel=function(){function DaySeriesModel(range,dateProfileGenerator){for(var date=range.start,end=range.end,indices=[],dates=[],dayIndex=-1;date<end;)dateProfileGenerator.isHiddenDay(date)?indices.push(dayIndex+.5):(dayIndex+=1,indices.push(dayIndex),dates.push(date)),date=addDays(date,1);this.dates=dates,this.indices=indices,this.cnt=dates.length}return DaySeriesModel.prototype.sliceRange=function(range){var firstIndex=this.getDateDayIndex(range.start),lastIndex=this.getDateDayIndex(addDays(range.end,-1)),clippedFirstIndex=Math.max(0,firstIndex),clippedLastIndex=Math.min(this.cnt-1,lastIndex);return(clippedFirstIndex=Math.ceil(clippedFirstIndex))<=(clippedLastIndex=Math.floor(clippedLastIndex))?{firstIndex:clippedFirstIndex,lastIndex:clippedLastIndex,isStart:firstIndex===clippedFirstIndex,isEnd:lastIndex===clippedLastIndex}:null},DaySeriesModel.prototype.getDateDayIndex=function(date){var indices=this.indices,dayOffset=Math.floor(diffDays(this.dates[0],date));return dayOffset<0?indices[0]-1:dayOffset>=indices.length?indices[indices.length-1]+1:indices[dayOffset]},DaySeriesModel}(),DayTableModel=function(){function DayTableModel(daySeries,breakOnWeeks){var dates=daySeries.dates,daysPerRow,firstDay,rowCnt;if(breakOnWeeks){for(firstDay=dates[0].getUTCDay(),daysPerRow=1;daysPerRow<dates.length&&dates[daysPerRow].getUTCDay()!==firstDay;daysPerRow+=1);rowCnt=Math.ceil(dates.length/daysPerRow)}else rowCnt=1,daysPerRow=dates.length;this.rowCnt=rowCnt,this.colCnt=daysPerRow,this.daySeries=daySeries,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}return DayTableModel.prototype.buildCells=function(){for(var rows=[],row=0;row<this.rowCnt;row+=1){for(var cells=[],col=0;col<this.colCnt;col+=1)cells.push(this.buildCell(row,col));rows.push(cells)}return rows},DayTableModel.prototype.buildCell=function(row,col){var date=this.daySeries.dates[row*this.colCnt+col];return{key:date.toISOString(),date:date}},DayTableModel.prototype.buildHeaderDates=function(){for(var dates=[],col=0;col<this.colCnt;col+=1)dates.push(this.cells[0][col].date);return dates},DayTableModel.prototype.sliceRange=function(range){var colCnt=this.colCnt,seriesSeg=this.daySeries.sliceRange(range),segs=[];if(seriesSeg)for(var firstIndex=seriesSeg.firstIndex,lastIndex=seriesSeg.lastIndex,index=firstIndex;index<=lastIndex;){var row=Math.floor(index/colCnt),nextIndex=Math.min((row+1)*colCnt,lastIndex+1);segs.push({row:row,firstCol:index%colCnt,lastCol:(nextIndex-1)%colCnt,isStart:seriesSeg.isStart&&index===firstIndex,isEnd:seriesSeg.isEnd&&nextIndex-1===lastIndex}),index=nextIndex}return segs},DayTableModel}(),Slicer=function(){function Slicer(){this.sliceBusinessHours=memoize(this._sliceBusinessHours),this.sliceDateSelection=memoize(this._sliceDateSpan),this.sliceEventStore=memoize(this._sliceEventStore),this.sliceEventDrag=memoize(this._sliceInteraction),this.sliceEventResize=memoize(this._sliceInteraction),this.forceDayIfListItem=!1}return Slicer.prototype.sliceProps=function(props,dateProfile,nextDayThreshold,context){for(var extraArgs=[],_i=4;_i<arguments.length;_i++)extraArgs[_i-4]=arguments[_i];var eventUiBases=props.eventUiBases,eventSegs=this.sliceEventStore.apply(this,__spreadArrays([props.eventStore,eventUiBases,dateProfile,nextDayThreshold],extraArgs));return{dateSelectionSegs:this.sliceDateSelection.apply(this,__spreadArrays([props.dateSelection,eventUiBases,context],extraArgs)),businessHourSegs:this.sliceBusinessHours.apply(this,__spreadArrays([props.businessHours,dateProfile,nextDayThreshold,context],extraArgs)),fgEventSegs:eventSegs.fg,bgEventSegs:eventSegs.bg,eventDrag:this.sliceEventDrag.apply(this,__spreadArrays([props.eventDrag,eventUiBases,dateProfile,nextDayThreshold],extraArgs)),eventResize:this.sliceEventResize.apply(this,__spreadArrays([props.eventResize,eventUiBases,dateProfile,nextDayThreshold],extraArgs)),eventSelection:props.eventSelection}},Slicer.prototype.sliceNowDate=function(date,context){for(var extraArgs=[],_i=2;_i<arguments.length;_i++)extraArgs[_i-2]=arguments[_i];return this._sliceDateSpan.apply(this,__spreadArrays([{range:{start:date,end:addMs(date,1)},allDay:!1},{},context],extraArgs))},Slicer.prototype._sliceBusinessHours=function(businessHours,dateProfile,nextDayThreshold,context){for(var extraArgs=[],_i=4;_i<arguments.length;_i++)extraArgs[_i-4]=arguments[_i];return businessHours?this._sliceEventStore.apply(this,__spreadArrays([expandRecurring(businessHours,computeActiveRange(dateProfile,Boolean(nextDayThreshold)),context),{},dateProfile,nextDayThreshold],extraArgs)).bg:[]},Slicer.prototype._sliceEventStore=function(eventStore,eventUiBases,dateProfile,nextDayThreshold){for(var extraArgs=[],_i=4;_i<arguments.length;_i++)extraArgs[_i-4]=arguments[_i];if(eventStore){var rangeRes=sliceEventStore(eventStore,eventUiBases,computeActiveRange(dateProfile,Boolean(nextDayThreshold)),nextDayThreshold);return{bg:this.sliceEventRanges(rangeRes.bg,extraArgs),fg:this.sliceEventRanges(rangeRes.fg,extraArgs)}}return{bg:[],fg:[]}},Slicer.prototype._sliceInteraction=function(interaction,eventUiBases,dateProfile,nextDayThreshold){for(var extraArgs=[],_i=4;_i<arguments.length;_i++)extraArgs[_i-4]=arguments[_i];if(!interaction)return null;var rangeRes=sliceEventStore(interaction.mutatedEvents,eventUiBases,computeActiveRange(dateProfile,Boolean(nextDayThreshold)),nextDayThreshold);return{segs:this.sliceEventRanges(rangeRes.fg,extraArgs),affectedInstances:interaction.affectedEvents.instances,isEvent:interaction.isEvent}},Slicer.prototype._sliceDateSpan=function(dateSpan,eventUiBases,context){for(var extraArgs=[],_i=3;_i<arguments.length;_i++)extraArgs[_i-3]=arguments[_i];if(!dateSpan)return[];for(var eventRange=fabricateEventRange(dateSpan,eventUiBases,context),segs=this.sliceRange.apply(this,__spreadArrays([dateSpan.range],extraArgs)),_a=0,segs_1=segs;_a<segs_1.length;_a++){var seg=segs_1[_a];seg.eventRange=eventRange}return segs},Slicer.prototype.sliceEventRanges=function(eventRanges,extraArgs){for(var segs=[],_i=0,eventRanges_1=eventRanges;_i<eventRanges_1.length;_i++){var eventRange=eventRanges_1[_i];segs.push.apply(segs,this.sliceEventRange(eventRange,extraArgs))}return segs},Slicer.prototype.sliceEventRange=function(eventRange,extraArgs){var dateRange=eventRange.range;this.forceDayIfListItem&&"list-item"===eventRange.ui.display&&(dateRange={start:dateRange.start,end:addDays(dateRange.start,1)});for(var segs=this.sliceRange.apply(this,__spreadArrays([dateRange],extraArgs)),_i=0,segs_2=segs;_i<segs_2.length;_i++){var seg=segs_2[_i];seg.eventRange=eventRange,seg.isStart=eventRange.isStart&&seg.isStart,seg.isEnd=eventRange.isEnd&&seg.isEnd}return segs},Slicer}();function computeActiveRange(dateProfile,isComponentAllDay){var range=dateProfile.activeRange;return isComponentAllDay?range:{start:addMs(range.start,dateProfile.slotMinTime.milliseconds),end:addMs(range.end,dateProfile.slotMaxTime.milliseconds-864e5)}}var VISIBLE_HIDDEN_RE=/^(visible|hidden)$/,Scroller=function(_super){function Scroller(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.handleEl=function(el){_this.el=el,setRef(_this.props.elRef,el)},_this}return __extends(Scroller,_super),Scroller.prototype.render=function(){var props=this.props,liquid=props.liquid,liquidIsAbsolute=props.liquidIsAbsolute,isAbsolute=liquid&&liquidIsAbsolute,className=["fc-scroller"];return liquid&&(liquidIsAbsolute?className.push("fc-scroller-liquid-absolute"):className.push("fc-scroller-liquid")),createElement("div",{ref:this.handleEl,className:className.join(" "),style:{overflowX:props.overflowX,overflowY:props.overflowY,left:isAbsolute&&-(props.overcomeLeft||0)||"",right:isAbsolute&&-(props.overcomeRight||0)||"",bottom:isAbsolute&&-(props.overcomeBottom||0)||"",marginLeft:!isAbsolute&&-(props.overcomeLeft||0)||"",marginRight:!isAbsolute&&-(props.overcomeRight||0)||"",marginBottom:!isAbsolute&&-(props.overcomeBottom||0)||"",maxHeight:props.maxHeight||""}},props.children)},Scroller.prototype.needsXScrolling=function(){if(VISIBLE_HIDDEN_RE.test(this.props.overflowX))return!1;for(var el=this.el,realClientWidth=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),children=el.children,i=0;i<children.length;i+=1){var childEl;if(children[i].getBoundingClientRect().width>realClientWidth)return!0}return!1},Scroller.prototype.needsYScrolling=function(){if(VISIBLE_HIDDEN_RE.test(this.props.overflowY))return!1;for(var el=this.el,realClientHeight=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),children=el.children,i=0;i<children.length;i+=1){var childEl;if(children[i].getBoundingClientRect().height>realClientHeight)return!0}return!1},Scroller.prototype.getXScrollbarWidth=function(){return VISIBLE_HIDDEN_RE.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight},Scroller.prototype.getYScrollbarWidth=function(){return VISIBLE_HIDDEN_RE.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth},Scroller}(BaseComponent),RefMap=function(){function RefMap(masterCallback){var _this=this;this.masterCallback=masterCallback,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=function(val,key){var _a=_this,depths=_a.depths,currentMap=_a.currentMap,removed=!1,added=!1;null!==val?(removed=key in currentMap,currentMap[key]=val,depths[key]=(depths[key]||0)+1,added=!0):(depths[key]-=1,depths[key]||(delete currentMap[key],delete _this.callbackMap[key],removed=!0)),_this.masterCallback&&(removed&&_this.masterCallback(null,String(key)),added&&_this.masterCallback(val,String(key)))}}return RefMap.prototype.createRef=function(key){var _this=this,refCallback=this.callbackMap[key];return refCallback||(refCallback=this.callbackMap[key]=function(val){_this.handleValue(val,String(key))}),refCallback},RefMap.prototype.collect=function(startIndex,endIndex,step){return collectFromHash(this.currentMap,startIndex,endIndex,step)},RefMap.prototype.getAll=function(){return hashValuesToArray(this.currentMap)},RefMap}();function computeShrinkWidth(chunkEls){for(var shrinkCells,largestWidth=0,_i=0,shrinkCells_1=findElements(chunkEls,".fc-scrollgrid-shrink");_i<shrinkCells_1.length;_i++){var shrinkCell=shrinkCells_1[_i];largestWidth=Math.max(largestWidth,computeSmallestCellWidth(shrinkCell))}return Math.ceil(largestWidth)}function getSectionHasLiquidHeight(props,sectionConfig){return props.liquid&&sectionConfig.liquid}function getAllowYScrolling(props,sectionConfig){return null!=sectionConfig.maxHeight||getSectionHasLiquidHeight(props,sectionConfig)}function renderChunkContent(sectionConfig,chunkConfig,arg){var expandRows=arg.expandRows,content;return"function"==typeof chunkConfig.content?chunkConfig.content(arg):createElement("table",{className:[chunkConfig.tableClassName,sectionConfig.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:arg.tableMinWidth,width:arg.clientWidth,height:expandRows?arg.clientHeight:""}},arg.tableColGroupNode,createElement("tbody",{},"function"==typeof chunkConfig.rowContent?chunkConfig.rowContent(arg):chunkConfig.rowContent))}function isColPropsEqual(cols0,cols1){return isArraysEqual(cols0,cols1,isPropsEqual)}function renderMicroColGroup(cols,shrinkWidth){for(var colNodes=[],_i=0,cols_1=cols;_i<cols_1.length;_i++)for(var colProps=cols_1[_i],span=colProps.span||1,i=0;i<span;i+=1)colNodes.push(createElement("col",{style:{width:"shrink"===colProps.width?sanitizeShrinkWidth(shrinkWidth):colProps.width||"",minWidth:colProps.minWidth||""}}));return createElement.apply(void 0,__spreadArrays(["colgroup",{}],colNodes))}function sanitizeShrinkWidth(shrinkWidth){return null==shrinkWidth?4:shrinkWidth}function hasShrinkWidth(cols){for(var _i=0,cols_2=cols;_i<cols_2.length;_i++){var col;if("shrink"===cols_2[_i].width)return!0}return!1}function getScrollGridClassNames(liquid,context){var classNames=["fc-scrollgrid",context.theme.getClass("table")];return liquid&&classNames.push("fc-scrollgrid-liquid"),classNames}function getSectionClassNames(sectionConfig,wholeTableVGrow){var classNames=["fc-scrollgrid-section","fc-scrollgrid-section-"+sectionConfig.type,sectionConfig.className];return wholeTableVGrow&&sectionConfig.liquid&&null==sectionConfig.maxHeight&&classNames.push("fc-scrollgrid-section-liquid"),sectionConfig.isSticky&&classNames.push("fc-scrollgrid-section-sticky"),classNames}function renderScrollShim(arg){return createElement("div",{className:"fc-scrollgrid-sticky-shim",style:{width:arg.clientWidth,minWidth:arg.tableMinWidth}})}function getStickyHeaderDates(options){var stickyHeaderDates=options.stickyHeaderDates;return null!=stickyHeaderDates&&"auto"!==stickyHeaderDates||(stickyHeaderDates="auto"===options.height||"auto"===options.viewHeight),stickyHeaderDates}function getStickyFooterScrollbar(options){var stickyFooterScrollbar=options.stickyFooterScrollbar;return null!=stickyFooterScrollbar&&"auto"!==stickyFooterScrollbar||(stickyFooterScrollbar="auto"===options.height||"auto"===options.viewHeight),stickyFooterScrollbar}var SimpleScrollGrid=function(_super){function SimpleScrollGrid(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.processCols=memoize((function(a){return a}),isColPropsEqual),_this.renderMicroColGroup=memoize(renderMicroColGroup),_this.scrollerRefs=new RefMap,_this.scrollerElRefs=new RefMap(_this._handleScrollerEl.bind(_this)),_this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},_this.handleSizing=function(){_this.setState(__assign({shrinkWidth:_this.computeShrinkWidth()},_this.computeScrollerDims()))},_this}return __extends(SimpleScrollGrid,_super),SimpleScrollGrid.prototype.render=function(){for(var _a=this,props=_a.props,state=_a.state,context=_a.context,sectionConfigs=props.sections||[],cols=this.processCols(props.cols),microColGroupNode=this.renderMicroColGroup(cols,state.shrinkWidth),classNames=getScrollGridClassNames(props.liquid,context),configCnt=sectionConfigs.length,configI=0,currentConfig,headSectionNodes=[],bodySectionNodes=[],footSectionNodes=[];configI<configCnt&&"header"===(currentConfig=sectionConfigs[configI]).type;)headSectionNodes.push(this.renderSection(currentConfig,microColGroupNode)),configI+=1;for(;configI<configCnt&&"body"===(currentConfig=sectionConfigs[configI]).type;)bodySectionNodes.push(this.renderSection(currentConfig,microColGroupNode)),configI+=1;for(;configI<configCnt&&"footer"===(currentConfig=sectionConfigs[configI]).type;)footSectionNodes.push(this.renderSection(currentConfig,microColGroupNode)),configI+=1;var isBuggy=!getCanVGrowWithinCell();return createElement("table",{className:classNames.join(" "),style:{height:props.height}},Boolean(!isBuggy&&headSectionNodes.length)&&createElement.apply(void 0,__spreadArrays(["thead",{}],headSectionNodes)),Boolean(!isBuggy&&bodySectionNodes.length)&&createElement.apply(void 0,__spreadArrays(["tbody",{}],bodySectionNodes)),Boolean(!isBuggy&&footSectionNodes.length)&&createElement.apply(void 0,__spreadArrays(["tfoot",{}],footSectionNodes)),isBuggy&&createElement.apply(void 0,__spreadArrays(["tbody",{}],headSectionNodes,bodySectionNodes,footSectionNodes)))},SimpleScrollGrid.prototype.renderSection=function(sectionConfig,microColGroupNode){return"outerContent"in sectionConfig?createElement(Fragment,{key:sectionConfig.key},sectionConfig.outerContent):createElement("tr",{key:sectionConfig.key,className:getSectionClassNames(sectionConfig,this.props.liquid).join(" ")},this.renderChunkTd(sectionConfig,microColGroupNode,sectionConfig.chunk))},SimpleScrollGrid.prototype.renderChunkTd=function(sectionConfig,microColGroupNode,chunkConfig){if("outerContent"in chunkConfig)return chunkConfig.outerContent;var props=this.props,_a=this.state,forceYScrollbars=_a.forceYScrollbars,scrollerClientWidths=_a.scrollerClientWidths,scrollerClientHeights=_a.scrollerClientHeights,needsYScrolling=getAllowYScrolling(props,sectionConfig),isLiquid=getSectionHasLiquidHeight(props,sectionConfig),overflowY=props.liquid?forceYScrollbars?"scroll":needsYScrolling?"auto":"hidden":"visible",sectionKey=sectionConfig.key,content=renderChunkContent(sectionConfig,chunkConfig,{tableColGroupNode:microColGroupNode,tableMinWidth:"",clientWidth:void 0!==scrollerClientWidths[sectionKey]?scrollerClientWidths[sectionKey]:null,clientHeight:void 0!==scrollerClientHeights[sectionKey]?scrollerClientHeights[sectionKey]:null,expandRows:sectionConfig.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:function(){}});return createElement("td",{ref:chunkConfig.elRef},createElement("div",{className:"fc-scroller-harness"+(isLiquid?" fc-scroller-harness-liquid":"")},createElement(Scroller,{ref:this.scrollerRefs.createRef(sectionKey),elRef:this.scrollerElRefs.createRef(sectionKey),overflowY:overflowY,overflowX:props.liquid?"hidden":"visible",maxHeight:sectionConfig.maxHeight,liquid:isLiquid,liquidIsAbsolute:!0},content)))},SimpleScrollGrid.prototype._handleScrollerEl=function(scrollerEl,key){var section=getSectionByKey(this.props.sections,key);section&&setRef(section.chunk.scrollerElRef,scrollerEl)},SimpleScrollGrid.prototype.componentDidMount=function(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)},SimpleScrollGrid.prototype.componentDidUpdate=function(){this.handleSizing()},SimpleScrollGrid.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing)},SimpleScrollGrid.prototype.computeShrinkWidth=function(){return hasShrinkWidth(this.props.cols)?computeShrinkWidth(this.scrollerElRefs.getAll()):0},SimpleScrollGrid.prototype.computeScrollerDims=function(){var scrollbarWidth=getScrollbarWidths(),_a=this,scrollerRefs=_a.scrollerRefs,scrollerElRefs=_a.scrollerElRefs,forceYScrollbars=!1,scrollerClientWidths={},scrollerClientHeights={};for(var sectionKey in scrollerRefs.currentMap){var scroller=scrollerRefs.currentMap[sectionKey];if(scroller&&scroller.needsYScrolling()){forceYScrollbars=!0;break}}for(var _i=0,_b=this.props.sections;_i<_b.length;_i++){var section,sectionKey=_b[_i].key,scrollerEl=scrollerElRefs.currentMap[sectionKey];if(scrollerEl){var harnessEl=scrollerEl.parentNode;scrollerClientWidths[sectionKey]=Math.floor(harnessEl.getBoundingClientRect().width-(forceYScrollbars?scrollbarWidth.y:0)),scrollerClientHeights[sectionKey]=Math.floor(harnessEl.getBoundingClientRect().height)}}return{forceYScrollbars:forceYScrollbars,scrollerClientWidths:scrollerClientWidths,scrollerClientHeights:scrollerClientHeights}},SimpleScrollGrid}(BaseComponent);function getSectionByKey(sections,key){for(var _i=0,sections_1=sections;_i<sections_1.length;_i++){var section=sections_1[_i];if(section.key===key)return section}return null}SimpleScrollGrid.addStateEquality({scrollerClientWidths:isPropsEqual,scrollerClientHeights:isPropsEqual});var EventRoot=function(_super){function EventRoot(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.elRef=createRef(),_this}return __extends(EventRoot,_super),EventRoot.prototype.render=function(){var _a=this,props=_a.props,context=_a.context,options=context.options,seg=props.seg,eventRange=seg.eventRange,ui=eventRange.ui,hookProps={event:new EventApi(context,eventRange.def,eventRange.instance),view:context.viewApi,timeText:props.timeText,textColor:ui.textColor,backgroundColor:ui.backgroundColor,borderColor:ui.borderColor,isDraggable:!props.disableDragging&&computeSegDraggable(seg,context),isStartResizable:!props.disableResizing&&computeSegStartResizable(seg,context),isEndResizable:!props.disableResizing&&computeSegEndResizable(seg),isMirror:Boolean(props.isDragging||props.isResizing||props.isDateSelecting),isStart:Boolean(seg.isStart),isEnd:Boolean(seg.isEnd),isPast:Boolean(props.isPast),isFuture:Boolean(props.isFuture),isToday:Boolean(props.isToday),isSelected:Boolean(props.isSelected),isDragging:Boolean(props.isDragging),isResizing:Boolean(props.isResizing)},standardClassNames=getEventClassNames(hookProps).concat(ui.classNames);return createElement(RenderHook,{hookProps:hookProps,classNames:options.eventClassNames,content:options.eventContent,defaultContent:props.defaultContent,didMount:options.eventDidMount,willUnmount:options.eventWillUnmount,elRef:this.elRef},(function(rootElRef,customClassNames,innerElRef,innerContent){return props.children(rootElRef,standardClassNames.concat(customClassNames),innerElRef,innerContent,hookProps)}))},EventRoot.prototype.componentDidMount=function(){setElSeg(this.elRef.current,this.props.seg)},EventRoot.prototype.componentDidUpdate=function(prevProps){var seg=this.props.seg;seg!==prevProps.seg&&setElSeg(this.elRef.current,seg)},EventRoot}(BaseComponent),StandardEvent=function(_super){function StandardEvent(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(StandardEvent,_super),StandardEvent.prototype.render=function(){var _a=this,props=_a.props,context=_a.context,seg=props.seg,timeFormat=context.options.eventTimeFormat||props.defaultTimeFormat,timeText=buildSegTimeText(seg,timeFormat,context,props.defaultDisplayEventTime,props.defaultDisplayEventEnd);return createElement(EventRoot,{seg:seg,timeText:timeText,disableDragging:props.disableDragging,disableResizing:props.disableResizing,defaultContent:props.defaultContent||renderInnerContent,isDragging:props.isDragging,isResizing:props.isResizing,isDateSelecting:props.isDateSelecting,isSelected:props.isSelected,isPast:props.isPast,isFuture:props.isFuture,isToday:props.isToday},(function(rootElRef,classNames,innerElRef,innerContent,hookProps){return createElement("a",__assign({className:props.extraClassNames.concat(classNames).join(" "),style:{borderColor:hookProps.borderColor,backgroundColor:hookProps.backgroundColor},ref:rootElRef},getSegAnchorAttrs(seg)),createElement("div",{className:"fc-event-main",ref:innerElRef,style:{color:hookProps.textColor}},innerContent),hookProps.isStartResizable&&createElement("div",{className:"fc-event-resizer fc-event-resizer-start"}),hookProps.isEndResizable&&createElement("div",{className:"fc-event-resizer fc-event-resizer-end"}))}))},StandardEvent}(BaseComponent);function renderInnerContent(innerProps){return createElement("div",{className:"fc-event-main-frame"},innerProps.timeText&&createElement("div",{className:"fc-event-time"},innerProps.timeText),createElement("div",{className:"fc-event-title-container"},createElement("div",{className:"fc-event-title fc-sticky"},innerProps.event.title||createElement(Fragment,null," "))))}function getSegAnchorAttrs(seg){var url=seg.eventRange.def.url;return url?{href:url}:{}}var NowIndicatorRoot=function(props){return createElement(ViewContextType.Consumer,null,(function(context){var options=context.options,hookProps={isAxis:props.isAxis,date:context.dateEnv.toDate(props.date),view:context.viewApi};return createElement(RenderHook,{hookProps:hookProps,classNames:options.nowIndicatorClassNames,content:options.nowIndicatorContent,didMount:options.nowIndicatorDidMount,willUnmount:options.nowIndicatorWillUnmount},props.children)}))},DAY_NUM_FORMAT=createFormatter({day:"numeric"}),DayCellContent=function(_super){function DayCellContent(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(DayCellContent,_super),DayCellContent.prototype.render=function(){var _a=this,props=_a.props,context=_a.context,options=context.options,hookProps=refineDayCellHookProps({date:props.date,dateProfile:props.dateProfile,todayRange:props.todayRange,showDayNumber:props.showDayNumber,extraProps:props.extraHookProps,viewApi:context.viewApi,dateEnv:context.dateEnv});return createElement(ContentHook,{hookProps:hookProps,content:options.dayCellContent,defaultContent:props.defaultContent},props.children)},DayCellContent}(BaseComponent);function refineDayCellHookProps(raw){var date=raw.date,dateEnv=raw.dateEnv,dayMeta=getDateMeta(date,raw.todayRange,null,raw.dateProfile);return __assign(__assign(__assign({date:dateEnv.toDate(date),view:raw.viewApi},dayMeta),{dayNumberText:raw.showDayNumber?dateEnv.format(date,DAY_NUM_FORMAT):""}),raw.extraProps)}var DayCellRoot=function(_super){function DayCellRoot(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.refineHookProps=memoizeObjArg(refineDayCellHookProps),_this.normalizeClassNames=buildClassNameNormalizer(),_this}return __extends(DayCellRoot,_super),DayCellRoot.prototype.render=function(){var _a=this,props=_a.props,context=_a.context,options=context.options,hookProps=this.refineHookProps({date:props.date,dateProfile:props.dateProfile,todayRange:props.todayRange,showDayNumber:props.showDayNumber,extraProps:props.extraHookProps,viewApi:context.viewApi,dateEnv:context.dateEnv}),classNames=getDayClassNames(hookProps,context.theme).concat(hookProps.isDisabled?[]:this.normalizeClassNames(options.dayCellClassNames,hookProps)),dataAttrs=hookProps.isDisabled?{}:{"data-date":formatDayString(props.date)};return createElement(MountHook,{hookProps:hookProps,didMount:options.dayCellDidMount,willUnmount:options.dayCellWillUnmount,elRef:props.elRef},(function(rootElRef){return props.children(rootElRef,classNames,dataAttrs,hookProps.isDisabled)}))},DayCellRoot}(BaseComponent);function renderFill(fillType){return createElement("div",{className:"fc-"+fillType})}var BgEvent=function(props){return createElement(EventRoot,{defaultContent:renderInnerContent$1,seg:props.seg,timeText:"",disableDragging:!0,disableResizing:!0,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:props.isPast,isFuture:props.isFuture,isToday:props.isToday},(function(rootElRef,classNames,innerElRef,innerContent,hookProps){return createElement("div",{ref:rootElRef,className:["fc-bg-event"].concat(classNames).join(" "),style:{backgroundColor:hookProps.backgroundColor}},innerContent)}))};function renderInnerContent$1(props){var title;return props.event.title&&createElement("div",{className:"fc-event-title"},props.event.title)}var WeekNumberRoot=function(props){return createElement(ViewContextType.Consumer,null,(function(context){var dateEnv=context.dateEnv,options=context.options,date=props.date,format=options.weekNumberFormat||props.defaultFormat,num=dateEnv.computeWeekNumber(date),text=dateEnv.format(date,format),hookProps;return createElement(RenderHook,{hookProps:{num:num,text:text,date:date},classNames:options.weekNumberClassNames,content:options.weekNumberContent,defaultContent:renderInner$1,didMount:options.weekNumberDidMount,willUnmount:options.weekNumberWillUnmount},props.children)}))};function renderInner$1(innerProps){return innerProps.text}var version="5.5.1",Calendar=function(_super){function Calendar(el,optionOverrides){void 0===optionOverrides&&(optionOverrides={});var _this=_super.call(this)||this;return _this.isRendering=!1,_this.isRendered=!1,_this.currentClassNames=[],_this.customContentRenderId=0,_this.handleAction=function(action){switch(action.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":_this.renderRunner.tryDrain()}},_this.handleData=function(data){_this.currentData=data,_this.renderRunner.request(data.calendarOptions.rerenderDelay)},_this.handleRenderRequest=function(){if(_this.isRendering){_this.isRendered=!0;var currentData_1=_this.currentData;render(createElement(CalendarRoot,{options:currentData_1.calendarOptions,theme:currentData_1.theme,emitter:currentData_1.emitter},(function(classNames,height,isHeightAuto,forPrint){return _this.setClassNames(classNames),_this.setHeight(height),createElement(CustomContentRenderContext.Provider,{value:_this.customContentRenderId},createElement(CalendarContent,__assign({isHeightAuto:isHeightAuto,forPrint:forPrint},currentData_1)))})),_this.el)}else _this.isRendered&&(_this.isRendered=!1,unmountComponentAtNode$1(_this.el),_this.setClassNames([]),_this.setHeight(""));flushToDom$1()},_this.el=el,_this.renderRunner=new DelayedRunner(_this.handleRenderRequest),new CalendarDataManager({optionOverrides:optionOverrides,calendarApi:_this,onAction:_this.handleAction,onData:_this.handleData}),_this}return __extends(Calendar,_super),Object.defineProperty(Calendar.prototype,"view",{get:function(){return this.currentData.viewApi},enumerable:!1,configurable:!0}),Calendar.prototype.render=function(){var wasRendering=this.isRendering;wasRendering?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),wasRendering&&this.updateSize()},Calendar.prototype.destroy=function(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())},Calendar.prototype.updateSize=function(){_super.prototype.updateSize.call(this),flushToDom$1()},Calendar.prototype.batchRendering=function(func){this.renderRunner.pause("batchRendering"),func(),this.renderRunner.resume("batchRendering")},Calendar.prototype.pauseRendering=function(){this.renderRunner.pause("pauseRendering")},Calendar.prototype.resumeRendering=function(){this.renderRunner.resume("pauseRendering",!0)},Calendar.prototype.resetOptions=function(optionOverrides,append){this.currentDataManager.resetOptions(optionOverrides,append)},Calendar.prototype.setClassNames=function(classNames){if(!isArraysEqual(classNames,this.currentClassNames)){for(var classList=this.el.classList,_i=0,_a=this.currentClassNames;_i<_a.length;_i++){var className=_a[_i];classList.remove(className)}for(var _b=0,classNames_1=classNames;_b<classNames_1.length;_b++){var className=classNames_1[_b];classList.add(className)}this.currentClassNames=classNames}},Calendar.prototype.setHeight=function(height){applyStyleProp(this.el,"height",height)},Calendar}(CalendarApi);config.touchMouseIgnoreWait=500;var ignoreMouseDepth=0,listenerCnt=0,isWindowTouchMoveCancelled=!1,PointerDragging=function(){function PointerDragging(containerEl){var _this=this;this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(ev){if(!_this.shouldIgnoreMouse()&&isPrimaryMouseButton(ev)&&_this.tryStart(ev)){var pev=_this.createEventFromMouse(ev,!0);_this.emitter.trigger("pointerdown",pev),_this.initScrollWatch(pev),_this.shouldIgnoreMove||document.addEventListener("mousemove",_this.handleMouseMove),document.addEventListener("mouseup",_this.handleMouseUp)}},this.handleMouseMove=function(ev){var pev=_this.createEventFromMouse(ev);_this.recordCoords(pev),_this.emitter.trigger("pointermove",pev)},this.handleMouseUp=function(ev){document.removeEventListener("mousemove",_this.handleMouseMove),document.removeEventListener("mouseup",_this.handleMouseUp),_this.emitter.trigger("pointerup",_this.createEventFromMouse(ev)),_this.cleanup()},this.handleTouchStart=function(ev){if(_this.tryStart(ev)){_this.isTouchDragging=!0;var pev=_this.createEventFromTouch(ev,!0);_this.emitter.trigger("pointerdown",pev),_this.initScrollWatch(pev);var targetEl=ev.target;_this.shouldIgnoreMove||targetEl.addEventListener("touchmove",_this.handleTouchMove),targetEl.addEventListener("touchend",_this.handleTouchEnd),targetEl.addEventListener("touchcancel",_this.handleTouchEnd),window.addEventListener("scroll",_this.handleTouchScroll,!0)}},this.handleTouchMove=function(ev){var pev=_this.createEventFromTouch(ev);_this.recordCoords(pev),_this.emitter.trigger("pointermove",pev)},this.handleTouchEnd=function(ev){if(_this.isDragging){var targetEl=ev.target;targetEl.removeEventListener("touchmove",_this.handleTouchMove),targetEl.removeEventListener("touchend",_this.handleTouchEnd),targetEl.removeEventListener("touchcancel",_this.handleTouchEnd),window.removeEventListener("scroll",_this.handleTouchScroll,!0),_this.emitter.trigger("pointerup",_this.createEventFromTouch(ev)),_this.cleanup(),_this.isTouchDragging=!1,startIgnoringMouse()}},this.handleTouchScroll=function(){_this.wasTouchScroll=!0},this.handleScroll=function(ev){if(!_this.shouldIgnoreMove){var pageX=window.pageXOffset-_this.prevScrollX+_this.prevPageX,pageY=window.pageYOffset-_this.prevScrollY+_this.prevPageY;_this.emitter.trigger("pointermove",{origEvent:ev,isTouch:_this.isTouchDragging,subjectEl:_this.subjectEl,pageX:pageX,pageY:pageY,deltaX:pageX-_this.origPageX,deltaY:pageY-_this.origPageY})}},this.containerEl=containerEl,this.emitter=new Emitter,containerEl.addEventListener("mousedown",this.handleMouseDown),containerEl.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),listenerCreated()}return PointerDragging.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),listenerDestroyed()},PointerDragging.prototype.tryStart=function(ev){var subjectEl=this.querySubjectEl(ev),downEl=ev.target;return!(!subjectEl||this.handleSelector&&!elementClosest(downEl,this.handleSelector))&&(this.subjectEl=subjectEl,this.isDragging=!0,this.wasTouchScroll=!1,!0)},PointerDragging.prototype.cleanup=function(){isWindowTouchMoveCancelled=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()},PointerDragging.prototype.querySubjectEl=function(ev){return this.selector?elementClosest(ev.target,this.selector):this.containerEl},PointerDragging.prototype.shouldIgnoreMouse=function(){return ignoreMouseDepth||this.isTouchDragging},PointerDragging.prototype.cancelTouchScroll=function(){this.isDragging&&(isWindowTouchMoveCancelled=!0)},PointerDragging.prototype.initScrollWatch=function(ev){this.shouldWatchScroll&&(this.recordCoords(ev),window.addEventListener("scroll",this.handleScroll,!0))},PointerDragging.prototype.recordCoords=function(ev){this.shouldWatchScroll&&(this.prevPageX=ev.pageX,this.prevPageY=ev.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},PointerDragging.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},PointerDragging.prototype.createEventFromMouse=function(ev,isFirst){var deltaX=0,deltaY=0;return isFirst?(this.origPageX=ev.pageX,this.origPageY=ev.pageY):(deltaX=ev.pageX-this.origPageX,deltaY=ev.pageY-this.origPageY),{origEvent:ev,isTouch:!1,subjectEl:this.subjectEl,pageX:ev.pageX,pageY:ev.pageY,deltaX:deltaX,deltaY:deltaY}},PointerDragging.prototype.createEventFromTouch=function(ev,isFirst){var touches=ev.touches,pageX,pageY,deltaX=0,deltaY=0;return touches&&touches.length?(pageX=touches[0].pageX,pageY=touches[0].pageY):(pageX=ev.pageX,pageY=ev.pageY),isFirst?(this.origPageX=pageX,this.origPageY=pageY):(deltaX=pageX-this.origPageX,deltaY=pageY-this.origPageY),{origEvent:ev,isTouch:!0,subjectEl:this.subjectEl,pageX:pageX,pageY:pageY,deltaX:deltaX,deltaY:deltaY}},PointerDragging}();function isPrimaryMouseButton(ev){return 0===ev.button&&!ev.ctrlKey}function startIgnoringMouse(){ignoreMouseDepth+=1,setTimeout((function(){ignoreMouseDepth-=1}),config.touchMouseIgnoreWait)}function listenerCreated(){1===(listenerCnt+=1)&&window.addEventListener("touchmove",onWindowTouchMove,{passive:!1})}function listenerDestroyed(){(listenerCnt-=1)||window.removeEventListener("touchmove",onWindowTouchMove,{passive:!1})}function onWindowTouchMove(ev){isWindowTouchMoveCancelled&&ev.preventDefault()}var ElementMirror=function(){function ElementMirror(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return ElementMirror.prototype.start=function(sourceEl,pageX,pageY){this.sourceEl=sourceEl,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=pageX-window.pageXOffset,this.origScreenY=pageY-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},ElementMirror.prototype.handleMove=function(pageX,pageY){this.deltaX=pageX-window.pageXOffset-this.origScreenX,this.deltaY=pageY-window.pageYOffset-this.origScreenY,this.updateElPosition()},ElementMirror.prototype.setIsVisible=function(bool){bool?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=bool,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=bool)},ElementMirror.prototype.stop=function(needsRevertAnimation,callback){var _this=this,done=function(){_this.cleanup(),callback()};needsRevertAnimation&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(done,this.revertDuration):setTimeout(done,0)},ElementMirror.prototype.doRevertAnimation=function(callback,revertDuration){var mirrorEl=this.mirrorEl,finalSourceElRect=this.sourceEl.getBoundingClientRect();mirrorEl.style.transition="top "+revertDuration+"ms,left "+revertDuration+"ms",applyStyle(mirrorEl,{left:finalSourceElRect.left,top:finalSourceElRect.top}),whenTransitionDone(mirrorEl,(function(){mirrorEl.style.transition="",callback()}))},ElementMirror.prototype.cleanup=function(){this.mirrorEl&&(removeElement(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},ElementMirror.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&applyStyle(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},ElementMirror.prototype.getMirrorEl=function(){var sourceElRect=this.sourceElRect,mirrorEl=this.mirrorEl;return mirrorEl||((mirrorEl=this.mirrorEl=this.sourceEl.cloneNode(!0)).classList.add("fc-unselectable"),mirrorEl.classList.add("fc-event-dragging"),applyStyle(mirrorEl,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:sourceElRect.right-sourceElRect.left,height:sourceElRect.bottom-sourceElRect.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(mirrorEl)),mirrorEl},ElementMirror}(),ScrollGeomCache=function(_super){function ScrollGeomCache(scrollController,doesListening){var _this=_super.call(this)||this;return _this.handleScroll=function(){_this.scrollTop=_this.scrollController.getScrollTop(),_this.scrollLeft=_this.scrollController.getScrollLeft(),_this.handleScrollChange()},_this.scrollController=scrollController,_this.doesListening=doesListening,_this.scrollTop=_this.origScrollTop=scrollController.getScrollTop(),_this.scrollLeft=_this.origScrollLeft=scrollController.getScrollLeft(),_this.scrollWidth=scrollController.getScrollWidth(),_this.scrollHeight=scrollController.getScrollHeight(),_this.clientWidth=scrollController.getClientWidth(),_this.clientHeight=scrollController.getClientHeight(),_this.clientRect=_this.computeClientRect(),_this.doesListening&&_this.getEventTarget().addEventListener("scroll",_this.handleScroll),_this}return __extends(ScrollGeomCache,_super),ScrollGeomCache.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},ScrollGeomCache.prototype.getScrollTop=function(){return this.scrollTop},ScrollGeomCache.prototype.getScrollLeft=function(){return this.scrollLeft},ScrollGeomCache.prototype.setScrollTop=function(top){this.scrollController.setScrollTop(top),this.doesListening||(this.scrollTop=Math.max(Math.min(top,this.getMaxScrollTop()),0),this.handleScrollChange())},ScrollGeomCache.prototype.setScrollLeft=function(top){this.scrollController.setScrollLeft(top),this.doesListening||(this.scrollLeft=Math.max(Math.min(top,this.getMaxScrollLeft()),0),this.handleScrollChange())},ScrollGeomCache.prototype.getClientWidth=function(){return this.clientWidth},ScrollGeomCache.prototype.getClientHeight=function(){return this.clientHeight},ScrollGeomCache.prototype.getScrollWidth=function(){return this.scrollWidth},ScrollGeomCache.prototype.getScrollHeight=function(){return this.scrollHeight},ScrollGeomCache.prototype.handleScrollChange=function(){},ScrollGeomCache}(ScrollController),ElementScrollGeomCache=function(_super){function ElementScrollGeomCache(el,doesListening){return _super.call(this,new ElementScrollController(el),doesListening)||this}return __extends(ElementScrollGeomCache,_super),ElementScrollGeomCache.prototype.getEventTarget=function(){return this.scrollController.el},ElementScrollGeomCache.prototype.computeClientRect=function(){return computeInnerRect(this.scrollController.el)},ElementScrollGeomCache}(ScrollGeomCache),WindowScrollGeomCache=function(_super){function WindowScrollGeomCache(doesListening){return _super.call(this,new WindowScrollController,doesListening)||this}return __extends(WindowScrollGeomCache,_super),WindowScrollGeomCache.prototype.getEventTarget=function(){return window},WindowScrollGeomCache.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},WindowScrollGeomCache.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},WindowScrollGeomCache}(ScrollGeomCache),getTime="function"==typeof performance?performance.now:Date.now,AutoScroller=function(){function AutoScroller(){var _this=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(_this.isAnimating){var edge=_this.computeBestEdge(_this.pointerScreenX+window.pageXOffset,_this.pointerScreenY+window.pageYOffset);if(edge){var now=getTime();_this.handleSide(edge,(now-_this.msSinceRequest)/1e3),_this.requestAnimation(now)}else _this.isAnimating=!1}}}return AutoScroller.prototype.start=function(pageX,pageY){this.isEnabled&&(this.scrollCaches=this.buildCaches(),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(pageX,pageY))},AutoScroller.prototype.handleMove=function(pageX,pageY){if(this.isEnabled){var pointerScreenX=pageX-window.pageXOffset,pointerScreenY=pageY-window.pageYOffset,yDelta=null===this.pointerScreenY?0:pointerScreenY-this.pointerScreenY,xDelta=null===this.pointerScreenX?0:pointerScreenX-this.pointerScreenX;yDelta<0?this.everMovedUp=!0:yDelta>0&&(this.everMovedDown=!0),xDelta<0?this.everMovedLeft=!0:xDelta>0&&(this.everMovedRight=!0),this.pointerScreenX=pointerScreenX,this.pointerScreenY=pointerScreenY,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(getTime()))}},AutoScroller.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var _i=0,_a=this.scrollCaches;_i<_a.length;_i++){var scrollCache;_a[_i].destroy()}this.scrollCaches=null}},AutoScroller.prototype.requestAnimation=function(now){this.msSinceRequest=now,requestAnimationFrame(this.animate)},AutoScroller.prototype.handleSide=function(edge,seconds){var scrollCache=edge.scrollCache,edgeThreshold=this.edgeThreshold,invDistance=edgeThreshold-edge.distance,velocity=invDistance*invDistance/(edgeThreshold*edgeThreshold)*this.maxVelocity*seconds,sign=1;switch(edge.name){case"left":sign=-1;case"right":scrollCache.setScrollLeft(scrollCache.getScrollLeft()+velocity*sign);break;case"top":sign=-1;case"bottom":scrollCache.setScrollTop(scrollCache.getScrollTop()+velocity*sign)}},AutoScroller.prototype.computeBestEdge=function(left,top){for(var edgeThreshold=this.edgeThreshold,bestSide=null,_i=0,_a=this.scrollCaches;_i<_a.length;_i++){var scrollCache=_a[_i],rect=scrollCache.clientRect,leftDist=left-rect.left,rightDist=rect.right-left,topDist=top-rect.top,bottomDist=rect.bottom-top;leftDist>=0&&rightDist>=0&&topDist>=0&&bottomDist>=0&&(topDist<=edgeThreshold&&this.everMovedUp&&scrollCache.canScrollUp()&&(!bestSide||bestSide.distance>topDist)&&(bestSide={scrollCache:scrollCache,name:"top",distance:topDist}),bottomDist<=edgeThreshold&&this.everMovedDown&&scrollCache.canScrollDown()&&(!bestSide||bestSide.distance>bottomDist)&&(bestSide={scrollCache:scrollCache,name:"bottom",distance:bottomDist}),leftDist<=edgeThreshold&&this.everMovedLeft&&scrollCache.canScrollLeft()&&(!bestSide||bestSide.distance>leftDist)&&(bestSide={scrollCache:scrollCache,name:"left",distance:leftDist}),rightDist<=edgeThreshold&&this.everMovedRight&&scrollCache.canScrollRight()&&(!bestSide||bestSide.distance>rightDist)&&(bestSide={scrollCache:scrollCache,name:"right",distance:rightDist}))}return bestSide},AutoScroller.prototype.buildCaches=function(){return this.queryScrollEls().map((function(el){return el===window?new WindowScrollGeomCache(!1):new ElementScrollGeomCache(el,!1)}))},AutoScroller.prototype.queryScrollEls=function(){for(var els=[],_i=0,_a=this.scrollQuery;_i<_a.length;_i++){var query=_a[_i];"object"==typeof query?els.push(query):els.push.apply(els,Array.prototype.slice.call(document.querySelectorAll(query)))}return els},AutoScroller}(),FeaturefulElementDragging=function(_super){function FeaturefulElementDragging(containerEl,selector){var _this=_super.call(this,containerEl)||this;_this.delay=null,_this.minDistance=0,_this.touchScrollAllowed=!0,_this.mirrorNeedsRevert=!1,_this.isInteracting=!1,_this.isDragging=!1,_this.isDelayEnded=!1,_this.isDistanceSurpassed=!1,_this.delayTimeoutId=null,_this.onPointerDown=function(ev){_this.isDragging||(_this.isInteracting=!0,_this.isDelayEnded=!1,_this.isDistanceSurpassed=!1,preventSelection(document.body),preventContextMenu(document.body),ev.isTouch||ev.origEvent.preventDefault(),_this.emitter.trigger("pointerdown",ev),_this.isInteracting&&!_this.pointer.shouldIgnoreMove&&(_this.mirror.setIsVisible(!1),_this.mirror.start(ev.subjectEl,ev.pageX,ev.pageY),_this.startDelay(ev),_this.minDistance||_this.handleDistanceSurpassed(ev)))},_this.onPointerMove=function(ev){if(_this.isInteracting){if(_this.emitter.trigger("pointermove",ev),!_this.isDistanceSurpassed){var minDistance=_this.minDistance,distanceSq=void 0,deltaX=ev.deltaX,deltaY=ev.deltaY;(distanceSq=deltaX*deltaX+deltaY*deltaY)>=minDistance*minDistance&&_this.handleDistanceSurpassed(ev)}_this.isDragging&&("scroll"!==ev.origEvent.type&&(_this.mirror.handleMove(ev.pageX,ev.pageY),_this.autoScroller.handleMove(ev.pageX,ev.pageY)),_this.emitter.trigger("dragmove",ev))}},_this.onPointerUp=function(ev){_this.isInteracting&&(_this.isInteracting=!1,allowSelection(document.body),allowContextMenu(document.body),_this.emitter.trigger("pointerup",ev),_this.isDragging&&(_this.autoScroller.stop(),_this.tryStopDrag(ev)),_this.delayTimeoutId&&(clearTimeout(_this.delayTimeoutId),_this.delayTimeoutId=null))};var pointer=_this.pointer=new PointerDragging(containerEl);return pointer.emitter.on("pointerdown",_this.onPointerDown),pointer.emitter.on("pointermove",_this.onPointerMove),pointer.emitter.on("pointerup",_this.onPointerUp),selector&&(pointer.selector=selector),_this.mirror=new ElementMirror,_this.autoScroller=new AutoScroller,_this}return __extends(FeaturefulElementDragging,_super),FeaturefulElementDragging.prototype.destroy=function(){this.pointer.destroy(),this.onPointerUp({})},FeaturefulElementDragging.prototype.startDelay=function(ev){var _this=this;"number"==typeof this.delay?this.delayTimeoutId=setTimeout((function(){_this.delayTimeoutId=null,_this.handleDelayEnd(ev)}),this.delay):this.handleDelayEnd(ev)},FeaturefulElementDragging.prototype.handleDelayEnd=function(ev){this.isDelayEnded=!0,this.tryStartDrag(ev)},FeaturefulElementDragging.prototype.handleDistanceSurpassed=function(ev){this.isDistanceSurpassed=!0,this.tryStartDrag(ev)},FeaturefulElementDragging.prototype.tryStartDrag=function(ev){this.isDelayEnded&&this.isDistanceSurpassed&&(this.pointer.wasTouchScroll&&!this.touchScrollAllowed||(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(ev.pageX,ev.pageY),this.emitter.trigger("dragstart",ev),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll()))},FeaturefulElementDragging.prototype.tryStopDrag=function(ev){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,ev))},FeaturefulElementDragging.prototype.stopDrag=function(ev){this.isDragging=!1,this.emitter.trigger("dragend",ev)},FeaturefulElementDragging.prototype.setIgnoreMove=function(bool){this.pointer.shouldIgnoreMove=bool},FeaturefulElementDragging.prototype.setMirrorIsVisible=function(bool){this.mirror.setIsVisible(bool)},FeaturefulElementDragging.prototype.setMirrorNeedsRevert=function(bool){this.mirrorNeedsRevert=bool},FeaturefulElementDragging.prototype.setAutoScrollEnabled=function(bool){this.autoScroller.isEnabled=bool},FeaturefulElementDragging}(ElementDragging),OffsetTracker=function(){function OffsetTracker(el){this.origRect=computeRect(el),this.scrollCaches=getClippingParents(el).map((function(scrollEl){return new ElementScrollGeomCache(scrollEl,!0)}))}return OffsetTracker.prototype.destroy=function(){for(var _i=0,_a=this.scrollCaches;_i<_a.length;_i++){var scrollCache;_a[_i].destroy()}},OffsetTracker.prototype.computeLeft=function(){for(var left=this.origRect.left,_i=0,_a=this.scrollCaches;_i<_a.length;_i++){var scrollCache=_a[_i];left+=scrollCache.origScrollLeft-scrollCache.getScrollLeft()}return left},OffsetTracker.prototype.computeTop=function(){for(var top=this.origRect.top,_i=0,_a=this.scrollCaches;_i<_a.length;_i++){var scrollCache=_a[_i];top+=scrollCache.origScrollTop-scrollCache.getScrollTop()}return top},OffsetTracker.prototype.isWithinClipping=function(pageX,pageY){for(var point={left:pageX,top:pageY},_i=0,_a=this.scrollCaches;_i<_a.length;_i++){var scrollCache=_a[_i];if(!isIgnoredClipping(scrollCache.getEventTarget())&&!pointInsideRect(point,scrollCache.clientRect))return!1}return!0},OffsetTracker}();function isIgnoredClipping(node){var tagName=node.tagName;return"HTML"===tagName||"BODY"===tagName}var HitDragging=function(){function HitDragging(dragging,droppableStore){var _this=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(ev){var dragging=_this.dragging;_this.initialHit=null,_this.movingHit=null,_this.finalHit=null,_this.prepareHits(),_this.processFirstCoord(ev),_this.initialHit||!_this.requireInitial?(dragging.setIgnoreMove(!1),_this.emitter.trigger("pointerdown",ev)):dragging.setIgnoreMove(!0)},this.handleDragStart=function(ev){_this.emitter.trigger("dragstart",ev),_this.handleMove(ev,!0)},this.handleDragMove=function(ev){_this.emitter.trigger("dragmove",ev),_this.handleMove(ev)},this.handlePointerUp=function(ev){_this.releaseHits(),_this.emitter.trigger("pointerup",ev)},this.handleDragEnd=function(ev){_this.movingHit&&_this.emitter.trigger("hitupdate",null,!0,ev),_this.finalHit=_this.movingHit,_this.movingHit=null,_this.emitter.trigger("dragend",ev)},this.droppableStore=droppableStore,dragging.emitter.on("pointerdown",this.handlePointerDown),dragging.emitter.on("dragstart",this.handleDragStart),dragging.emitter.on("dragmove",this.handleDragMove),dragging.emitter.on("pointerup",this.handlePointerUp),dragging.emitter.on("dragend",this.handleDragEnd),this.dragging=dragging,this.emitter=new Emitter}return HitDragging.prototype.processFirstCoord=function(ev){var origPoint={left:ev.pageX,top:ev.pageY},adjustedPoint=origPoint,subjectEl=ev.subjectEl,subjectRect;subjectEl!==document&&(adjustedPoint=constrainPoint(adjustedPoint,subjectRect=computeRect(subjectEl)));var initialHit=this.initialHit=this.queryHitForOffset(adjustedPoint.left,adjustedPoint.top);if(initialHit){if(this.useSubjectCenter&&subjectRect){var slicedSubjectRect=intersectRects(subjectRect,initialHit.rect);slicedSubjectRect&&(adjustedPoint=getRectCenter(slicedSubjectRect))}this.coordAdjust=diffPoints(adjustedPoint,origPoint)}else this.coordAdjust={left:0,top:0}},HitDragging.prototype.handleMove=function(ev,forceHandle){var hit=this.queryHitForOffset(ev.pageX+this.coordAdjust.left,ev.pageY+this.coordAdjust.top);!forceHandle&&isHitsEqual(this.movingHit,hit)||(this.movingHit=hit,this.emitter.trigger("hitupdate",hit,!1,ev))},HitDragging.prototype.prepareHits=function(){this.offsetTrackers=mapHash(this.droppableStore,(function(interactionSettings){return interactionSettings.component.prepareHits(),new OffsetTracker(interactionSettings.el)}))},HitDragging.prototype.releaseHits=function(){var offsetTrackers=this.offsetTrackers;for(var id in offsetTrackers)offsetTrackers[id].destroy();this.offsetTrackers={}},HitDragging.prototype.queryHitForOffset=function(offsetLeft,offsetTop){var _a=this,droppableStore=_a.droppableStore,offsetTrackers=_a.offsetTrackers,bestHit=null;for(var id in droppableStore){var component=droppableStore[id].component,offsetTracker=offsetTrackers[id];if(offsetTracker&&offsetTracker.isWithinClipping(offsetLeft,offsetTop)){var originLeft=offsetTracker.computeLeft(),originTop=offsetTracker.computeTop(),positionLeft=offsetLeft-originLeft,positionTop=offsetTop-originTop,origRect=offsetTracker.origRect,width=origRect.right-origRect.left,height=origRect.bottom-origRect.top;if(positionLeft>=0&&positionLeft<width&&positionTop>=0&&positionTop<height){var hit=component.queryHit(positionLeft,positionTop,width,height),dateProfile=component.context.getCurrentData().dateProfile;hit&&rangeContainsRange(dateProfile.activeRange,hit.dateSpan.range)&&(!bestHit||hit.layer>bestHit.layer)&&(hit.rect.left+=originLeft,hit.rect.right+=originLeft,hit.rect.top+=originTop,hit.rect.bottom+=originTop,bestHit=hit)}}}return bestHit},HitDragging}();function isHitsEqual(hit0,hit1){return!hit0&&!hit1||Boolean(hit0)===Boolean(hit1)&&isDateSpansEqual(hit0.dateSpan,hit1.dateSpan)}function buildDatePointApiWithContext(dateSpan,context){for(var props={},_i=0,_a=context.pluginHooks.datePointTransforms;_i<_a.length;_i++){var transform=_a[_i];__assign(props,transform(dateSpan,context))}return __assign(props,buildDatePointApi(dateSpan,context.dateEnv)),props}function buildDatePointApi(span,dateEnv){return{date:dateEnv.toDate(span.range.start),dateStr:dateEnv.formatIso(span.range.start,{omitTime:span.allDay}),allDay:span.allDay}}var DateClicking=function(_super){function DateClicking(settings){var _this=_super.call(this,settings)||this;_this.handlePointerDown=function(pev){var dragging=_this.dragging,downEl=pev.origEvent.target;dragging.setIgnoreMove(!_this.component.isValidDateDownEl(downEl))},_this.handleDragEnd=function(ev){var component=_this.component,pointer;if(!_this.dragging.pointer.wasTouchScroll){var _a=_this.hitDragging,initialHit=_a.initialHit,finalHit=_a.finalHit;if(initialHit&&finalHit&&isHitsEqual(initialHit,finalHit)){var context=component.context,arg=__assign(__assign({},buildDatePointApiWithContext(initialHit.dateSpan,context)),{dayEl:initialHit.dayEl,jsEvent:ev.origEvent,view:context.viewApi||context.calendarApi.view});context.emitter.trigger("dateClick",arg)}}},_this.dragging=new FeaturefulElementDragging(settings.el),_this.dragging.autoScroller.isEnabled=!1;var hitDragging=_this.hitDragging=new HitDragging(_this.dragging,interactionSettingsToStore(settings));return hitDragging.emitter.on("pointerdown",_this.handlePointerDown),hitDragging.emitter.on("dragend",_this.handleDragEnd),_this}return __extends(DateClicking,_super),DateClicking.prototype.destroy=function(){this.dragging.destroy()},DateClicking}(Interaction),DateSelecting=function(_super){function DateSelecting(settings){var _this=_super.call(this,settings)||this;_this.dragSelection=null,_this.handlePointerDown=function(ev){var _a=_this,component=_a.component,dragging=_a.dragging,options,canSelect=component.context.options.selectable&&component.isValidDateDownEl(ev.origEvent.target);dragging.setIgnoreMove(!canSelect),dragging.delay=ev.isTouch?getComponentTouchDelay(component):null},_this.handleDragStart=function(ev){_this.component.context.calendarApi.unselect(ev)},_this.handleHitUpdate=function(hit,isFinal){var context=_this.component.context,dragSelection=null,isInvalid=!1;hit&&((dragSelection=joinHitsIntoSelection(_this.hitDragging.initialHit,hit,context.pluginHooks.dateSelectionTransformers))&&_this.component.isDateSelectionValid(dragSelection)||(isInvalid=!0,dragSelection=null)),dragSelection?context.dispatch({type:"SELECT_DATES",selection:dragSelection}):isFinal||context.dispatch({type:"UNSELECT_DATES"}),isInvalid?disableCursor():enableCursor(),isFinal||(_this.dragSelection=dragSelection)},_this.handlePointerUp=function(pev){_this.dragSelection&&(triggerDateSelect(_this.dragSelection,pev,_this.component.context),_this.dragSelection=null)};var component,options=settings.component.context.options,dragging=_this.dragging=new FeaturefulElementDragging(settings.el);dragging.touchScrollAllowed=!1,dragging.minDistance=options.selectMinDistance||0,dragging.autoScroller.isEnabled=options.dragScroll;var hitDragging=_this.hitDragging=new HitDragging(_this.dragging,interactionSettingsToStore(settings));return hitDragging.emitter.on("pointerdown",_this.handlePointerDown),hitDragging.emitter.on("dragstart",_this.handleDragStart),hitDragging.emitter.on("hitupdate",_this.handleHitUpdate),hitDragging.emitter.on("pointerup",_this.handlePointerUp),_this}return __extends(DateSelecting,_super),DateSelecting.prototype.destroy=function(){this.dragging.destroy()},DateSelecting}(Interaction);function getComponentTouchDelay(component){var options=component.context.options,delay=options.selectLongPressDelay;return null==delay&&(delay=options.longPressDelay),delay}function joinHitsIntoSelection(hit0,hit1,dateSelectionTransformers){var dateSpan0=hit0.dateSpan,dateSpan1=hit1.dateSpan,ms=[dateSpan0.range.start,dateSpan0.range.end,dateSpan1.range.start,dateSpan1.range.end];ms.sort(compareNumbers);for(var props={},_i=0,dateSelectionTransformers_1=dateSelectionTransformers;_i<dateSelectionTransformers_1.length;_i++){var transformer,res=(0,dateSelectionTransformers_1[_i])(hit0,hit1);if(!1===res)return null;res&&__assign(props,res)}return props.range={start:ms[0],end:ms[3]},props.allDay=dateSpan0.allDay,props}var EventDragging=function(_super){function EventDragging(settings){var _this=_super.call(this,settings)||this;_this.subjectEl=null,_this.subjectSeg=null,_this.isDragging=!1,_this.eventRange=null,_this.relevantEvents=null,_this.receivingContext=null,_this.validMutation=null,_this.mutatedRelevantEvents=null,_this.handlePointerDown=function(ev){var origTarget=ev.origEvent.target,_a=_this,component=_a.component,dragging=_a.dragging,mirror=dragging.mirror,options=component.context.options,initialContext=component.context;_this.subjectEl=ev.subjectEl;var subjectSeg=_this.subjectSeg=getElSeg(ev.subjectEl),eventRange,eventInstanceId=(_this.eventRange=subjectSeg.eventRange).instance.instanceId;_this.relevantEvents=getRelevantEvents(initialContext.getCurrentData().eventStore,eventInstanceId),dragging.minDistance=ev.isTouch?0:options.eventDragMinDistance,dragging.delay=ev.isTouch&&eventInstanceId!==component.props.eventSelection?getComponentTouchDelay$1(component):null,options.fixedMirrorParent?mirror.parentNode=options.fixedMirrorParent:mirror.parentNode=elementClosest(origTarget,".fc"),mirror.revertDuration=options.dragRevertDuration;var isValid=component.isValidSegDownEl(origTarget)&&!elementClosest(origTarget,".fc-event-resizer");dragging.setIgnoreMove(!isValid),_this.isDragging=isValid&&ev.subjectEl.classList.contains("fc-event-draggable")},_this.handleDragStart=function(ev){var initialContext=_this.component.context,eventRange=_this.eventRange,eventInstanceId=eventRange.instance.instanceId;ev.isTouch?eventInstanceId!==_this.component.props.eventSelection&&initialContext.dispatch({type:"SELECT_EVENT",eventInstanceId:eventInstanceId}):initialContext.dispatch({type:"UNSELECT_EVENT"}),_this.isDragging&&(initialContext.calendarApi.unselect(ev),initialContext.emitter.trigger("eventDragStart",{el:_this.subjectEl,event:new EventApi(initialContext,eventRange.def,eventRange.instance),jsEvent:ev.origEvent,view:initialContext.viewApi}))},_this.handleHitUpdate=function(hit,isFinal){if(_this.isDragging){var relevantEvents=_this.relevantEvents,initialHit=_this.hitDragging.initialHit,initialContext=_this.component.context,receivingContext=null,mutation=null,mutatedRelevantEvents=null,isInvalid=!1,interaction={affectedEvents:relevantEvents,mutatedEvents:{defs:{},instances:{}},isEvent:!0};if(hit){var receivingComponent=hit.component,receivingOptions=(receivingContext=receivingComponent.context).options;initialContext===receivingContext||receivingOptions.editable&&receivingOptions.droppable?(mutation=computeEventMutation(initialHit,hit,receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers))&&(mutatedRelevantEvents=applyMutationToEventStore(relevantEvents,receivingContext.getCurrentData().eventUiBases,mutation,receivingContext),interaction.mutatedEvents=mutatedRelevantEvents,receivingComponent.isInteractionValid(interaction)||(isInvalid=!0,mutation=null,mutatedRelevantEvents=null,interaction.mutatedEvents={defs:{},instances:{}})):receivingContext=null}_this.displayDrag(receivingContext,interaction),isInvalid?disableCursor():enableCursor(),isFinal||(initialContext===receivingContext&&isHitsEqual(initialHit,hit)&&(mutation=null),_this.dragging.setMirrorNeedsRevert(!mutation),_this.dragging.setMirrorIsVisible(!hit||!document.querySelector(".fc-event-mirror")),_this.receivingContext=receivingContext,_this.validMutation=mutation,_this.mutatedRelevantEvents=mutatedRelevantEvents)}},_this.handlePointerUp=function(){_this.isDragging||_this.cleanup()},_this.handleDragEnd=function(ev){if(_this.isDragging){var initialContext_1=_this.component.context,initialView=initialContext_1.viewApi,_a=_this,receivingContext_1=_a.receivingContext,validMutation=_a.validMutation,eventDef=_this.eventRange.def,eventInstance=_this.eventRange.instance,eventApi=new EventApi(initialContext_1,eventDef,eventInstance),relevantEvents_1=_this.relevantEvents,mutatedRelevantEvents_1=_this.mutatedRelevantEvents,finalHit=_this.hitDragging.finalHit;if(_this.clearDrag(),initialContext_1.emitter.trigger("eventDragStop",{el:_this.subjectEl,event:eventApi,jsEvent:ev.origEvent,view:initialView}),validMutation){if(receivingContext_1===initialContext_1){var updatedEventApi=new EventApi(initialContext_1,mutatedRelevantEvents_1.defs[eventDef.defId],eventInstance?mutatedRelevantEvents_1.instances[eventInstance.instanceId]:null);initialContext_1.dispatch({type:"MERGE_EVENTS",eventStore:mutatedRelevantEvents_1});for(var eventChangeArg={oldEvent:eventApi,event:updatedEventApi,relatedEvents:buildEventApis(mutatedRelevantEvents_1,initialContext_1,eventInstance),revert:function(){initialContext_1.dispatch({type:"MERGE_EVENTS",eventStore:relevantEvents_1})}},transformed={},_i=0,_b=initialContext_1.getCurrentData().pluginHooks.eventDropTransformers;_i<_b.length;_i++){var transformer=_b[_i];__assign(transformed,transformer(validMutation,initialContext_1))}initialContext_1.emitter.trigger("eventDrop",__assign(__assign(__assign({},eventChangeArg),transformed),{el:ev.subjectEl,delta:validMutation.datesDelta,jsEvent:ev.origEvent,view:initialView})),initialContext_1.emitter.trigger("eventChange",eventChangeArg)}else if(receivingContext_1){var eventRemoveArg={event:eventApi,relatedEvents:buildEventApis(relevantEvents_1,initialContext_1,eventInstance),revert:function(){initialContext_1.dispatch({type:"MERGE_EVENTS",eventStore:relevantEvents_1})}};initialContext_1.emitter.trigger("eventLeave",__assign(__assign({},eventRemoveArg),{draggedEl:ev.subjectEl,view:initialView})),initialContext_1.dispatch({type:"REMOVE_EVENTS",eventStore:relevantEvents_1}),initialContext_1.emitter.trigger("eventRemove",eventRemoveArg);var addedEventDef=mutatedRelevantEvents_1.defs[eventDef.defId],addedEventInstance=mutatedRelevantEvents_1.instances[eventInstance.instanceId],addedEventApi=new EventApi(receivingContext_1,addedEventDef,addedEventInstance);receivingContext_1.dispatch({type:"MERGE_EVENTS",eventStore:mutatedRelevantEvents_1});var eventAddArg={event:addedEventApi,relatedEvents:buildEventApis(mutatedRelevantEvents_1,receivingContext_1,addedEventInstance),revert:function(){receivingContext_1.dispatch({type:"REMOVE_EVENTS",eventStore:mutatedRelevantEvents_1})}};receivingContext_1.emitter.trigger("eventAdd",eventAddArg),ev.isTouch&&receivingContext_1.dispatch({type:"SELECT_EVENT",eventInstanceId:eventInstance.instanceId}),receivingContext_1.emitter.trigger("drop",__assign(__assign({},buildDatePointApiWithContext(finalHit.dateSpan,receivingContext_1)),{draggedEl:ev.subjectEl,jsEvent:ev.origEvent,view:finalHit.component.context.viewApi})),receivingContext_1.emitter.trigger("eventReceive",__assign(__assign({},eventAddArg),{draggedEl:ev.subjectEl,view:finalHit.component.context.viewApi}))}}else initialContext_1.emitter.trigger("_noEventDrop")}_this.cleanup()};var component,options=_this.component.context.options,dragging=_this.dragging=new FeaturefulElementDragging(settings.el);dragging.pointer.selector=EventDragging.SELECTOR,dragging.touchScrollAllowed=!1,dragging.autoScroller.isEnabled=options.dragScroll;var hitDragging=_this.hitDragging=new HitDragging(_this.dragging,interactionSettingsStore);return hitDragging.useSubjectCenter=settings.useEventCenter,hitDragging.emitter.on("pointerdown",_this.handlePointerDown),hitDragging.emitter.on("dragstart",_this.handleDragStart),hitDragging.emitter.on("hitupdate",_this.handleHitUpdate),hitDragging.emitter.on("pointerup",_this.handlePointerUp),hitDragging.emitter.on("dragend",_this.handleDragEnd),_this}return __extends(EventDragging,_super),EventDragging.prototype.destroy=function(){this.dragging.destroy()},EventDragging.prototype.displayDrag=function(nextContext,state){var initialContext=this.component.context,prevContext=this.receivingContext;prevContext&&prevContext!==nextContext&&(prevContext===initialContext?prevContext.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:state.affectedEvents,mutatedEvents:{defs:{},instances:{}},isEvent:!0}}):prevContext.dispatch({type:"UNSET_EVENT_DRAG"})),nextContext&&nextContext.dispatch({type:"SET_EVENT_DRAG",state:state})},EventDragging.prototype.clearDrag=function(){var initialCalendar=this.component.context,receivingContext=this.receivingContext;receivingContext&&receivingContext.dispatch({type:"UNSET_EVENT_DRAG"}),initialCalendar!==receivingContext&&initialCalendar.dispatch({type:"UNSET_EVENT_DRAG"})},EventDragging.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null},EventDragging.SELECTOR=".fc-event-draggable, .fc-event-resizable",EventDragging}(Interaction);function computeEventMutation(hit0,hit1,massagers){var dateSpan0=hit0.dateSpan,dateSpan1=hit1.dateSpan,date0=dateSpan0.range.start,date1=dateSpan1.range.start,standardProps={};dateSpan0.allDay!==dateSpan1.allDay&&(standardProps.allDay=dateSpan1.allDay,standardProps.hasEnd=hit1.component.context.options.allDayMaintainDuration,dateSpan1.allDay&&(date0=startOfDay(date0)));var delta=diffDates(date0,date1,hit0.component.context.dateEnv,hit0.component===hit1.component?hit0.component.largeUnit:null);delta.milliseconds&&(standardProps.allDay=!1);for(var mutation={datesDelta:delta,standardProps:standardProps},_i=0,massagers_1=massagers;_i<massagers_1.length;_i++){var massager;(0,massagers_1[_i])(mutation,hit0,hit1)}return mutation}function getComponentTouchDelay$1(component){var options=component.context.options,delay=options.eventLongPressDelay;return null==delay&&(delay=options.longPressDelay),delay}var EventResizing=function(_super){function EventResizing(settings){var _this=_super.call(this,settings)||this;_this.draggingSegEl=null,_this.draggingSeg=null,_this.eventRange=null,_this.relevantEvents=null,_this.validMutation=null,_this.mutatedRelevantEvents=null,_this.handlePointerDown=function(ev){var component=_this.component,segEl,seg=getElSeg(_this.querySegEl(ev)),eventRange=_this.eventRange=seg.eventRange;_this.dragging.minDistance=component.context.options.eventDragMinDistance,_this.dragging.setIgnoreMove(!_this.component.isValidSegDownEl(ev.origEvent.target)||ev.isTouch&&_this.component.props.eventSelection!==eventRange.instance.instanceId)},_this.handleDragStart=function(ev){var context=_this.component.context,eventRange=_this.eventRange;_this.relevantEvents=getRelevantEvents(context.getCurrentData().eventStore,_this.eventRange.instance.instanceId);var segEl=_this.querySegEl(ev);_this.draggingSegEl=segEl,_this.draggingSeg=getElSeg(segEl),context.calendarApi.unselect(),context.emitter.trigger("eventResizeStart",{el:segEl,event:new EventApi(context,eventRange.def,eventRange.instance),jsEvent:ev.origEvent,view:context.viewApi})},_this.handleHitUpdate=function(hit,isFinal,ev){var context=_this.component.context,relevantEvents=_this.relevantEvents,initialHit=_this.hitDragging.initialHit,eventInstance=_this.eventRange.instance,mutation=null,mutatedRelevantEvents=null,isInvalid=!1,interaction={affectedEvents:relevantEvents,mutatedEvents:{defs:{},instances:{}},isEvent:!0};hit&&(mutation=computeMutation(initialHit,hit,ev.subjectEl.classList.contains("fc-event-resizer-start"),eventInstance.range,context.pluginHooks.eventResizeJoinTransforms)),mutation&&(mutatedRelevantEvents=applyMutationToEventStore(relevantEvents,context.getCurrentData().eventUiBases,mutation,context),interaction.mutatedEvents=mutatedRelevantEvents,_this.component.isInteractionValid(interaction)||(isInvalid=!0,mutation=null,mutatedRelevantEvents=null,interaction.mutatedEvents=null)),mutatedRelevantEvents?context.dispatch({type:"SET_EVENT_RESIZE",state:interaction}):context.dispatch({type:"UNSET_EVENT_RESIZE"}),isInvalid?disableCursor():enableCursor(),isFinal||(mutation&&isHitsEqual(initialHit,hit)&&(mutation=null),_this.validMutation=mutation,_this.mutatedRelevantEvents=mutatedRelevantEvents)},_this.handleDragEnd=function(ev){var context=_this.component.context,eventDef=_this.eventRange.def,eventInstance=_this.eventRange.instance,eventApi=new EventApi(context,eventDef,eventInstance),relevantEvents=_this.relevantEvents,mutatedRelevantEvents=_this.mutatedRelevantEvents;if(context.emitter.trigger("eventResizeStop",{el:_this.draggingSegEl,event:eventApi,jsEvent:ev.origEvent,view:context.viewApi}),_this.validMutation){var updatedEventApi=new EventApi(context,mutatedRelevantEvents.defs[eventDef.defId],eventInstance?mutatedRelevantEvents.instances[eventInstance.instanceId]:null);context.dispatch({type:"MERGE_EVENTS",eventStore:mutatedRelevantEvents});var eventChangeArg={oldEvent:eventApi,event:updatedEventApi,relatedEvents:buildEventApis(mutatedRelevantEvents,context,eventInstance),revert:function(){context.dispatch({type:"MERGE_EVENTS",eventStore:relevantEvents})}};context.emitter.trigger("eventResize",__assign(__assign({},eventChangeArg),{el:_this.draggingSegEl,startDelta:_this.validMutation.startDelta||createDuration(0),endDelta:_this.validMutation.endDelta||createDuration(0),jsEvent:ev.origEvent,view:context.viewApi})),context.emitter.trigger("eventChange",eventChangeArg)}else context.emitter.trigger("_noEventResize");_this.draggingSeg=null,_this.relevantEvents=null,_this.validMutation=null};var component=settings.component,dragging=_this.dragging=new FeaturefulElementDragging(settings.el);dragging.pointer.selector=".fc-event-resizer",dragging.touchScrollAllowed=!1,dragging.autoScroller.isEnabled=component.context.options.dragScroll;var hitDragging=_this.hitDragging=new HitDragging(_this.dragging,interactionSettingsToStore(settings));return hitDragging.emitter.on("pointerdown",_this.handlePointerDown),hitDragging.emitter.on("dragstart",_this.handleDragStart),hitDragging.emitter.on("hitupdate",_this.handleHitUpdate),hitDragging.emitter.on("dragend",_this.handleDragEnd),_this}return __extends(EventResizing,_super),EventResizing.prototype.destroy=function(){this.dragging.destroy()},EventResizing.prototype.querySegEl=function(ev){return elementClosest(ev.subjectEl,".fc-event")},EventResizing}(Interaction);function computeMutation(hit0,hit1,isFromStart,instanceRange,transforms){for(var dateEnv=hit0.component.context.dateEnv,date0,date1,delta=diffDates(hit0.dateSpan.range.start,hit1.dateSpan.range.start,dateEnv,hit0.component.largeUnit),props={},_i=0,transforms_1=transforms;_i<transforms_1.length;_i++){var transform,res=(0,transforms_1[_i])(hit0,hit1);if(!1===res)return null;res&&__assign(props,res)}if(isFromStart){if(dateEnv.add(instanceRange.start,delta)<instanceRange.end)return props.startDelta=delta,props}else if(dateEnv.add(instanceRange.end,delta)>instanceRange.start)return props.endDelta=delta,props;return null}var UnselectAuto=function(){function UnselectAuto(context){var _this=this;this.context=context,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=function(selectInfo){selectInfo.jsEvent&&(_this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=function(pev){var unselectCancel=_this.context.options.unselectCancel,downEl=pev.origEvent.target;_this.matchesCancel=!!elementClosest(downEl,unselectCancel),_this.matchesEvent=!!elementClosest(downEl,EventDragging.SELECTOR)},this.onDocumentPointerUp=function(pev){var context=_this.context,documentPointer=_this.documentPointer,calendarState=context.getCurrentData();if(!documentPointer.wasTouchScroll){if(calendarState.dateSelection&&!_this.isRecentPointerDateSelect){var unselectAuto=context.options.unselectAuto;!unselectAuto||unselectAuto&&_this.matchesCancel||context.calendarApi.unselect(pev)}calendarState.eventSelection&&!_this.matchesEvent&&context.dispatch({type:"UNSELECT_EVENT"})}_this.isRecentPointerDateSelect=!1};var documentPointer=this.documentPointer=new PointerDragging(document);documentPointer.shouldIgnoreMove=!0,documentPointer.shouldWatchScroll=!1,documentPointer.emitter.on("pointerdown",this.onDocumentPointerDown),documentPointer.emitter.on("pointerup",this.onDocumentPointerUp),context.emitter.on("select",this.onSelect)}return UnselectAuto.prototype.destroy=function(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()},UnselectAuto}(),OPTION_REFINERS={fixedMirrorParent:identity},LISTENER_REFINERS={dateClick:identity,eventDragStart:identity,eventDragStop:identity,eventDrop:identity,eventResizeStart:identity,eventResizeStop:identity,eventResize:identity,drop:identity,eventReceive:identity,eventLeave:identity},ExternalElementDragging=function(){function ExternalElementDragging(dragging,suppliedDragMeta){var _this=this;this.receivingContext=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=function(ev){_this.dragMeta=_this.buildDragMeta(ev.subjectEl)},this.handleHitUpdate=function(hit,isFinal,ev){var dragging=_this.hitDragging.dragging,receivingContext=null,droppableEvent=null,isInvalid=!1,interaction={affectedEvents:{defs:{},instances:{}},mutatedEvents:{defs:{},instances:{}},isEvent:_this.dragMeta.create};hit&&(receivingContext=hit.component.context,_this.canDropElOnCalendar(ev.subjectEl,receivingContext)&&(droppableEvent=computeEventForDateSpan(hit.dateSpan,_this.dragMeta,receivingContext),interaction.mutatedEvents=eventTupleToStore(droppableEvent),(isInvalid=!isInteractionValid(interaction,receivingContext))&&(interaction.mutatedEvents={defs:{},instances:{}},droppableEvent=null))),_this.displayDrag(receivingContext,interaction),dragging.setMirrorIsVisible(isFinal||!droppableEvent||!document.querySelector(".fc-event-mirror")),isInvalid?disableCursor():enableCursor(),isFinal||(dragging.setMirrorNeedsRevert(!droppableEvent),_this.receivingContext=receivingContext,_this.droppableEvent=droppableEvent)},this.handleDragEnd=function(pev){var _a=_this,receivingContext=_a.receivingContext,droppableEvent=_a.droppableEvent;if(_this.clearDrag(),receivingContext&&droppableEvent){var finalHit=_this.hitDragging.finalHit,finalView=finalHit.component.context.viewApi,dragMeta=_this.dragMeta;if(receivingContext.emitter.trigger("drop",__assign(__assign({},buildDatePointApiWithContext(finalHit.dateSpan,receivingContext)),{draggedEl:pev.subjectEl,jsEvent:pev.origEvent,view:finalView})),dragMeta.create){var addingEvents_1=eventTupleToStore(droppableEvent);receivingContext.dispatch({type:"MERGE_EVENTS",eventStore:addingEvents_1}),pev.isTouch&&receivingContext.dispatch({type:"SELECT_EVENT",eventInstanceId:droppableEvent.instance.instanceId}),receivingContext.emitter.trigger("eventReceive",{event:new EventApi(receivingContext,droppableEvent.def,droppableEvent.instance),relatedEvents:[],revert:function(){receivingContext.dispatch({type:"REMOVE_EVENTS",eventStore:addingEvents_1})},draggedEl:pev.subjectEl,view:finalView})}}_this.receivingContext=null,_this.droppableEvent=null};var hitDragging=this.hitDragging=new HitDragging(dragging,interactionSettingsStore);hitDragging.requireInitial=!1,hitDragging.emitter.on("dragstart",this.handleDragStart),hitDragging.emitter.on("hitupdate",this.handleHitUpdate),hitDragging.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=suppliedDragMeta}return ExternalElementDragging.prototype.buildDragMeta=function(subjectEl){return"object"==typeof this.suppliedDragMeta?parseDragMeta(this.suppliedDragMeta):"function"==typeof this.suppliedDragMeta?parseDragMeta(this.suppliedDragMeta(subjectEl)):getDragMetaFromEl(subjectEl)},ExternalElementDragging.prototype.displayDrag=function(nextContext,state){var prevContext=this.receivingContext;prevContext&&prevContext!==nextContext&&prevContext.dispatch({type:"UNSET_EVENT_DRAG"}),nextContext&&nextContext.dispatch({type:"SET_EVENT_DRAG",state:state})},ExternalElementDragging.prototype.clearDrag=function(){this.receivingContext&&this.receivingContext.dispatch({type:"UNSET_EVENT_DRAG"})},ExternalElementDragging.prototype.canDropElOnCalendar=function(el,receivingContext){var dropAccept=receivingContext.options.dropAccept;return"function"==typeof dropAccept?dropAccept.call(receivingContext.calendarApi,el):"string"!=typeof dropAccept||!dropAccept||Boolean(elementMatches(el,dropAccept))},ExternalElementDragging}();function computeEventForDateSpan(dateSpan,dragMeta,context){for(var defProps=__assign({},dragMeta.leftoverProps),_i=0,_a=context.pluginHooks.externalDefTransforms;_i<_a.length;_i++){var transform=_a[_i];__assign(defProps,transform(dateSpan,dragMeta))}var _b=refineEventDef(defProps,context),refined,extra,def=parseEventDef(_b.refined,_b.extra,dragMeta.sourceId,dateSpan.allDay,context.options.forceEventDuration||Boolean(dragMeta.duration),context),start=dateSpan.range.start;dateSpan.allDay&&dragMeta.startTime&&(start=context.dateEnv.add(start,dragMeta.startTime));var end=dragMeta.duration?context.dateEnv.add(start,dragMeta.duration):getDefaultEventEnd(dateSpan.allDay,start,context),instance;return{def:def,instance:createEventInstance(def.defId,{start:start,end:end})}}function getDragMetaFromEl(el){var str=getEmbeddedElData(el,"event"),obj;return parseDragMeta(str?JSON.parse(str):{create:!1})}function getEmbeddedElData(el,name){var prefix=config.dataAttrPrefix,prefixedName=(prefix?prefix+"-":"")+name;return el.getAttribute("data-"+prefixedName)||""}config.dataAttrPrefix="";var ExternalDraggable=function(){function ExternalDraggable(el,settings){var _this=this;void 0===settings&&(settings={}),this.handlePointerDown=function(ev){var dragging=_this.dragging,_a=_this.settings,minDistance=_a.minDistance,longPressDelay=_a.longPressDelay;dragging.minDistance=null!=minDistance?minDistance:ev.isTouch?0:BASE_OPTION_DEFAULTS.eventDragMinDistance,dragging.delay=ev.isTouch?null!=longPressDelay?longPressDelay:BASE_OPTION_DEFAULTS.longPressDelay:0},this.handleDragStart=function(ev){ev.isTouch&&_this.dragging.delay&&ev.subjectEl.classList.contains("fc-event")&&_this.dragging.mirror.getMirrorEl().classList.add("fc-event-selected")},this.settings=settings;var dragging=this.dragging=new FeaturefulElementDragging(el);dragging.touchScrollAllowed=!1,null!=settings.itemSelector&&(dragging.pointer.selector=settings.itemSelector),null!=settings.appendTo&&(dragging.mirror.parentNode=settings.appendTo),dragging.emitter.on("pointerdown",this.handlePointerDown),dragging.emitter.on("dragstart",this.handleDragStart),new ExternalElementDragging(dragging,settings.eventData)}return ExternalDraggable.prototype.destroy=function(){this.dragging.destroy()},ExternalDraggable}(),InferredElementDragging=function(_super){function InferredElementDragging(containerEl){var _this=_super.call(this,containerEl)||this;_this.shouldIgnoreMove=!1,_this.mirrorSelector="",_this.currentMirrorEl=null,_this.handlePointerDown=function(ev){_this.emitter.trigger("pointerdown",ev),_this.shouldIgnoreMove||_this.emitter.trigger("dragstart",ev)},_this.handlePointerMove=function(ev){_this.shouldIgnoreMove||_this.emitter.trigger("dragmove",ev)},_this.handlePointerUp=function(ev){_this.emitter.trigger("pointerup",ev),_this.shouldIgnoreMove||_this.emitter.trigger("dragend",ev)};var pointer=_this.pointer=new PointerDragging(containerEl);return pointer.emitter.on("pointerdown",_this.handlePointerDown),pointer.emitter.on("pointermove",_this.handlePointerMove),pointer.emitter.on("pointerup",_this.handlePointerUp),_this}return __extends(InferredElementDragging,_super),InferredElementDragging.prototype.destroy=function(){this.pointer.destroy()},InferredElementDragging.prototype.setIgnoreMove=function(bool){this.shouldIgnoreMove=bool},InferredElementDragging.prototype.setMirrorIsVisible=function(bool){if(bool)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var mirrorEl=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;mirrorEl&&(this.currentMirrorEl=mirrorEl,mirrorEl.style.visibility="hidden")}},InferredElementDragging}(ElementDragging),ThirdPartyDraggable=function(){function ThirdPartyDraggable(containerOrSettings,settings){var containerEl=document;containerOrSettings===document||containerOrSettings instanceof Element?(containerEl=containerOrSettings,settings=settings||{}):settings=containerOrSettings||{};var dragging=this.dragging=new InferredElementDragging(containerEl);"string"==typeof settings.itemSelector?dragging.pointer.selector=settings.itemSelector:containerEl===document&&(dragging.pointer.selector="[data-event]"),"string"==typeof settings.mirrorSelector&&(dragging.mirrorSelector=settings.mirrorSelector),new ExternalElementDragging(dragging,settings.eventData)}return ThirdPartyDraggable.prototype.destroy=function(){this.dragging.destroy()},ThirdPartyDraggable}(),interactionPlugin=createPlugin({componentInteractions:[DateClicking,DateSelecting,EventDragging,EventResizing],calendarInteractions:[UnselectAuto],elementDraggingImpl:FeaturefulElementDragging,optionRefiners:OPTION_REFINERS,listenerRefiners:LISTENER_REFINERS}),TableView=function(_super){function TableView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.headerElRef=createRef(),_this}return __extends(TableView,_super),TableView.prototype.renderSimpleLayout=function(headerRowContent,bodyContent){var _a=this,props=_a.props,context=_a.context,sections=[],stickyHeaderDates=getStickyHeaderDates(context.options);return headerRowContent&&sections.push({type:"header",key:"header",isSticky:stickyHeaderDates,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:headerRowContent}}),sections.push({type:"body",key:"body",liquid:!0,chunk:{content:bodyContent}}),createElement(ViewRoot,{viewSpec:context.viewSpec},(function(rootElRef,classNames){return createElement("div",{ref:rootElRef,className:["fc-daygrid"].concat(classNames).join(" ")},createElement(SimpleScrollGrid,{liquid:!props.isHeightAuto&&!props.forPrint,cols:[],sections:sections}))}))},TableView.prototype.renderHScrollLayout=function(headerRowContent,bodyContent,colCnt,dayMinWidth){var ScrollGrid=this.context.pluginHooks.scrollGridImpl;if(!ScrollGrid)throw new Error("No ScrollGrid implementation");var _a=this,props=_a.props,context=_a.context,stickyHeaderDates=!props.forPrint&&getStickyHeaderDates(context.options),stickyFooterScrollbar=!props.forPrint&&getStickyFooterScrollbar(context.options),sections=[];return headerRowContent&&sections.push({type:"header",key:"header",isSticky:stickyHeaderDates,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:headerRowContent}]}),sections.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:bodyContent}]}),stickyFooterScrollbar&&sections.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:renderScrollShim}]}),createElement(ViewRoot,{viewSpec:context.viewSpec},(function(rootElRef,classNames){return createElement("div",{ref:rootElRef,className:["fc-daygrid"].concat(classNames).join(" ")},createElement(ScrollGrid,{liquid:!props.isHeightAuto&&!props.forPrint,colGroups:[{cols:[{span:colCnt,minWidth:dayMinWidth}]}],sections:sections}))}))},TableView}(DateComponent);function splitSegsByRow(segs,rowCnt){for(var byRow=[],i=0;i<rowCnt;i+=1)byRow[i]=[];for(var _i=0,segs_1=segs;_i<segs_1.length;_i++){var seg=segs_1[_i];byRow[seg.row].push(seg)}return byRow}function splitSegsByFirstCol(segs,colCnt){for(var byCol=[],i=0;i<colCnt;i+=1)byCol[i]=[];for(var _i=0,segs_2=segs;_i<segs_2.length;_i++){var seg=segs_2[_i];byCol[seg.firstCol].push(seg)}return byCol}function splitInteractionByRow(ui,rowCnt){var byRow=[];if(ui){for(var i=0;i<rowCnt;i+=1)byRow[i]={affectedInstances:ui.affectedInstances,isEvent:ui.isEvent,segs:[]};for(var _i=0,_a=ui.segs;_i<_a.length;_i++){var seg=_a[_i];byRow[seg.row].segs.push(seg)}}else for(var i=0;i<rowCnt;i+=1)byRow[i]=null;return byRow}var TableCellTop=function(_super){function TableCellTop(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(TableCellTop,_super),TableCellTop.prototype.render=function(){var props=this.props,navLinkAttrs=this.context.options.navLinks?{"data-navlink":buildNavLinkData(props.date),tabIndex:0}:{};return createElement(DayCellContent,{date:props.date,dateProfile:props.dateProfile,todayRange:props.todayRange,showDayNumber:props.showDayNumber,extraHookProps:props.extraHookProps,defaultContent:renderTopInner},(function(innerElRef,innerContent){return(innerContent||props.forceDayTop)&&createElement("div",{className:"fc-daygrid-day-top",ref:innerElRef},createElement("a",__assign({className:"fc-daygrid-day-number"},navLinkAttrs),innerContent||createElement(Fragment,null," ")))}))},TableCellTop}(BaseComponent);function renderTopInner(props){return props.dayNumberText}var DEFAULT_WEEK_NUM_FORMAT=createFormatter({week:"narrow"}),TableCell=function(_super){function TableCell(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.handleRootEl=function(el){_this.rootEl=el,setRef(_this.props.elRef,el)},_this.handleMoreLinkClick=function(ev){var props=_this.props;if(props.onMoreClick){var allSegs=props.segsByEachCol,hiddenSegs=allSegs.filter((function(seg){return props.segIsHidden[seg.eventRange.instance.instanceId]}));props.onMoreClick({date:props.date,allSegs:allSegs,hiddenSegs:hiddenSegs,moreCnt:props.moreCnt,dayEl:_this.rootEl,ev:ev})}},_this}return __extends(TableCell,_super),TableCell.prototype.render=function(){var _this=this,_a=this.context,options=_a.options,viewApi=_a.viewApi,props=this.props,date=props.date,dateProfile=props.dateProfile,hookProps={num:props.moreCnt,text:props.buildMoreLinkText(props.moreCnt),view:viewApi},navLinkAttrs=options.navLinks?{"data-navlink":buildNavLinkData(date,"week"),tabIndex:0}:{};return createElement(DayCellRoot,{date:date,dateProfile:dateProfile,todayRange:props.todayRange,showDayNumber:props.showDayNumber,extraHookProps:props.extraHookProps,elRef:this.handleRootEl},(function(dayElRef,dayClassNames,rootDataAttrs,isDisabled){return createElement("td",__assign({ref:dayElRef,className:["fc-daygrid-day"].concat(dayClassNames,props.extraClassNames||[]).join(" ")},rootDataAttrs,props.extraDataAttrs),createElement("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:props.innerElRef},props.showWeekNumber&&createElement(WeekNumberRoot,{date:date,defaultFormat:DEFAULT_WEEK_NUM_FORMAT},(function(weekElRef,weekClassNames,innerElRef,innerContent){return createElement("a",__assign({ref:weekElRef,className:["fc-daygrid-week-number"].concat(weekClassNames).join(" ")},navLinkAttrs),innerContent)})),!isDisabled&&createElement(TableCellTop,{date:date,dateProfile:dateProfile,showDayNumber:props.showDayNumber,forceDayTop:props.forceDayTop,todayRange:props.todayRange,extraHookProps:props.extraHookProps}),createElement("div",{className:"fc-daygrid-day-events",ref:props.fgContentElRef,style:{paddingBottom:props.fgPaddingBottom}},props.fgContent,Boolean(props.moreCnt)&&createElement("div",{className:"fc-daygrid-day-bottom",style:{marginTop:props.moreMarginTop}},createElement(RenderHook,{hookProps:hookProps,classNames:options.moreLinkClassNames,content:options.moreLinkContent,defaultContent:renderMoreLinkInner,didMount:options.moreLinkDidMount,willUnmount:options.moreLinkWillUnmount},(function(rootElRef,classNames,innerElRef,innerContent){return createElement("a",{ref:rootElRef,className:["fc-daygrid-more-link"].concat(classNames).join(" "),onClick:_this.handleMoreLinkClick},innerContent)})))),createElement("div",{className:"fc-daygrid-day-bg"},props.bgContent)))}))},TableCell}(DateComponent);function renderMoreLinkInner(props){return props.text}TableCell.addPropsEquality({onMoreClick:!0});var DEFAULT_TABLE_EVENT_TIME_FORMAT=createFormatter({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function hasListItemDisplay(seg){var display=seg.eventRange.ui.display;return"list-item"===display||"auto"===display&&!seg.eventRange.def.allDay&&seg.firstCol===seg.lastCol&&seg.isStart&&seg.isEnd}var TableListItemEvent=function(_super){function TableListItemEvent(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(TableListItemEvent,_super),TableListItemEvent.prototype.render=function(){var _a=this,props=_a.props,context=_a.context,timeFormat=context.options.eventTimeFormat||DEFAULT_TABLE_EVENT_TIME_FORMAT,timeText=buildSegTimeText(props.seg,timeFormat,context,!0,props.defaultDisplayEventEnd);return createElement(EventRoot,{seg:props.seg,timeText:timeText,defaultContent:renderInnerContent$2,isDragging:props.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:props.isSelected,isPast:props.isPast,isFuture:props.isFuture,isToday:props.isToday},(function(rootElRef,classNames,innerElRef,innerContent){return createElement("a",__assign({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(classNames).join(" "),ref:rootElRef},getSegAnchorAttrs$1(props.seg)),innerContent)}))},TableListItemEvent}(BaseComponent);function renderInnerContent$2(innerProps){return createElement(Fragment,null,createElement("div",{className:"fc-daygrid-event-dot",style:{borderColor:innerProps.borderColor||innerProps.backgroundColor}}),innerProps.timeText&&createElement("div",{className:"fc-event-time"},innerProps.timeText),createElement("div",{className:"fc-event-title"},innerProps.event.title||createElement(Fragment,null," ")))}function getSegAnchorAttrs$1(seg){var url=seg.eventRange.def.url;return url?{href:url}:{}}var TableBlockEvent=function(_super){function TableBlockEvent(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(TableBlockEvent,_super),TableBlockEvent.prototype.render=function(){var props=this.props;return createElement(StandardEvent,__assign({},props,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:DEFAULT_TABLE_EVENT_TIME_FORMAT,defaultDisplayEventEnd:props.defaultDisplayEventEnd,disableResizing:!props.seg.eventRange.def.allDay}))},TableBlockEvent}(BaseComponent);function computeFgSegPlacement(cellModels,segs,dayMaxEvents,dayMaxEventRows,eventHeights,maxContentHeight,colCnt,eventOrderSpecs){for(var colPlacements=[],moreCnts=[],segIsHidden={},segTops={},segMarginTops={},moreTops={},paddingBottoms={},i=0;i<colCnt;i+=1)colPlacements.push([]),moreCnts.push(0);for(var _i=0,segs_1=segs=sortEventSegs(segs,eventOrderSpecs);_i<segs_1.length;_i++){var seg,instanceId,eventHeight;placeSeg(seg=segs_1[_i],eventHeights[seg.eventRange.instance.instanceId+":"+seg.firstCol]||0)}!0===dayMaxEvents||!0===dayMaxEventRows?limitByMaxHeight(moreCnts,segIsHidden,colPlacements,maxContentHeight):"number"==typeof dayMaxEvents?limitByMaxEvents(moreCnts,segIsHidden,colPlacements,dayMaxEvents):"number"==typeof dayMaxEventRows&&limitByMaxRows(moreCnts,segIsHidden,colPlacements,dayMaxEventRows);for(var col=0;col<colCnt;col+=1){for(var placements,currentNonAbsBottom=0,currentAbsHeight=0,_a=0,placements_1=colPlacements[col];_a<placements_1.length;_a++){var placement=placements_1[_a],seg;segIsHidden[(seg=placement.seg).eventRange.instance.instanceId]||(segTops[seg.eventRange.instance.instanceId]=placement.top,seg.firstCol===seg.lastCol&&seg.isStart&&seg.isEnd?(segMarginTops[seg.eventRange.instance.instanceId]=placement.top-currentNonAbsBottom,currentAbsHeight=0,currentNonAbsBottom=placement.bottom):currentAbsHeight=placement.bottom-currentNonAbsBottom)}currentAbsHeight&&(moreCnts[col]?moreTops[col]=currentAbsHeight:paddingBottoms[col]=currentAbsHeight)}function placeSeg(seg,segHeight){if(!tryPlaceSegAt(seg,segHeight,0))for(var col=seg.firstCol;col<=seg.lastCol;col+=1)for(var _i=0,_a=colPlacements[col];_i<_a.length;_i++){var placement;if(tryPlaceSegAt(seg,segHeight,_a[_i].bottom))return}}function tryPlaceSegAt(seg,segHeight,top){if(canPlaceSegAt(seg,segHeight,top)){for(var col=seg.firstCol;col<=seg.lastCol;col+=1){for(var placements=colPlacements[col],insertionIndex=0;insertionIndex<placements.length&&top>=placements[insertionIndex].top;)insertionIndex+=1;placements.splice(insertionIndex,0,{seg:seg,top:top,bottom:top+segHeight})}return!0}return!1}function canPlaceSegAt(seg,segHeight,top){for(var col=seg.firstCol;col<=seg.lastCol;col+=1)for(var _i=0,_a=colPlacements[col];_i<_a.length;_i++){var placement=_a[_i];if(top<placement.bottom&&top+segHeight>placement.top)return!1}return!0}for(var instanceIdAndFirstCol in eventHeights)eventHeights[instanceIdAndFirstCol]||(segIsHidden[instanceIdAndFirstCol.split(":")[0]]=!0);var segsByFirstCol,segsByEachCol;return{segsByFirstCol:colPlacements.map(extractFirstColSegs),segsByEachCol:colPlacements.map((function(placements,col){var segsForCols=extractAllColSegs(placements);return segsForCols=resliceDaySegs(segsForCols,cellModels[col].date,col)})),segIsHidden:segIsHidden,segTops:segTops,segMarginTops:segMarginTops,moreCnts:moreCnts,moreTops:moreTops,paddingBottoms:paddingBottoms}}function extractFirstColSegs(oneColPlacements,col){for(var segs=[],_i=0,oneColPlacements_1=oneColPlacements;_i<oneColPlacements_1.length;_i++){var placement=oneColPlacements_1[_i];placement.seg.firstCol===col&&segs.push(placement.seg)}return segs}function extractAllColSegs(oneColPlacements){for(var segs=[],_i=0,oneColPlacements_2=oneColPlacements;_i<oneColPlacements_2.length;_i++){var placement=oneColPlacements_2[_i];segs.push(placement.seg)}return segs}function limitByMaxHeight(hiddenCnts,segIsHidden,colPlacements,maxContentHeight){limitEvents(hiddenCnts,segIsHidden,colPlacements,!0,(function(placement){return placement.bottom<=maxContentHeight}))}function limitByMaxEvents(hiddenCnts,segIsHidden,colPlacements,dayMaxEvents){limitEvents(hiddenCnts,segIsHidden,colPlacements,!1,(function(placement,levelIndex){return levelIndex<dayMaxEvents}))}function limitByMaxRows(hiddenCnts,segIsHidden,colPlacements,dayMaxEventRows){limitEvents(hiddenCnts,segIsHidden,colPlacements,!0,(function(placement,levelIndex){return levelIndex<dayMaxEventRows}))}function limitEvents(hiddenCnts,segIsHidden,colPlacements,_moreLinkConsumesLevel,isPlacementInBounds){for(var colCnt=hiddenCnts.length,segIsVisible={},visibleColPlacements=[],col=0;col<colCnt;col+=1)visibleColPlacements.push([]);for(var col=0;col<colCnt;col+=1)for(var placements,level=0,_i=0,placements_2=colPlacements[col];_i<placements_2.length;_i++){var placement=placements_2[_i];isPlacementInBounds(placement,level)?recordVisible(placement):recordHidden(placement,level,_moreLinkConsumesLevel),placement.top!==placement.bottom&&(level+=1)}function recordVisible(placement){var seg=placement.seg,instanceId=seg.eventRange.instance.instanceId;if(!segIsVisible[instanceId]){segIsVisible[instanceId]=!0;for(var col=seg.firstCol;col<=seg.lastCol;col+=1){for(var destPlacements=visibleColPlacements[col],newPosition=0;newPosition<destPlacements.length&&placement.top>=destPlacements[newPosition].top;)newPosition+=1;destPlacements.splice(newPosition,0,placement)}}}function recordHidden(placement,currentLevel,moreLinkConsumesLevel){var seg=placement.seg,instanceId=seg.eventRange.instance.instanceId;if(!segIsHidden[instanceId]){segIsHidden[instanceId]=!0;for(var col=seg.firstCol;col<=seg.lastCol;col+=1){hiddenCnts[col]+=1;var hiddenCnt=hiddenCnts[col];if(moreLinkConsumesLevel&&1===hiddenCnt&&currentLevel>0)for(var doomedLevel=currentLevel-1;visibleColPlacements[col].length>doomedLevel;)recordHidden(visibleColPlacements[col].pop(),visibleColPlacements[col].length,!1)}}}}function resliceDaySegs(segs,dayDate,colIndex){for(var dayStart=dayDate,dayEnd,dayRange={start:dayDate,end:addDays(dayDate,1)},newSegs=[],_i=0,segs_2=segs;_i<segs_2.length;_i++){var seg=segs_2[_i],eventRange=seg.eventRange,origRange=eventRange.range,slicedRange=intersectRanges(origRange,dayRange);slicedRange&&newSegs.push(__assign(__assign({},seg),{firstCol:colIndex,lastCol:colIndex,eventRange:{def:eventRange.def,ui:__assign(__assign({},eventRange.ui),{durationEditable:!1}),instance:eventRange.instance,range:slicedRange},isStart:seg.isStart&&slicedRange.start.valueOf()===origRange.start.valueOf(),isEnd:seg.isEnd&&slicedRange.end.valueOf()===origRange.end.valueOf()}))}return newSegs}var TableRow=function(_super){function TableRow(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.cellElRefs=new RefMap,_this.frameElRefs=new RefMap,_this.fgElRefs=new RefMap,_this.segHarnessRefs=new RefMap,_this.rootElRef=createRef(),_this.state={framePositions:null,maxContentHeight:null,segHeights:{}},_this}return __extends(TableRow,_super),TableRow.prototype.render=function(){var _this=this,_a=this,props=_a.props,state=_a.state,context=_a.context,colCnt=props.cells.length,businessHoursByCol=splitSegsByFirstCol(props.businessHourSegs,colCnt),bgEventSegsByCol=splitSegsByFirstCol(props.bgEventSegs,colCnt),highlightSegsByCol=splitSegsByFirstCol(this.getHighlightSegs(),colCnt),mirrorSegsByCol=splitSegsByFirstCol(this.getMirrorSegs(),colCnt),_b=computeFgSegPlacement(props.cells,props.fgEventSegs,props.dayMaxEvents,props.dayMaxEventRows,state.segHeights,state.maxContentHeight,colCnt,context.options.eventOrder),paddingBottoms=_b.paddingBottoms,segsByFirstCol=_b.segsByFirstCol,segsByEachCol=_b.segsByEachCol,segIsHidden=_b.segIsHidden,segTops=_b.segTops,segMarginTops=_b.segMarginTops,moreCnts=_b.moreCnts,moreTops=_b.moreTops,selectedInstanceHash=props.eventDrag&&props.eventDrag.affectedInstances||props.eventResize&&props.eventResize.affectedInstances||{};return createElement("tr",{ref:this.rootElRef},props.renderIntro&&props.renderIntro(),props.cells.map((function(cell,col){var normalFgNodes=_this.renderFgSegs(segsByFirstCol[col],segIsHidden,segTops,segMarginTops,selectedInstanceHash,props.todayRange),mirrorFgNodes=_this.renderFgSegs(mirrorSegsByCol[col],{},segTops,{},{},props.todayRange,Boolean(props.eventDrag),Boolean(props.eventResize),!1);return createElement(TableCell,{key:cell.key,elRef:_this.cellElRefs.createRef(cell.key),innerElRef:_this.frameElRefs.createRef(cell.key),dateProfile:props.dateProfile,date:cell.date,showDayNumber:props.showDayNumbers,showWeekNumber:props.showWeekNumbers&&0===col,forceDayTop:props.showWeekNumbers,todayRange:props.todayRange,extraHookProps:cell.extraHookProps,extraDataAttrs:cell.extraDataAttrs,extraClassNames:cell.extraClassNames,moreCnt:moreCnts[col],buildMoreLinkText:props.buildMoreLinkText,onMoreClick:function(arg){props.onMoreClick(__assign(__assign({},arg),{fromCol:col}))},segIsHidden:segIsHidden,moreMarginTop:moreTops[col],segsByEachCol:segsByEachCol[col],fgPaddingBottom:paddingBottoms[col],fgContentElRef:_this.fgElRefs.createRef(cell.key),fgContent:createElement(Fragment,null,createElement(Fragment,null,normalFgNodes),createElement(Fragment,null,mirrorFgNodes)),bgContent:createElement(Fragment,null,_this.renderFillSegs(highlightSegsByCol[col],"highlight"),_this.renderFillSegs(businessHoursByCol[col],"non-business"),_this.renderFillSegs(bgEventSegsByCol[col],"bg-event"))})})))},TableRow.prototype.componentDidMount=function(){this.updateSizing(!0)},TableRow.prototype.componentDidUpdate=function(prevProps,prevState){var currentProps=this.props;this.updateSizing(!isPropsEqual(prevProps,currentProps))},TableRow.prototype.getHighlightSegs=function(){var props=this.props;return props.eventDrag&&props.eventDrag.segs.length?props.eventDrag.segs:props.eventResize&&props.eventResize.segs.length?props.eventResize.segs:props.dateSelectionSegs},TableRow.prototype.getMirrorSegs=function(){var props=this.props;return props.eventResize&&props.eventResize.segs.length?props.eventResize.segs:[]},TableRow.prototype.renderFgSegs=function(segs,segIsHidden,segTops,segMarginTops,selectedInstanceHash,todayRange,isDragging,isResizing,isDateSelecting){var context=this.context,eventSelection=this.props.eventSelection,framePositions=this.state.framePositions,defaultDisplayEventEnd=1===this.props.cells.length,nodes=[];if(framePositions)for(var _i=0,segs_1=segs;_i<segs_1.length;_i++){var seg=segs_1[_i],instanceId=seg.eventRange.instance.instanceId,isMirror=isDragging||isResizing||isDateSelecting,isSelected=selectedInstanceHash[instanceId],isInvisible=segIsHidden[instanceId]||isSelected,isAbsolute=segIsHidden[instanceId]||isMirror||seg.firstCol!==seg.lastCol||!seg.isStart||!seg.isEnd,marginTop=void 0,top_1=void 0,left=void 0,right=void 0;isAbsolute?(top_1=segTops[instanceId],context.isRtl?(right=0,left=framePositions.lefts[seg.lastCol]-framePositions.lefts[seg.firstCol]):(left=0,right=framePositions.rights[seg.firstCol]-framePositions.rights[seg.lastCol])):marginTop=segMarginTops[instanceId],nodes.push(createElement("div",{className:"fc-daygrid-event-harness"+(isAbsolute?" fc-daygrid-event-harness-abs":""),key:instanceId,ref:isMirror?null:this.segHarnessRefs.createRef(instanceId+":"+seg.firstCol),style:{visibility:isInvisible?"hidden":"",marginTop:marginTop||"",top:top_1||"",left:left||"",right:right||""}},hasListItemDisplay(seg)?createElement(TableListItemEvent,__assign({seg:seg,isDragging:isDragging,isSelected:instanceId===eventSelection,defaultDisplayEventEnd:defaultDisplayEventEnd},getSegMeta(seg,todayRange))):createElement(TableBlockEvent,__assign({seg:seg,isDragging:isDragging,isResizing:isResizing,isDateSelecting:isDateSelecting,isSelected:instanceId===eventSelection,defaultDisplayEventEnd:defaultDisplayEventEnd},getSegMeta(seg,todayRange)))))}return nodes},TableRow.prototype.renderFillSegs=function(segs,fillType){var isRtl=this.context.isRtl,todayRange=this.props.todayRange,framePositions=this.state.framePositions,nodes=[];if(framePositions)for(var _i=0,segs_2=segs;_i<segs_2.length;_i++){var seg=segs_2[_i],leftRightCss=isRtl?{right:0,left:framePositions.lefts[seg.lastCol]-framePositions.lefts[seg.firstCol]}:{left:0,right:framePositions.rights[seg.firstCol]-framePositions.rights[seg.lastCol]};nodes.push(createElement("div",{key:buildEventRangeKey(seg.eventRange),className:"fc-daygrid-bg-harness",style:leftRightCss},"bg-event"===fillType?createElement(BgEvent,__assign({seg:seg},getSegMeta(seg,todayRange))):renderFill(fillType)))}return createElement.apply(void 0,__spreadArrays([Fragment,{}],nodes))},TableRow.prototype.updateSizing=function(isExternalSizingChange){var _a=this,props=_a.props,frameElRefs=_a.frameElRefs;if(null!==props.clientWidth){if(isExternalSizingChange){var frameEls=props.cells.map((function(cell){return frameElRefs.currentMap[cell.key]}));if(frameEls.length){var originEl=this.rootElRef.current;this.setState({framePositions:new PositionCache(originEl,frameEls,!0,!1)})}}var limitByContentHeight=!0===props.dayMaxEvents||!0===props.dayMaxEventRows;this.setState({segHeights:this.computeSegHeights(),maxContentHeight:limitByContentHeight?this.computeMaxContentHeight():null})}},TableRow.prototype.computeSegHeights=function(){return mapHash(this.segHarnessRefs.currentMap,(function(eventHarnessEl){return eventHarnessEl.getBoundingClientRect().height}))},TableRow.prototype.computeMaxContentHeight=function(){var firstKey=this.props.cells[0].key,cellEl=this.cellElRefs.currentMap[firstKey],fcContainerEl=this.fgElRefs.currentMap[firstKey];return cellEl.getBoundingClientRect().bottom-fcContainerEl.getBoundingClientRect().top},TableRow.prototype.getCellEls=function(){var elMap=this.cellElRefs.currentMap;return this.props.cells.map((function(cell){return elMap[cell.key]}))},TableRow}(DateComponent);TableRow.addPropsEquality({onMoreClick:!0}),TableRow.addStateEquality({segHeights:isPropsEqual});var PADDING_FROM_VIEWPORT=10,SCROLL_DEBOUNCE=10,Popover=function(_super){function Popover(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.repositioner=new DelayedRunner(_this.updateSize.bind(_this)),_this.handleRootEl=function(el){_this.rootEl=el,_this.props.elRef&&setRef(_this.props.elRef,el)},_this.handleDocumentMousedown=function(ev){var onClose=_this.props.onClose;onClose&&!_this.rootEl.contains(ev.target)&&onClose()},_this.handleDocumentScroll=function(){_this.repositioner.request(10)},_this.handleCloseClick=function(){var onClose=_this.props.onClose;onClose&&onClose()},_this}return __extends(Popover,_super),Popover.prototype.render=function(){var theme=this.context.theme,props=this.props,classNames=["fc-popover",theme.getClass("popover")].concat(props.extraClassNames||[]);return createElement("div",__assign({className:classNames.join(" ")},props.extraAttrs,{ref:this.handleRootEl}),createElement("div",{className:"fc-popover-header "+theme.getClass("popoverHeader")},createElement("span",{className:"fc-popover-title"},props.title),createElement("span",{className:"fc-popover-close "+theme.getIconClass("close"),onClick:this.handleCloseClick})),createElement("div",{className:"fc-popover-body "+theme.getClass("popoverContent")},props.children))},Popover.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMousedown),document.addEventListener("scroll",this.handleDocumentScroll),this.updateSize()},Popover.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMousedown),document.removeEventListener("scroll",this.handleDocumentScroll)},Popover.prototype.updateSize=function(){var _a=this.props,alignmentEl=_a.alignmentEl,topAlignmentEl=_a.topAlignmentEl,rootEl=this.rootEl;if(rootEl){var dims=rootEl.getBoundingClientRect(),alignment=alignmentEl.getBoundingClientRect(),top=topAlignmentEl?topAlignmentEl.getBoundingClientRect().top:alignment.top,left;top=Math.min(top,window.innerHeight-dims.height-10),top=Math.max(top,10),left=this.context.isRtl?alignment.right-dims.width:alignment.left,left=Math.min(left,window.innerWidth-dims.width-10),applyStyle(rootEl,{top:top,left:left=Math.max(left,10)})}},Popover}(BaseComponent),MorePopover=function(_super){function MorePopover(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.rootElRef=createRef(),_this}return __extends(MorePopover,_super),MorePopover.prototype.render=function(){var _a=this.context,options=_a.options,dateEnv=_a.dateEnv,props=this.props,date=props.date,hiddenInstances=props.hiddenInstances,todayRange=props.todayRange,dateProfile=props.dateProfile,selectedInstanceId=props.selectedInstanceId,title=dateEnv.format(date,options.dayPopoverFormat);return createElement(DayCellRoot,{date:date,dateProfile:dateProfile,todayRange:todayRange,elRef:this.rootElRef},(function(rootElRef,dayClassNames,dataAttrs){return createElement(Popover,{elRef:rootElRef,title:title,extraClassNames:["fc-more-popover"].concat(dayClassNames),extraAttrs:dataAttrs,onClose:props.onCloseClick,alignmentEl:props.alignmentEl,topAlignmentEl:props.topAlignmentEl},createElement(DayCellContent,{date:date,dateProfile:dateProfile,todayRange:todayRange},(function(innerElRef,innerContent){return innerContent&&createElement("div",{className:"fc-more-popover-misc",ref:innerElRef},innerContent)})),props.segs.map((function(seg){var instanceId=seg.eventRange.instance.instanceId;return createElement("div",{className:"fc-daygrid-event-harness",key:instanceId,style:{visibility:hiddenInstances[instanceId]?"hidden":""}},hasListItemDisplay(seg)?createElement(TableListItemEvent,__assign({seg:seg,isDragging:!1,isSelected:instanceId===selectedInstanceId,defaultDisplayEventEnd:!1},getSegMeta(seg,todayRange))):createElement(TableBlockEvent,__assign({seg:seg,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:instanceId===selectedInstanceId,defaultDisplayEventEnd:!1},getSegMeta(seg,todayRange))))})))}))},MorePopover.prototype.positionToHit=function(positionLeft,positionTop,originEl){var rootEl=this.rootElRef.current;if(!originEl||!rootEl)return null;var originRect=originEl.getBoundingClientRect(),elRect=rootEl.getBoundingClientRect(),newOriginLeft=elRect.left-originRect.left,newOriginTop=elRect.top-originRect.top,localLeft=positionLeft-newOriginLeft,localTop=positionTop-newOriginTop,date=this.props.date;return localLeft>=0&&localLeft<elRect.width&&localTop>=0&&localTop<elRect.height?{dateSpan:{allDay:!0,range:{start:date,end:addDays(date,1)}},dayEl:rootEl,relativeRect:{left:newOriginLeft,top:newOriginTop,right:elRect.width,bottom:elRect.height},layer:1}:null},MorePopover}(DateComponent),Table=function(_super){function Table(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.splitBusinessHourSegs=memoize(splitSegsByRow),_this.splitBgEventSegs=memoize(splitSegsByRow),_this.splitFgEventSegs=memoize(splitSegsByRow),_this.splitDateSelectionSegs=memoize(splitSegsByRow),_this.splitEventDrag=memoize(splitInteractionByRow),_this.splitEventResize=memoize(splitInteractionByRow),_this.buildBuildMoreLinkText=memoize(buildBuildMoreLinkText),_this.morePopoverRef=createRef(),_this.rowRefs=new RefMap,_this.state={morePopoverState:null},_this.handleRootEl=function(rootEl){_this.rootEl=rootEl,setRef(_this.props.elRef,rootEl)},_this.handleMoreLinkClick=function(arg){var context=_this.context,dateEnv=context.dateEnv,clickOption=context.options.moreLinkClick;function segForPublic(seg){var _a=seg.eventRange,def=_a.def,instance=_a.instance,range=_a.range;return{event:new EventApi(context,def,instance),start:dateEnv.toDate(range.start),end:dateEnv.toDate(range.end),isStart:seg.isStart,isEnd:seg.isEnd}}"function"==typeof clickOption&&(clickOption=clickOption({date:dateEnv.toDate(arg.date),allDay:!0,allSegs:arg.allSegs.map(segForPublic),hiddenSegs:arg.hiddenSegs.map(segForPublic),jsEvent:arg.ev,view:context.viewApi})),clickOption&&"popover"!==clickOption?"string"==typeof clickOption&&context.calendarApi.zoomTo(arg.date,clickOption):_this.setState({morePopoverState:__assign(__assign({},arg),{currentFgEventSegs:_this.props.fgEventSegs,fromRow:arg.fromRow,fromCol:arg.fromCol})})},_this.handleMorePopoverClose=function(){_this.setState({morePopoverState:null})},_this}return __extends(Table,_super),Table.prototype.render=function(){var _this=this,props=this.props,dateProfile=props.dateProfile,dayMaxEventRows=props.dayMaxEventRows,dayMaxEvents=props.dayMaxEvents,expandRows=props.expandRows,morePopoverState=this.state.morePopoverState,rowCnt=props.cells.length,businessHourSegsByRow=this.splitBusinessHourSegs(props.businessHourSegs,rowCnt),bgEventSegsByRow=this.splitBgEventSegs(props.bgEventSegs,rowCnt),fgEventSegsByRow=this.splitFgEventSegs(props.fgEventSegs,rowCnt),dateSelectionSegsByRow=this.splitDateSelectionSegs(props.dateSelectionSegs,rowCnt),eventDragByRow=this.splitEventDrag(props.eventDrag,rowCnt),eventResizeByRow=this.splitEventResize(props.eventResize,rowCnt),buildMoreLinkText=this.buildBuildMoreLinkText(this.context.options.moreLinkText),limitViaBalanced=!0===dayMaxEvents||!0===dayMaxEventRows,classNames;return limitViaBalanced&&!expandRows&&(limitViaBalanced=!1,dayMaxEventRows=null,dayMaxEvents=null),createElement("div",{className:["fc-daygrid-body",limitViaBalanced?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",expandRows?"":"fc-daygrid-body-natural"].join(" "),ref:this.handleRootEl,style:{width:props.clientWidth,minWidth:props.tableMinWidth}},createElement(NowTimer,{unit:"day"},(function(nowDate,todayRange){return createElement(Fragment,null,createElement("table",{className:"fc-scrollgrid-sync-table",style:{width:props.clientWidth,minWidth:props.tableMinWidth,height:expandRows?props.clientHeight:""}},props.colGroupNode,createElement("tbody",null,props.cells.map((function(cells,row){return createElement(TableRow,{ref:_this.rowRefs.createRef(row),key:cells.length?cells[0].date.toISOString():row,showDayNumbers:rowCnt>1,showWeekNumbers:props.showWeekNumbers,todayRange:todayRange,dateProfile:dateProfile,cells:cells,renderIntro:props.renderRowIntro,businessHourSegs:businessHourSegsByRow[row],eventSelection:props.eventSelection,bgEventSegs:bgEventSegsByRow[row].filter(isSegAllDay),fgEventSegs:fgEventSegsByRow[row],dateSelectionSegs:dateSelectionSegsByRow[row],eventDrag:eventDragByRow[row],eventResize:eventResizeByRow[row],dayMaxEvents:dayMaxEvents,dayMaxEventRows:dayMaxEventRows,clientWidth:props.clientWidth,clientHeight:props.clientHeight,buildMoreLinkText:buildMoreLinkText,onMoreClick:function(arg){_this.handleMoreLinkClick(__assign(__assign({},arg),{fromRow:row}))}})})))),!props.forPrint&&morePopoverState&&morePopoverState.currentFgEventSegs===props.fgEventSegs&&createElement(MorePopover,{ref:_this.morePopoverRef,date:morePopoverState.date,dateProfile:dateProfile,segs:morePopoverState.allSegs,alignmentEl:morePopoverState.dayEl,topAlignmentEl:1===rowCnt?props.headerAlignElRef.current:null,onCloseClick:_this.handleMorePopoverClose,selectedInstanceId:props.eventSelection,hiddenInstances:(props.eventDrag?props.eventDrag.affectedInstances:null)||(props.eventResize?props.eventResize.affectedInstances:null)||{},todayRange:todayRange}))})))},Table.prototype.prepareHits=function(){this.rowPositions=new PositionCache(this.rootEl,this.rowRefs.collect().map((function(rowObj){return rowObj.getCellEls()[0]})),!1,!0),this.colPositions=new PositionCache(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},Table.prototype.positionToHit=function(leftPosition,topPosition){var morePopover=this.morePopoverRef.current,morePopoverHit=morePopover?morePopover.positionToHit(leftPosition,topPosition,this.rootEl):null,morePopoverState=this.state.morePopoverState;if(morePopoverHit)return __assign({row:morePopoverState.fromRow,col:morePopoverState.fromCol},morePopoverHit);var _a=this,colPositions=_a.colPositions,rowPositions=_a.rowPositions,col=colPositions.leftToIndex(leftPosition),row=rowPositions.topToIndex(topPosition);return null!=row&&null!=col?{row:row,col:col,dateSpan:{range:this.getCellRange(row,col),allDay:!0},dayEl:this.getCellEl(row,col),relativeRect:{left:colPositions.lefts[col],right:colPositions.rights[col],top:rowPositions.tops[row],bottom:rowPositions.bottoms[row]}}:null},Table.prototype.getCellEl=function(row,col){return this.rowRefs.currentMap[row].getCellEls()[col]},Table.prototype.getCellRange=function(row,col){var start=this.props.cells[row][col].date,end;return{start:start,end:addDays(start,1)}},Table}(DateComponent);function buildBuildMoreLinkText(moreLinkTextInput){return"function"==typeof moreLinkTextInput?moreLinkTextInput:function(num){return"+"+num+" "+moreLinkTextInput}}function isSegAllDay(seg){return seg.eventRange.def.allDay}var DayTableSlicer=function(_super){function DayTableSlicer(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.forceDayIfListItem=!0,_this}return __extends(DayTableSlicer,_super),DayTableSlicer.prototype.sliceRange=function(dateRange,dayTableModel){return dayTableModel.sliceRange(dateRange)},DayTableSlicer}(Slicer),DayTable=function(_super){function DayTable(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.slicer=new DayTableSlicer,_this.tableRef=createRef(),_this.handleRootEl=function(rootEl){rootEl?_this.context.registerInteractiveComponent(_this,{el:rootEl}):_this.context.unregisterInteractiveComponent(_this)},_this}return __extends(DayTable,_super),DayTable.prototype.render=function(){var _a=this,props=_a.props,context=_a.context;return createElement(Table,__assign({ref:this.tableRef,elRef:this.handleRootEl},this.slicer.sliceProps(props,props.dateProfile,props.nextDayThreshold,context,props.dayTableModel),{dateProfile:props.dateProfile,cells:props.dayTableModel.cells,colGroupNode:props.colGroupNode,tableMinWidth:props.tableMinWidth,renderRowIntro:props.renderRowIntro,dayMaxEvents:props.dayMaxEvents,dayMaxEventRows:props.dayMaxEventRows,showWeekNumbers:props.showWeekNumbers,expandRows:props.expandRows,headerAlignElRef:props.headerAlignElRef,clientWidth:props.clientWidth,clientHeight:props.clientHeight,forPrint:props.forPrint}))},DayTable.prototype.prepareHits=function(){this.tableRef.current.prepareHits()},DayTable.prototype.queryHit=function(positionLeft,positionTop){var rawHit=this.tableRef.current.positionToHit(positionLeft,positionTop);return rawHit?{component:this,dateSpan:rawHit.dateSpan,dayEl:rawHit.dayEl,rect:{left:rawHit.relativeRect.left,right:rawHit.relativeRect.right,top:rawHit.relativeRect.top,bottom:rawHit.relativeRect.bottom},layer:0}:null},DayTable}(DateComponent),DayTableView=function(_super){function DayTableView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.buildDayTableModel=memoize(buildDayTableModel),_this.headerRef=createRef(),_this.tableRef=createRef(),_this}return __extends(DayTableView,_super),DayTableView.prototype.render=function(){var _this=this,_a=this.context,options=_a.options,dateProfileGenerator=_a.dateProfileGenerator,props=this.props,dayTableModel=this.buildDayTableModel(props.dateProfile,dateProfileGenerator),headerContent=options.dayHeaders&&createElement(DayHeader,{ref:this.headerRef,dateProfile:props.dateProfile,dates:dayTableModel.headerDates,datesRepDistinctDays:1===dayTableModel.rowCnt}),bodyContent=function(contentArg){return createElement(DayTable,{ref:_this.tableRef,dateProfile:props.dateProfile,dayTableModel:dayTableModel,businessHours:props.businessHours,dateSelection:props.dateSelection,eventStore:props.eventStore,eventUiBases:props.eventUiBases,eventSelection:props.eventSelection,eventDrag:props.eventDrag,eventResize:props.eventResize,nextDayThreshold:options.nextDayThreshold,colGroupNode:contentArg.tableColGroupNode,tableMinWidth:contentArg.tableMinWidth,dayMaxEvents:options.dayMaxEvents,dayMaxEventRows:options.dayMaxEventRows,showWeekNumbers:options.weekNumbers,expandRows:!props.isHeightAuto,headerAlignElRef:_this.headerElRef,clientWidth:contentArg.clientWidth,clientHeight:contentArg.clientHeight,forPrint:props.forPrint})};return options.dayMinWidth?this.renderHScrollLayout(headerContent,bodyContent,dayTableModel.colCnt,options.dayMinWidth):this.renderSimpleLayout(headerContent,bodyContent)},DayTableView}(TableView);function buildDayTableModel(dateProfile,dateProfileGenerator){var daySeries=new DaySeriesModel(dateProfile.renderRange,dateProfileGenerator);return new DayTableModel(daySeries,/year|month|week/.test(dateProfile.currentRangeUnit))}var TableDateProfileGenerator,OPTION_REFINERS$1,dayGridPlugin=createPlugin({initialView:"dayGridMonth",optionRefiners:{moreLinkClick:identity,moreLinkClassNames:identity,moreLinkContent:identity,moreLinkDidMount:identity,moreLinkWillUnmount:identity},views:{dayGrid:{component:DayTableView,dateProfileGeneratorClass:function(_super){function TableDateProfileGenerator(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(TableDateProfileGenerator,_super),TableDateProfileGenerator.prototype.buildRenderRange=function(currentRange,currentRangeUnit,isRangeAllDay){var dateEnv=this.props.dateEnv,renderRange=_super.prototype.buildRenderRange.call(this,currentRange,currentRangeUnit,isRangeAllDay),start=renderRange.start,end=renderRange.end,endOfWeek,rowCnt;(/^(year|month)$/.test(currentRangeUnit)&&(start=dateEnv.startOfWeek(start),(endOfWeek=dateEnv.startOfWeek(end)).valueOf()!==end.valueOf()&&(end=addWeeks(endOfWeek,1))),this.props.monthMode&&this.props.fixedWeekCount)&&(end=addWeeks(end,6-Math.ceil(diffWeeks(start,end))));return{start:start,end:end}},TableDateProfileGenerator}(DateProfileGenerator)},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}}),AllDaySplitter=function(_super){function AllDaySplitter(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(AllDaySplitter,_super),AllDaySplitter.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},AllDaySplitter.prototype.getKeysForDateSpan=function(dateSpan){return dateSpan.allDay?["allDay"]:["timed"]},AllDaySplitter.prototype.getKeysForEventDef=function(eventDef){return eventDef.allDay?hasBgRendering(eventDef)?["timed","allDay"]:["allDay"]:["timed"]},AllDaySplitter}(Splitter),DEFAULT_SLAT_LABEL_FORMAT=createFormatter({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function TimeColsAxisCell(props){var classNames=["fc-timegrid-slot","fc-timegrid-slot-label",props.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return createElement(ViewContextType.Consumer,null,(function(context){if(!props.isLabeled)return createElement("td",{className:classNames.join(" "),"data-time":props.isoTimeStr});var dateEnv=context.dateEnv,options=context.options,viewApi=context.viewApi,labelFormat=null==options.slotLabelFormat?DEFAULT_SLAT_LABEL_FORMAT:Array.isArray(options.slotLabelFormat)?createFormatter(options.slotLabelFormat[0]):createFormatter(options.slotLabelFormat),hookProps={level:0,time:props.time,date:dateEnv.toDate(props.date),view:viewApi,text:dateEnv.format(props.date,labelFormat)};return createElement(RenderHook,{hookProps:hookProps,classNames:options.slotLabelClassNames,content:options.slotLabelContent,defaultContent:renderInnerContent$3,didMount:options.slotLabelDidMount,willUnmount:options.slotLabelWillUnmount},(function(rootElRef,customClassNames,innerElRef,innerContent){return createElement("td",{ref:rootElRef,className:classNames.concat(customClassNames).join(" "),"data-time":props.isoTimeStr},createElement("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},createElement("div",{className:"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion",ref:innerElRef},innerContent)))}))}))}function renderInnerContent$3(props){return props.text}var TimeBodyAxis=function(_super){function TimeBodyAxis(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(TimeBodyAxis,_super),TimeBodyAxis.prototype.render=function(){return this.props.slatMetas.map((function(slatMeta){return createElement("tr",{key:slatMeta.key},createElement(TimeColsAxisCell,__assign({},slatMeta)))}))},TimeBodyAxis}(BaseComponent),DEFAULT_WEEK_NUM_FORMAT$1=createFormatter({week:"short"}),AUTO_ALL_DAY_MAX_EVENT_ROWS=5,TimeColsView=function(_super){function TimeColsView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.allDaySplitter=new AllDaySplitter,_this.headerElRef=createRef(),_this.rootElRef=createRef(),_this.scrollerElRef=createRef(),_this.state={slatCoords:null},_this.handleScrollTopRequest=function(scrollTop){var scrollerEl=_this.scrollerElRef.current;scrollerEl&&(scrollerEl.scrollTop=scrollTop)},_this.renderHeadAxis=function(rowKey,frameHeight){void 0===frameHeight&&(frameHeight="");var options=_this.context.options,dateProfile,range=_this.props.dateProfile.renderRange,dayCnt=diffDays(range.start,range.end),navLinkAttrs=options.navLinks&&1===dayCnt?{"data-navlink":buildNavLinkData(range.start,"week"),tabIndex:0}:{};return options.weekNumbers&&"day"===rowKey?createElement(WeekNumberRoot,{date:range.start,defaultFormat:DEFAULT_WEEK_NUM_FORMAT$1},(function(rootElRef,classNames,innerElRef,innerContent){return createElement("th",{ref:rootElRef,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(classNames).join(" ")},createElement("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid",style:{height:frameHeight}},createElement("a",__assign({ref:innerElRef,className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner"},navLinkAttrs),innerContent)))})):createElement("th",{className:"fc-timegrid-axis"},createElement("div",{className:"fc-timegrid-axis-frame",style:{height:frameHeight}}))},_this.renderTableRowAxis=function(rowHeight){var _a=_this.context,options=_a.options,viewApi=_a.viewApi,hookProps={text:options.allDayText,view:viewApi};return createElement(RenderHook,{hookProps:hookProps,classNames:options.allDayClassNames,content:options.allDayContent,defaultContent:renderAllDayInner,didMount:options.allDayDidMount,willUnmount:options.allDayWillUnmount},(function(rootElRef,classNames,innerElRef,innerContent){return createElement("td",{ref:rootElRef,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(classNames).join(" ")},createElement("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame"+(null==rowHeight?" fc-timegrid-axis-frame-liquid":""),style:{height:rowHeight}},createElement("span",{className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner",ref:innerElRef},innerContent)))}))},_this.handleSlatCoords=function(slatCoords){_this.setState({slatCoords:slatCoords})},_this}return __extends(TimeColsView,_super),TimeColsView.prototype.renderSimpleLayout=function(headerRowContent,allDayContent,timeContent){var _a=this,context=_a.context,props=_a.props,sections=[],stickyHeaderDates=getStickyHeaderDates(context.options);return headerRowContent&&sections.push({type:"header",key:"header",isSticky:stickyHeaderDates,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:headerRowContent}}),allDayContent&&(sections.push({type:"body",key:"all-day",chunk:{content:allDayContent}}),sections.push({type:"body",key:"all-day-divider",outerContent:createElement("tr",{className:"fc-scrollgrid-section"},createElement("td",{className:"fc-timegrid-divider "+context.theme.getClass("tableCellShaded")}))})),sections.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(context.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:timeContent}}),createElement(ViewRoot,{viewSpec:context.viewSpec,elRef:this.rootElRef},(function(rootElRef,classNames){return createElement("div",{className:["fc-timegrid"].concat(classNames).join(" "),ref:rootElRef},createElement(SimpleScrollGrid,{liquid:!props.isHeightAuto&&!props.forPrint,cols:[{width:"shrink"}],sections:sections}))}))},TimeColsView.prototype.renderHScrollLayout=function(headerRowContent,allDayContent,timeContent,colCnt,dayMinWidth,slatMetas,slatCoords){var _this=this,ScrollGrid=this.context.pluginHooks.scrollGridImpl;if(!ScrollGrid)throw new Error("No ScrollGrid implementation");var _a=this,context=_a.context,props=_a.props,stickyHeaderDates=!props.forPrint&&getStickyHeaderDates(context.options),stickyFooterScrollbar=!props.forPrint&&getStickyFooterScrollbar(context.options),sections=[];headerRowContent&&sections.push({type:"header",key:"header",isSticky:stickyHeaderDates,syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(arg){return createElement("tr",null,_this.renderHeadAxis("day",arg.rowSyncHeights[0]))}},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:headerRowContent}]}),allDayContent&&(sections.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(contentArg){return createElement("tr",null,_this.renderTableRowAxis(contentArg.rowSyncHeights[0]))}},{key:"cols",content:allDayContent}]}),sections.push({key:"all-day-divider",type:"body",outerContent:createElement("tr",{className:"fc-scrollgrid-section"},createElement("td",{colSpan:2,className:"fc-timegrid-divider "+context.theme.getClass("tableCellShaded")}))}));var isNowIndicator=context.options.nowIndicator;return sections.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(context.options.expandRows),chunks:[{key:"axis",content:function(arg){return createElement("div",{className:"fc-timegrid-axis-chunk"},createElement("table",{style:{height:arg.expandRows?arg.clientHeight:""}},arg.tableColGroupNode,createElement("tbody",null,createElement(TimeBodyAxis,{slatMetas:slatMetas}))),createElement("div",{className:"fc-timegrid-now-indicator-container"},createElement(NowTimer,{unit:isNowIndicator?"minute":"day"},(function(nowDate){var nowIndicatorTop=isNowIndicator&&slatCoords&&slatCoords.safeComputeTop(nowDate);return"number"==typeof nowIndicatorTop?createElement(NowIndicatorRoot,{isAxis:!0,date:nowDate},(function(rootElRef,classNames,innerElRef,innerContent){return createElement("div",{ref:rootElRef,className:["fc-timegrid-now-indicator-arrow"].concat(classNames).join(" "),style:{top:nowIndicatorTop}},innerContent)})):null}))))}},{key:"cols",scrollerElRef:this.scrollerElRef,content:timeContent}]}),stickyFooterScrollbar&&sections.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:renderScrollShim},{key:"cols",content:renderScrollShim}]}),createElement(ViewRoot,{viewSpec:context.viewSpec,elRef:this.rootElRef},(function(rootElRef,classNames){return createElement("div",{className:["fc-timegrid"].concat(classNames).join(" "),ref:rootElRef},createElement(ScrollGrid,{liquid:!props.isHeightAuto&&!props.forPrint,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:colCnt,minWidth:dayMinWidth}]}],sections:sections}))}))},TimeColsView.prototype.getAllDayMaxEventProps=function(){var _a=this.context.options,dayMaxEvents=_a.dayMaxEvents,dayMaxEventRows=_a.dayMaxEventRows;return!0!==dayMaxEvents&&!0!==dayMaxEventRows||(dayMaxEvents=void 0,dayMaxEventRows=5),{dayMaxEvents:dayMaxEvents,dayMaxEventRows:dayMaxEventRows}},TimeColsView}(DateComponent);function renderAllDayInner(hookProps){return hookProps.text}var TimeColsSlatsCoords=function(){function TimeColsSlatsCoords(positions,dateProfile,slotDuration){this.positions=positions,this.dateProfile=dateProfile,this.slotDuration=slotDuration}return TimeColsSlatsCoords.prototype.safeComputeTop=function(date){var dateProfile=this.dateProfile;if(rangeContainsMarker(dateProfile.currentRange,date)){var startOfDayDate=startOfDay(date),timeMs=date.valueOf()-startOfDayDate.valueOf();if(timeMs>=asRoughMs(dateProfile.slotMinTime)&&timeMs<asRoughMs(dateProfile.slotMaxTime))return this.computeTimeTop(createDuration(timeMs))}return null},TimeColsSlatsCoords.prototype.computeDateTop=function(when,startOfDayDate){return startOfDayDate||(startOfDayDate=startOfDay(when)),this.computeTimeTop(createDuration(when.valueOf()-startOfDayDate.valueOf()))},TimeColsSlatsCoords.prototype.computeTimeTop=function(duration){var _a=this,positions=_a.positions,dateProfile=_a.dateProfile,len=positions.els.length,slatCoverage=(duration.milliseconds-asRoughMs(dateProfile.slotMinTime))/asRoughMs(this.slotDuration),slatIndex,slatRemainder;return slatCoverage=Math.max(0,slatCoverage),slatCoverage=Math.min(len,slatCoverage),slatIndex=Math.floor(slatCoverage),slatRemainder=slatCoverage-(slatIndex=Math.min(slatIndex,len-1)),positions.tops[slatIndex]+positions.getHeight(slatIndex)*slatRemainder},TimeColsSlatsCoords}(),TimeColsSlatsBody=function(_super){function TimeColsSlatsBody(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(TimeColsSlatsBody,_super),TimeColsSlatsBody.prototype.render=function(){var _a=this,props=_a.props,context=_a.context,options=context.options,slatElRefs=props.slatElRefs;return createElement("tbody",null,props.slatMetas.map((function(slatMeta,i){var hookProps={time:slatMeta.time,date:context.dateEnv.toDate(slatMeta.date),view:context.viewApi},classNames=["fc-timegrid-slot","fc-timegrid-slot-lane",slatMeta.isLabeled?"":"fc-timegrid-slot-minor"];return createElement("tr",{key:slatMeta.key,ref:slatElRefs.createRef(slatMeta.key)},props.axis&&createElement(TimeColsAxisCell,__assign({},slatMeta)),createElement(RenderHook,{hookProps:hookProps,classNames:options.slotLaneClassNames,content:options.slotLaneContent,didMount:options.slotLaneDidMount,willUnmount:options.slotLaneWillUnmount},(function(rootElRef,customClassNames,innerElRef,innerContent){return createElement("td",{ref:rootElRef,className:classNames.concat(customClassNames).join(" "),"data-time":slatMeta.isoTimeStr},innerContent)})))})))},TimeColsSlatsBody}(BaseComponent),TimeColsSlats=function(_super){function TimeColsSlats(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.rootElRef=createRef(),_this.slatElRefs=new RefMap,_this}return __extends(TimeColsSlats,_super),TimeColsSlats.prototype.render=function(){var _a=this,props=_a.props,context=_a.context;return createElement("div",{className:"fc-timegrid-slots",ref:this.rootElRef},createElement("table",{className:context.theme.getClass("table"),style:{minWidth:props.tableMinWidth,width:props.clientWidth,height:props.minHeight}},props.tableColGroupNode,createElement(TimeColsSlatsBody,{slatElRefs:this.slatElRefs,axis:props.axis,slatMetas:props.slatMetas})))},TimeColsSlats.prototype.componentDidMount=function(){this.updateSizing()},TimeColsSlats.prototype.componentDidUpdate=function(){this.updateSizing()},TimeColsSlats.prototype.componentWillUnmount=function(){this.props.onCoords&&this.props.onCoords(null)},TimeColsSlats.prototype.updateSizing=function(){var _a=this,context=_a.context,props=_a.props,rootEl;props.onCoords&&null!==props.clientWidth&&(this.rootElRef.current.offsetHeight&&props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current,collectSlatEls(this.slatElRefs.currentMap,props.slatMetas),!1,!0),this.props.dateProfile,context.options.slotDuration)))},TimeColsSlats}(BaseComponent);function collectSlatEls(elMap,slatMetas){return slatMetas.map((function(slatMeta){return elMap[slatMeta.key]}))}function splitSegsByCol(segs,colCnt){var segsByCol=[],i;for(i=0;i<colCnt;i+=1)segsByCol.push([]);if(segs)for(i=0;i<segs.length;i+=1)segsByCol[segs[i].col].push(segs[i]);return segsByCol}function splitInteractionByCol(ui,colCnt){var byRow=[];if(ui){for(var i=0;i<colCnt;i+=1)byRow[i]={affectedInstances:ui.affectedInstances,isEvent:ui.isEvent,segs:[]};for(var _i=0,_a=ui.segs;_i<_a.length;_i++){var seg=_a[_i];byRow[seg.col].segs.push(seg)}}else for(var i=0;i<colCnt;i+=1)byRow[i]=null;return byRow}function computeSegCoords(segs,dayDate,slatCoords,eventMinHeight,eventOrderSpecs){return computeSegVerticals(segs,dayDate,slatCoords,eventMinHeight),computeSegHorizontals(segs,eventOrderSpecs)}function computeSegVerticals(segs,dayDate,slatCoords,eventMinHeight){for(var _i=0,segs_1=segs;_i<segs_1.length;_i++){var seg=segs_1[_i];seg.top=slatCoords.computeDateTop(seg.start,dayDate),seg.bottom=Math.max(seg.top+(eventMinHeight||0),slatCoords.computeDateTop(seg.end,dayDate))}}function computeSegHorizontals(segs,eventOrderSpecs){for(var _i=0,segs_2=segs;_i<segs_2.length;_i++){var seg;(seg=segs_2[_i]).level=null,seg.forwardCoord=null,seg.backwardCoord=null,seg.forwardPressure=null}var level0,levels=buildSlotSegLevels(segs=sortEventSegs(segs,eventOrderSpecs));if(computeForwardSlotSegs(levels),level0=levels[0]){for(var _a=0,level0_1=level0;_a<level0_1.length;_a++){var seg;computeSlotSegPressures(seg=level0_1[_a])}for(var _b=0,level0_2=level0;_b<level0_2.length;_b++){var seg;computeSegForwardBack(seg=level0_2[_b],0,0,eventOrderSpecs)}}return segs}function buildSlotSegLevels(segs){var levels=[],i,seg,j;for(i=0;i<segs.length;i+=1){for(seg=segs[i],j=0;j<levels.length&&computeSlotSegCollisions(seg,levels[j]).length;j+=1);seg.level=j,(levels[j]||(levels[j]=[])).push(seg)}return levels}function computeSlotSegCollisions(seg,otherSegs,results){void 0===results&&(results=[]);for(var i=0;i<otherSegs.length;i+=1)isSlotSegCollision(seg,otherSegs[i])&&results.push(otherSegs[i]);return results}function isSlotSegCollision(seg1,seg2){return seg1.bottom>seg2.top&&seg1.top<seg2.bottom}function computeForwardSlotSegs(levels){var i,level,j,seg,k;for(i=0;i<levels.length;i+=1)for(level=levels[i],j=0;j<level.length;j+=1)for((seg=level[j]).forwardSegs=[],k=i+1;k<levels.length;k+=1)computeSlotSegCollisions(seg,levels[k],seg.forwardSegs)}function computeSlotSegPressures(seg){var forwardSegs=seg.forwardSegs,forwardPressure=0,i,forwardSeg;if(null==seg.forwardPressure){for(i=0;i<forwardSegs.length;i+=1)computeSlotSegPressures(forwardSeg=forwardSegs[i]),forwardPressure=Math.max(forwardPressure,1+forwardSeg.forwardPressure);seg.forwardPressure=forwardPressure}}function computeSegForwardBack(seg,seriesBackwardPressure,seriesBackwardCoord,eventOrderSpecs){var forwardSegs=seg.forwardSegs,i;if(null==seg.forwardCoord)for(forwardSegs.length?(sortForwardSegs(forwardSegs,eventOrderSpecs),computeSegForwardBack(forwardSegs[0],seriesBackwardPressure+1,seriesBackwardCoord,eventOrderSpecs),seg.forwardCoord=forwardSegs[0].backwardCoord):seg.forwardCoord=1,seg.backwardCoord=seg.forwardCoord-(seg.forwardCoord-seriesBackwardCoord)/(seriesBackwardPressure+1),i=0;i<forwardSegs.length;i+=1)computeSegForwardBack(forwardSegs[i],0,seg.forwardCoord,eventOrderSpecs)}function sortForwardSegs(forwardSegs,eventOrderSpecs){var objs=forwardSegs.map(buildTimeGridSegCompareObj),specs=[{field:"forwardPressure",order:-1},{field:"backwardCoord",order:1}].concat(eventOrderSpecs);return objs.sort((function(obj0,obj1){return compareByFieldSpecs(obj0,obj1,specs)})),objs.map((function(c){return c._seg}))}function buildTimeGridSegCompareObj(seg){var obj=buildSegCompareObj(seg);return obj.forwardPressure=seg.forwardPressure,obj.backwardCoord=seg.backwardCoord,obj}var DEFAULT_TIME_FORMAT=createFormatter({hour:"numeric",minute:"2-digit",meridiem:!1}),TimeColEvent=function(_super){function TimeColEvent(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(TimeColEvent,_super),TimeColEvent.prototype.render=function(){var classNames=["fc-timegrid-event","fc-v-event"];return this.props.isCondensed&&classNames.push("fc-timegrid-event-condensed"),createElement(StandardEvent,__assign({},this.props,{defaultTimeFormat:DEFAULT_TIME_FORMAT,extraClassNames:classNames}))},TimeColEvent}(BaseComponent),TimeColMisc=function(_super){function TimeColMisc(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(TimeColMisc,_super),TimeColMisc.prototype.render=function(){var props=this.props;return createElement(DayCellContent,{date:props.date,dateProfile:props.dateProfile,todayRange:props.todayRange,extraHookProps:props.extraHookProps},(function(innerElRef,innerContent){return innerContent&&createElement("div",{className:"fc-timegrid-col-misc",ref:innerElRef},innerContent)}))},TimeColMisc}(BaseComponent);config.timeGridEventCondensedHeight=30;var TimeCol=function(_super){function TimeCol(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(TimeCol,_super),TimeCol.prototype.render=function(){var _this=this,_a=this,props=_a.props,context,isSelectMirror=_a.context.options.selectMirror,mirrorSegs=props.eventDrag&&props.eventDrag.segs||props.eventResize&&props.eventResize.segs||isSelectMirror&&props.dateSelectionSegs||[],interactionAffectedInstances=props.eventDrag&&props.eventDrag.affectedInstances||props.eventResize&&props.eventResize.affectedInstances||{};return createElement(DayCellRoot,{elRef:props.elRef,date:props.date,dateProfile:props.dateProfile,todayRange:props.todayRange,extraHookProps:props.extraHookProps},(function(rootElRef,classNames,dataAttrs){return createElement("td",__assign({ref:rootElRef,className:["fc-timegrid-col"].concat(classNames,props.extraClassNames||[]).join(" ")},dataAttrs,props.extraDataAttrs),createElement("div",{className:"fc-timegrid-col-frame"},createElement("div",{className:"fc-timegrid-col-bg"},_this.renderFillSegs(props.businessHourSegs,"non-business"),_this.renderFillSegs(props.bgEventSegs,"bg-event"),_this.renderFillSegs(props.dateSelectionSegs,"highlight")),createElement("div",{className:"fc-timegrid-col-events"},_this.renderFgSegs(props.fgEventSegs,interactionAffectedInstances)),createElement("div",{className:"fc-timegrid-col-events"},_this.renderFgSegs(mirrorSegs,{},Boolean(props.eventDrag),Boolean(props.eventResize),Boolean(isSelectMirror))),createElement("div",{className:"fc-timegrid-now-indicator-container"},_this.renderNowIndicator(props.nowIndicatorSegs)),createElement(TimeColMisc,{date:props.date,dateProfile:props.dateProfile,todayRange:props.todayRange,extraHookProps:props.extraHookProps})))}))},TimeCol.prototype.renderFgSegs=function(segs,segIsInvisible,isDragging,isResizing,isDateSelecting){var props=this.props;return props.forPrint?this.renderPrintFgSegs(segs):props.slatCoords?this.renderPositionedFgSegs(segs,segIsInvisible,isDragging,isResizing,isDateSelecting):null},TimeCol.prototype.renderPrintFgSegs=function(segs){var _a=this,props=_a.props,context;return(segs=sortEventSegs(segs,_a.context.options.eventOrder)).map((function(seg){return createElement("div",{className:"fc-timegrid-event-harness",key:seg.eventRange.instance.instanceId},createElement(TimeColEvent,__assign({seg:seg,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isCondensed:!1},getSegMeta(seg,props.todayRange,props.nowDate))))}))},TimeCol.prototype.renderPositionedFgSegs=function(segs,segIsInvisible,isDragging,isResizing,isDateSelecting){var _this=this,_a=this,context=_a.context,props=_a.props;return(segs=computeSegCoords(segs,props.date,props.slatCoords,context.options.eventMinHeight,context.options.eventOrder)).map((function(seg){var instanceId=seg.eventRange.instance.instanceId,isMirror,positionCss=isDragging||isResizing||isDateSelecting?__assign({left:0,right:0},_this.computeSegTopBottomCss(seg)):_this.computeFgSegPositionCss(seg);return createElement("div",{className:"fc-timegrid-event-harness"+(seg.level>0?" fc-timegrid-event-harness-inset":""),key:instanceId,style:__assign({visibility:segIsInvisible[instanceId]?"hidden":""},positionCss)},createElement(TimeColEvent,__assign({seg:seg,isDragging:isDragging,isResizing:isResizing,isDateSelecting:isDateSelecting,isSelected:instanceId===props.eventSelection,isCondensed:seg.bottom-seg.top<config.timeGridEventCondensedHeight},getSegMeta(seg,props.todayRange,props.nowDate))))}))},TimeCol.prototype.renderFillSegs=function(segs,fillType){var _this=this,_a=this,context=_a.context,props=_a.props;if(!props.slatCoords)return null;computeSegVerticals(segs,props.date,props.slatCoords,context.options.eventMinHeight);var children=segs.map((function(seg){return createElement("div",{key:buildEventRangeKey(seg.eventRange),className:"fc-timegrid-bg-harness",style:_this.computeSegTopBottomCss(seg)},"bg-event"===fillType?createElement(BgEvent,__assign({seg:seg},getSegMeta(seg,props.todayRange,props.nowDate))):renderFill(fillType))}));return createElement(Fragment,null,children)},TimeCol.prototype.renderNowIndicator=function(segs){var _a=this.props,slatCoords=_a.slatCoords,date=_a.date;return slatCoords?segs.map((function(seg,i){return createElement(NowIndicatorRoot,{isAxis:!1,date:date,key:i},(function(rootElRef,classNames,innerElRef,innerContent){return createElement("div",{ref:rootElRef,className:["fc-timegrid-now-indicator-line"].concat(classNames).join(" "),style:{top:slatCoords.computeDateTop(seg.start,date)}},innerContent)}))})):null},TimeCol.prototype.computeFgSegPositionCss=function(seg){var _a=this.context,isRtl=_a.isRtl,options,shouldOverlap=_a.options.slotEventOverlap,backwardCoord=seg.backwardCoord,forwardCoord=seg.forwardCoord,left,right;shouldOverlap&&(forwardCoord=Math.min(1,backwardCoord+2*(forwardCoord-backwardCoord))),isRtl?(left=1-forwardCoord,right=backwardCoord):(left=backwardCoord,right=1-forwardCoord);var props={zIndex:seg.level+1,left:100*left+"%",right:100*right+"%"};return shouldOverlap&&seg.forwardPressure&&(props[isRtl?"marginLeft":"marginRight"]=20),__assign(__assign({},props),this.computeSegTopBottomCss(seg))},TimeCol.prototype.computeSegTopBottomCss=function(seg){return{top:seg.top,bottom:-seg.bottom}},TimeCol}(BaseComponent),TimeColsContent=function(_super){function TimeColsContent(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.splitFgEventSegs=memoize(splitSegsByCol),_this.splitBgEventSegs=memoize(splitSegsByCol),_this.splitBusinessHourSegs=memoize(splitSegsByCol),_this.splitNowIndicatorSegs=memoize(splitSegsByCol),_this.splitDateSelectionSegs=memoize(splitSegsByCol),_this.splitEventDrag=memoize(splitInteractionByCol),_this.splitEventResize=memoize(splitInteractionByCol),_this.rootElRef=createRef(),_this.cellElRefs=new RefMap,_this}return __extends(TimeColsContent,_super),TimeColsContent.prototype.render=function(){var _this=this,_a=this,props=_a.props,context,nowIndicatorTop=_a.context.options.nowIndicator&&props.slatCoords&&props.slatCoords.safeComputeTop(props.nowDate),colCnt=props.cells.length,fgEventSegsByRow=this.splitFgEventSegs(props.fgEventSegs,colCnt),bgEventSegsByRow=this.splitBgEventSegs(props.bgEventSegs,colCnt),businessHourSegsByRow=this.splitBusinessHourSegs(props.businessHourSegs,colCnt),nowIndicatorSegsByRow=this.splitNowIndicatorSegs(props.nowIndicatorSegs,colCnt),dateSelectionSegsByRow=this.splitDateSelectionSegs(props.dateSelectionSegs,colCnt),eventDragByRow=this.splitEventDrag(props.eventDrag,colCnt),eventResizeByRow=this.splitEventResize(props.eventResize,colCnt);return createElement("div",{className:"fc-timegrid-cols",ref:this.rootElRef},createElement("table",{style:{minWidth:props.tableMinWidth,width:props.clientWidth}},props.tableColGroupNode,createElement("tbody",null,createElement("tr",null,props.axis&&createElement("td",{className:"fc-timegrid-col fc-timegrid-axis"},createElement("div",{className:"fc-timegrid-col-frame"},createElement("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof nowIndicatorTop&&createElement(NowIndicatorRoot,{isAxis:!0,date:props.nowDate},(function(rootElRef,classNames,innerElRef,innerContent){return createElement("div",{ref:rootElRef,className:["fc-timegrid-now-indicator-arrow"].concat(classNames).join(" "),style:{top:nowIndicatorTop}},innerContent)}))))),props.cells.map((function(cell,i){return createElement(TimeCol,{key:cell.key,elRef:_this.cellElRefs.createRef(cell.key),dateProfile:props.dateProfile,date:cell.date,nowDate:props.nowDate,todayRange:props.todayRange,extraHookProps:cell.extraHookProps,extraDataAttrs:cell.extraDataAttrs,extraClassNames:cell.extraClassNames,fgEventSegs:fgEventSegsByRow[i],bgEventSegs:bgEventSegsByRow[i],businessHourSegs:businessHourSegsByRow[i],nowIndicatorSegs:nowIndicatorSegsByRow[i],dateSelectionSegs:dateSelectionSegsByRow[i],eventDrag:eventDragByRow[i],eventResize:eventResizeByRow[i],slatCoords:props.slatCoords,eventSelection:props.eventSelection,forPrint:props.forPrint})}))))))},TimeColsContent.prototype.componentDidMount=function(){this.updateCoords()},TimeColsContent.prototype.componentDidUpdate=function(){this.updateCoords()},TimeColsContent.prototype.updateCoords=function(){var props=this.props;props.onColCoords&&null!==props.clientWidth&&props.onColCoords(new PositionCache(this.rootElRef.current,collectCellEls(this.cellElRefs.currentMap,props.cells),!0,!1))},TimeColsContent}(BaseComponent);function collectCellEls(elMap,cells){return cells.map((function(cell){return elMap[cell.key]}))}var TimeCols=function(_super){function TimeCols(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.processSlotOptions=memoize(processSlotOptions),_this.state={slatCoords:null},_this.handleScrollRequest=function(request){var onScrollTopRequest=_this.props.onScrollTopRequest,slatCoords=_this.state.slatCoords;if(onScrollTopRequest&&slatCoords){if(request.time){var top_1=slatCoords.computeTimeTop(request.time);(top_1=Math.ceil(top_1))&&(top_1+=1),onScrollTopRequest(top_1)}return!0}return!1},_this.handleColCoords=function(colCoords){_this.colCoords=colCoords},_this.handleSlatCoords=function(slatCoords){_this.setState({slatCoords:slatCoords}),_this.props.onSlatCoords&&_this.props.onSlatCoords(slatCoords)},_this}return __extends(TimeCols,_super),TimeCols.prototype.render=function(){var _a=this,props=_a.props,state=_a.state;return createElement("div",{className:"fc-timegrid-body",ref:props.rootElRef,style:{width:props.clientWidth,minWidth:props.tableMinWidth}},createElement(TimeColsSlats,{axis:props.axis,dateProfile:props.dateProfile,slatMetas:props.slatMetas,clientWidth:props.clientWidth,minHeight:props.expandRows?props.clientHeight:"",tableMinWidth:props.tableMinWidth,tableColGroupNode:props.axis?props.tableColGroupNode:null,onCoords:this.handleSlatCoords}),createElement(TimeColsContent,{cells:props.cells,axis:props.axis,dateProfile:props.dateProfile,businessHourSegs:props.businessHourSegs,bgEventSegs:props.bgEventSegs,fgEventSegs:props.fgEventSegs,dateSelectionSegs:props.dateSelectionSegs,eventSelection:props.eventSelection,eventDrag:props.eventDrag,eventResize:props.eventResize,todayRange:props.todayRange,nowDate:props.nowDate,nowIndicatorSegs:props.nowIndicatorSegs,clientWidth:props.clientWidth,tableMinWidth:props.tableMinWidth,tableColGroupNode:props.tableColGroupNode,slatCoords:state.slatCoords,onColCoords:this.handleColCoords,forPrint:props.forPrint}))},TimeCols.prototype.componentDidMount=function(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},TimeCols.prototype.componentDidUpdate=function(prevProps){this.scrollResponder.update(prevProps.dateProfile!==this.props.dateProfile)},TimeCols.prototype.componentWillUnmount=function(){this.scrollResponder.detach()},TimeCols.prototype.positionToHit=function(positionLeft,positionTop){var _a=this.context,dateEnv=_a.dateEnv,options=_a.options,colCoords=this.colCoords,dateProfile=this.props.dateProfile,slatCoords=this.state.slatCoords,_b=this.processSlotOptions(this.props.slotDuration,options.snapDuration),snapDuration=_b.snapDuration,snapsPerSlot=_b.snapsPerSlot,colIndex=colCoords.leftToIndex(positionLeft),slatIndex=slatCoords.positions.topToIndex(positionTop);if(null!=colIndex&&null!=slatIndex){var slatTop=slatCoords.positions.tops[slatIndex],slatHeight=slatCoords.positions.getHeight(slatIndex),partial=(positionTop-slatTop)/slatHeight,localSnapIndex,snapIndex=slatIndex*snapsPerSlot+Math.floor(partial*snapsPerSlot),dayDate=this.props.cells[colIndex].date,time=addDurations(dateProfile.slotMinTime,multiplyDuration(snapDuration,snapIndex)),start=dateEnv.add(dayDate,time),end;return{col:colIndex,dateSpan:{range:{start:start,end:dateEnv.add(start,snapDuration)},allDay:!1},dayEl:colCoords.els[colIndex],relativeRect:{left:colCoords.lefts[colIndex],right:colCoords.rights[colIndex],top:slatTop,bottom:slatTop+slatHeight}}}return null},TimeCols}(BaseComponent);function processSlotOptions(slotDuration,snapDurationOverride){var snapDuration=snapDurationOverride||slotDuration,snapsPerSlot=wholeDivideDurations(slotDuration,snapDuration);return null===snapsPerSlot&&(snapDuration=slotDuration,snapsPerSlot=1),{snapDuration:snapDuration,snapsPerSlot:snapsPerSlot}}var DayTimeColsSlicer=function(_super){function DayTimeColsSlicer(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(DayTimeColsSlicer,_super),DayTimeColsSlicer.prototype.sliceRange=function(range,dayRanges){for(var segs=[],col=0;col<dayRanges.length;col+=1){var segRange=intersectRanges(range,dayRanges[col]);segRange&&segs.push({start:segRange.start,end:segRange.end,isStart:segRange.start.valueOf()===range.start.valueOf(),isEnd:segRange.end.valueOf()===range.end.valueOf(),col:col})}return segs},DayTimeColsSlicer}(Slicer),DayTimeCols=function(_super){function DayTimeCols(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.buildDayRanges=memoize(buildDayRanges),_this.slicer=new DayTimeColsSlicer,_this.timeColsRef=createRef(),_this.handleRootEl=function(rootEl){rootEl?_this.context.registerInteractiveComponent(_this,{el:rootEl}):_this.context.unregisterInteractiveComponent(_this)},_this}return __extends(DayTimeCols,_super),DayTimeCols.prototype.render=function(){var _this=this,_a=this,props=_a.props,context=_a.context,dateProfile=props.dateProfile,dayTableModel=props.dayTableModel,isNowIndicator=context.options.nowIndicator,dayRanges=this.buildDayRanges(dayTableModel,dateProfile,context.dateEnv);return createElement(NowTimer,{unit:isNowIndicator?"minute":"day"},(function(nowDate,todayRange){return createElement(TimeCols,__assign({ref:_this.timeColsRef,rootElRef:_this.handleRootEl},_this.slicer.sliceProps(props,dateProfile,null,context,dayRanges),{forPrint:props.forPrint,axis:props.axis,dateProfile:dateProfile,slatMetas:props.slatMetas,slotDuration:props.slotDuration,cells:dayTableModel.cells[0],tableColGroupNode:props.tableColGroupNode,tableMinWidth:props.tableMinWidth,clientWidth:props.clientWidth,clientHeight:props.clientHeight,expandRows:props.expandRows,nowDate:nowDate,nowIndicatorSegs:isNowIndicator&&_this.slicer.sliceNowDate(nowDate,context,dayRanges),todayRange:todayRange,onScrollTopRequest:props.onScrollTopRequest,onSlatCoords:props.onSlatCoords}))}))},DayTimeCols.prototype.queryHit=function(positionLeft,positionTop){var rawHit=this.timeColsRef.current.positionToHit(positionLeft,positionTop);return rawHit?{component:this,dateSpan:rawHit.dateSpan,dayEl:rawHit.dayEl,rect:{left:rawHit.relativeRect.left,right:rawHit.relativeRect.right,top:rawHit.relativeRect.top,bottom:rawHit.relativeRect.bottom},layer:0}:null},DayTimeCols}(DateComponent);function buildDayRanges(dayTableModel,dateProfile,dateEnv){for(var ranges=[],_i=0,_a=dayTableModel.headerDates;_i<_a.length;_i++){var date=_a[_i];ranges.push({start:dateEnv.add(date,dateProfile.slotMinTime),end:dateEnv.add(date,dateProfile.slotMaxTime)})}return ranges}var STOCK_SUB_DURATIONS=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function buildSlatMetas(slotMinTime,slotMaxTime,explicitLabelInterval,slotDuration,dateEnv){for(var dayStart=new Date(0),slatTime=slotMinTime,slatIterator=createDuration(0),labelInterval=explicitLabelInterval||computeLabelInterval(slotDuration),metas=[];asRoughMs(slatTime)<asRoughMs(slotMaxTime);){var date=dateEnv.add(dayStart,slatTime),isLabeled=null!==wholeDivideDurations(slatIterator,labelInterval);metas.push({date:date,time:slatTime,key:date.toISOString(),isoTimeStr:formatIsoTimeString(date),isLabeled:isLabeled}),slatTime=addDurations(slatTime,slotDuration),slatIterator=addDurations(slatIterator,slotDuration)}return metas}function computeLabelInterval(slotDuration){var i,labelInterval,slotsPerLabel;for(i=STOCK_SUB_DURATIONS.length-1;i>=0;i-=1)if(null!==(slotsPerLabel=wholeDivideDurations(labelInterval=createDuration(STOCK_SUB_DURATIONS[i]),slotDuration))&&slotsPerLabel>1)return labelInterval;return slotDuration}var DayTimeColsView=function(_super){function DayTimeColsView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.buildTimeColsModel=memoize(buildTimeColsModel),_this.buildSlatMetas=memoize(buildSlatMetas),_this}return __extends(DayTimeColsView,_super),DayTimeColsView.prototype.render=function(){var _this=this,_a=this.context,options=_a.options,dateEnv=_a.dateEnv,dateProfileGenerator=_a.dateProfileGenerator,props=this.props,dateProfile=props.dateProfile,dayTableModel=this.buildTimeColsModel(dateProfile,dateProfileGenerator),splitProps=this.allDaySplitter.splitProps(props),slatMetas=this.buildSlatMetas(dateProfile.slotMinTime,dateProfile.slotMaxTime,options.slotLabelInterval,options.slotDuration,dateEnv),dayMinWidth=options.dayMinWidth,hasAttachedAxis=!dayMinWidth,hasDetachedAxis=dayMinWidth,headerContent=options.dayHeaders&&createElement(DayHeader,{dates:dayTableModel.headerDates,dateProfile:dateProfile,datesRepDistinctDays:!0,renderIntro:hasAttachedAxis?this.renderHeadAxis:null}),allDayContent=!1!==options.allDaySlot&&function(contentArg){return createElement(DayTable,__assign({},splitProps.allDay,{dateProfile:dateProfile,dayTableModel:dayTableModel,nextDayThreshold:options.nextDayThreshold,tableMinWidth:contentArg.tableMinWidth,colGroupNode:contentArg.tableColGroupNode,renderRowIntro:hasAttachedAxis?_this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:_this.headerElRef,clientWidth:contentArg.clientWidth,clientHeight:contentArg.clientHeight,forPrint:props.forPrint},_this.getAllDayMaxEventProps()))},timeGridContent=function(contentArg){return createElement(DayTimeCols,__assign({},splitProps.timed,{dayTableModel:dayTableModel,dateProfile:dateProfile,axis:hasAttachedAxis,slotDuration:options.slotDuration,slatMetas:slatMetas,forPrint:props.forPrint,tableColGroupNode:contentArg.tableColGroupNode,tableMinWidth:contentArg.tableMinWidth,clientWidth:contentArg.clientWidth,clientHeight:contentArg.clientHeight,onSlatCoords:_this.handleSlatCoords,expandRows:contentArg.expandRows,onScrollTopRequest:_this.handleScrollTopRequest}))};return hasDetachedAxis?this.renderHScrollLayout(headerContent,allDayContent,timeGridContent,dayTableModel.colCnt,dayMinWidth,slatMetas,this.state.slatCoords):this.renderSimpleLayout(headerContent,allDayContent,timeGridContent)},DayTimeColsView}(TimeColsView);function buildTimeColsModel(dateProfile,dateProfileGenerator){var daySeries=new DaySeriesModel(dateProfile.renderRange,dateProfileGenerator);return new DayTableModel(daySeries,!1)}var OPTION_REFINERS$2,timeGridPlugin=createPlugin({initialView:"timeGridWeek",optionRefiners:{allDaySlot:Boolean},views:{timeGrid:{component:DayTimeColsView,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}}),ListViewHeaderRow=function(_super){function ListViewHeaderRow(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ListViewHeaderRow,_super),ListViewHeaderRow.prototype.render=function(){var _a=this.props,dayDate=_a.dayDate,todayRange=_a.todayRange,_b=this.context,theme=_b.theme,dateEnv=_b.dateEnv,options=_b.options,viewApi=_b.viewApi,dayMeta=getDateMeta(dayDate,todayRange),text=options.listDayFormat?dateEnv.format(dayDate,options.listDayFormat):"",sideText=options.listDaySideFormat?dateEnv.format(dayDate,options.listDaySideFormat):"",navLinkData=options.navLinks?buildNavLinkData(dayDate):null,hookProps=__assign({date:dateEnv.toDate(dayDate),view:viewApi,text:text,sideText:sideText,navLinkData:navLinkData},dayMeta),classNames=["fc-list-day"].concat(getDayClassNames(dayMeta,theme));return createElement(RenderHook,{hookProps:hookProps,classNames:options.dayHeaderClassNames,content:options.dayHeaderContent,defaultContent:renderInnerContent$4,didMount:options.dayHeaderDidMount,willUnmount:options.dayHeaderWillUnmount},(function(rootElRef,customClassNames,innerElRef,innerContent){return createElement("tr",{ref:rootElRef,className:classNames.concat(customClassNames).join(" "),"data-date":formatDayString(dayDate)},createElement("th",{colSpan:3},createElement("div",{className:"fc-list-day-cushion "+theme.getClass("tableCellShaded"),ref:innerElRef},innerContent)))}))},ListViewHeaderRow}(BaseComponent);function renderInnerContent$4(props){var navLinkAttrs=props.navLinkData?{"data-navlink":props.navLinkData,tabIndex:0}:{};return createElement(Fragment,null,props.text&&createElement("a",__assign({className:"fc-list-day-text"},navLinkAttrs),props.text),props.sideText&&createElement("a",__assign({className:"fc-list-day-side-text"},navLinkAttrs),props.sideText))}var DEFAULT_TIME_FORMAT$1=createFormatter({hour:"numeric",minute:"2-digit",meridiem:"short"}),ListViewEventRow=function(_super){function ListViewEventRow(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ListViewEventRow,_super),ListViewEventRow.prototype.render=function(){var _a=this,props=_a.props,context=_a.context,seg=props.seg,timeFormat=context.options.eventTimeFormat||DEFAULT_TIME_FORMAT$1;return createElement(EventRoot,{seg:seg,timeText:"",disableDragging:!0,disableResizing:!0,defaultContent:renderEventInnerContent,isPast:props.isPast,isFuture:props.isFuture,isToday:props.isToday,isSelected:props.isSelected,isDragging:props.isDragging,isResizing:props.isResizing,isDateSelecting:props.isDateSelecting},(function(rootElRef,classNames,innerElRef,innerContent,hookProps){return createElement("tr",{className:["fc-list-event",hookProps.event.url?"fc-event-forced-url":""].concat(classNames).join(" "),ref:rootElRef},buildTimeContent(seg,timeFormat,context),createElement("td",{className:"fc-list-event-graphic"},createElement("span",{className:"fc-list-event-dot",style:{borderColor:hookProps.borderColor||hookProps.backgroundColor}})),createElement("td",{className:"fc-list-event-title",ref:innerElRef},innerContent))}))},ListViewEventRow}(BaseComponent);function renderEventInnerContent(props){var event=props.event,url=event.url,anchorAttrs;return createElement("a",__assign({},url?{href:url}:{}),event.title)}function buildTimeContent(seg,timeFormat,context){var options=context.options;if(!1!==options.displayEventTime){var eventDef=seg.eventRange.def,eventInstance=seg.eventRange.instance,doAllDay=!1,timeText=void 0;if(eventDef.allDay?doAllDay=!0:isMultiDayRange(seg.eventRange.range)?seg.isStart?timeText=buildSegTimeText(seg,timeFormat,context,null,null,eventInstance.range.start,seg.end):seg.isEnd?timeText=buildSegTimeText(seg,timeFormat,context,null,null,seg.start,eventInstance.range.end):doAllDay=!0:timeText=buildSegTimeText(seg,timeFormat,context),doAllDay){var hookProps={text:context.options.allDayText,view:context.viewApi};return createElement(RenderHook,{hookProps:hookProps,classNames:options.allDayClassNames,content:options.allDayContent,defaultContent:renderAllDayInner$1,didMount:options.allDayDidMount,willUnmount:options.allDayWillUnmount},(function(rootElRef,classNames,innerElRef,innerContent){return createElement("td",{className:["fc-list-event-time"].concat(classNames).join(" "),ref:rootElRef},innerContent)}))}return createElement("td",{className:"fc-list-event-time"},timeText)}return null}function renderAllDayInner$1(hookProps){return hookProps.text}var ListView=function(_super){function ListView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.computeDateVars=memoize(computeDateVars),_this.eventStoreToSegs=memoize(_this._eventStoreToSegs),_this.setRootEl=function(rootEl){rootEl?_this.context.registerInteractiveComponent(_this,{el:rootEl}):_this.context.unregisterInteractiveComponent(_this)},_this}return __extends(ListView,_super),ListView.prototype.render=function(){var _this=this,_a=this,props=_a.props,context=_a.context,extraClassNames=["fc-list",context.theme.getClass("table"),!1!==context.options.stickyHeaderDates?"fc-list-sticky":""],_b=this.computeDateVars(props.dateProfile),dayDates=_b.dayDates,dayRanges=_b.dayRanges,eventSegs=this.eventStoreToSegs(props.eventStore,props.eventUiBases,dayRanges);return createElement(ViewRoot,{viewSpec:context.viewSpec,elRef:this.setRootEl},(function(rootElRef,classNames){return createElement("div",{ref:rootElRef,className:extraClassNames.concat(classNames).join(" ")},createElement(Scroller,{liquid:!props.isHeightAuto,overflowX:props.isHeightAuto?"visible":"hidden",overflowY:props.isHeightAuto?"visible":"auto"},eventSegs.length>0?_this.renderSegList(eventSegs,dayDates):_this.renderEmptyMessage()))}))},ListView.prototype.renderEmptyMessage=function(){var _a=this.context,options=_a.options,viewApi=_a.viewApi,hookProps={text:options.noEventsText,view:viewApi};return createElement(RenderHook,{hookProps:hookProps,classNames:options.noEventsClassNames,content:options.noEventsContent,defaultContent:renderNoEventsInner,didMount:options.noEventsDidMount,willUnmount:options.noEventsWillUnmount},(function(rootElRef,classNames,innerElRef,innerContent){return createElement("div",{className:["fc-list-empty"].concat(classNames).join(" "),ref:rootElRef},createElement("div",{className:"fc-list-empty-cushion",ref:innerElRef},innerContent))}))},ListView.prototype.renderSegList=function(allSegs,dayDates){var _a=this.context,theme=_a.theme,options=_a.options,segsByDay=groupSegsByDay(allSegs);return createElement(NowTimer,{unit:"day"},(function(nowDate,todayRange){for(var innerNodes=[],dayIndex=0;dayIndex<segsByDay.length;dayIndex+=1){var daySegs=segsByDay[dayIndex];if(daySegs){var dayStr=dayDates[dayIndex].toISOString();innerNodes.push(createElement(ListViewHeaderRow,{key:dayStr,dayDate:dayDates[dayIndex],todayRange:todayRange}));for(var _i=0,daySegs_1=daySegs=sortEventSegs(daySegs,options.eventOrder);_i<daySegs_1.length;_i++){var seg=daySegs_1[_i];innerNodes.push(createElement(ListViewEventRow,__assign({key:dayStr+":"+seg.eventRange.instance.instanceId,seg:seg,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1},getSegMeta(seg,todayRange,nowDate))))}}}return createElement("table",{className:"fc-list-table "+theme.getClass("table")},createElement("tbody",null,innerNodes))}))},ListView.prototype._eventStoreToSegs=function(eventStore,eventUiBases,dayRanges){return this.eventRangesToSegs(sliceEventStore(eventStore,eventUiBases,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,dayRanges)},ListView.prototype.eventRangesToSegs=function(eventRanges,dayRanges){for(var segs=[],_i=0,eventRanges_1=eventRanges;_i<eventRanges_1.length;_i++){var eventRange=eventRanges_1[_i];segs.push.apply(segs,this.eventRangeToSegs(eventRange,dayRanges))}return segs},ListView.prototype.eventRangeToSegs=function(eventRange,dayRanges){var dateEnv=this.context.dateEnv,nextDayThreshold=this.context.options.nextDayThreshold,range=eventRange.range,allDay=eventRange.def.allDay,dayIndex,segRange,seg,segs=[];for(dayIndex=0;dayIndex<dayRanges.length;dayIndex+=1)if((segRange=intersectRanges(range,dayRanges[dayIndex]))&&(seg={component:this,eventRange:eventRange,start:segRange.start,end:segRange.end,isStart:eventRange.isStart&&segRange.start.valueOf()===range.start.valueOf(),isEnd:eventRange.isEnd&&segRange.end.valueOf()===range.end.valueOf(),dayIndex:dayIndex},segs.push(seg),!seg.isEnd&&!allDay&&dayIndex+1<dayRanges.length&&range.end<dateEnv.add(dayRanges[dayIndex+1].start,nextDayThreshold))){seg.end=range.end,seg.isEnd=!0;break}return segs},ListView}(DateComponent),OPTION_REFINERS$3;function renderNoEventsInner(hookProps){return hookProps.text}function computeDateVars(dateProfile){for(var dayStart=startOfDay(dateProfile.renderRange.start),viewEnd=dateProfile.renderRange.end,dayDates=[],dayRanges=[];dayStart<viewEnd;)dayDates.push(dayStart),dayRanges.push({start:dayStart,end:addDays(dayStart,1)}),dayStart=addDays(dayStart,1);return{dayDates:dayDates,dayRanges:dayRanges}}function groupSegsByDay(segs){var segsByDay=[],i,seg;for(i=0;i<segs.length;i+=1)(segsByDay[(seg=segs[i]).dayIndex]||(segsByDay[seg.dayIndex]=[])).push(seg);return segsByDay}function createFalsableFormatter(input){return!1===input?null:createFormatter(input)}var listPlugin=createPlugin({optionRefiners:{listDayFormat:createFalsableFormatter,listDaySideFormat:createFalsableFormatter,noEventsClassNames:identity,noEventsContent:identity,noEventsDidMount:identity,noEventsWillUnmount:identity},views:{list:{component:ListView,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}}),BootstrapTheme=function(_super){function BootstrapTheme(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(BootstrapTheme,_super),BootstrapTheme}(Theme);BootstrapTheme.prototype.classes={root:"fc-theme-bootstrap",table:"table-bordered",tableCellShaded:"table-active",buttonGroup:"btn-group",button:"btn btn-primary",buttonActive:"active",popover:"popover",popoverHeader:"popover-header",popoverContent:"popover-body"},BootstrapTheme.prototype.baseIconClass="fa",BootstrapTheme.prototype.iconClasses={close:"fa-times",prev:"fa-chevron-left",next:"fa-chevron-right",prevYear:"fa-angle-double-left",nextYear:"fa-angle-double-right"},BootstrapTheme.prototype.rtlIconClasses={prev:"fa-chevron-right",next:"fa-chevron-left",prevYear:"fa-angle-double-right",nextYear:"fa-angle-double-left"},BootstrapTheme.prototype.iconOverrideOption="bootstrapFontAwesome",BootstrapTheme.prototype.iconOverrideCustomButtonOption="bootstrapFontAwesome",BootstrapTheme.prototype.iconOverridePrefix="fa-";var plugin=createPlugin({themeClasses:{bootstrap:BootstrapTheme}}),OPTION_REFINERS$4,EVENT_SOURCE_REFINERS$1,API_BASE="https://www.googleapis.com/calendar/v3/calendars",eventSourceDef$3;function parseGoogleCalendarId(url){var match;return/^[^/]+@([^/.]+\.)*(google|googlemail|gmail)\.com$/.test(url)?url:(match=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^/]*)/.exec(url))||(match=/^https?:\/\/www.google.com\/calendar\/feeds\/([^/]*)/.exec(url))?decodeURIComponent(match[1]):null}function buildUrl(meta){var apiBase=meta.googleCalendarApiBase;return apiBase||(apiBase=API_BASE),apiBase+"/"+encodeURIComponent(meta.googleCalendarId)+"/events"}function buildRequestParams$1(range,apiKey,extraParams,dateEnv){var params,startStr,endStr;return dateEnv.canComputeOffset?(startStr=dateEnv.formatIso(range.start),endStr=dateEnv.formatIso(range.end)):(startStr=addDays(range.start,-1).toISOString(),endStr=addDays(range.end,1).toISOString()),params=__assign(__assign({},extraParams||{}),{key:apiKey,timeMin:startStr,timeMax:endStr,singleEvents:!0,maxResults:9999}),"local"!==dateEnv.timeZone&&(params.timeZone=dateEnv.timeZone),params}function gcalItemsToRawEventDefs(items,gcalTimezone){return items.map((function(item){return gcalItemToRawEventDef(item,gcalTimezone)}))}function gcalItemToRawEventDef(item,gcalTimezone){var url=item.htmlLink||null;return url&&gcalTimezone&&(url=injectQsComponent(url,"ctz="+gcalTimezone)),{id:item.id,title:item.summary,start:item.start.dateTime||item.start.date,end:item.end.dateTime||item.end.date,url:url,location:item.location,description:item.description}}function injectQsComponent(url,component){return url.replace(/(\?.*?)?(#|$)/,(function(whole,qs,hash){return(qs?qs+"&":"?")+component+hash}))}var googleCalendarPlugin=createPlugin({eventSourceDefs:[{parseMeta:function(refined){var googleCalendarId=refined.googleCalendarId;return!googleCalendarId&&refined.url&&(googleCalendarId=parseGoogleCalendarId(refined.url)),googleCalendarId?{googleCalendarId:googleCalendarId,googleCalendarApiKey:refined.googleCalendarApiKey,googleCalendarApiBase:refined.googleCalendarApiBase,extraParams:refined.extraParams}:null},fetch:function(arg,onSuccess,onFailure){var _a=arg.context,dateEnv=_a.dateEnv,options=_a.options,meta=arg.eventSource.meta,apiKey=meta.googleCalendarApiKey||options.googleCalendarApiKey;if(apiKey){var url=buildUrl(meta),extraParams=meta.extraParams,extraParamsObj="function"==typeof extraParams?extraParams():extraParams,requestParams_1=buildRequestParams$1(arg.range,apiKey,extraParamsObj,dateEnv);requestJson("GET",url,requestParams_1,(function(body,xhr){body.error?onFailure({message:"Google Calendar API: "+body.error.message,errors:body.error.errors,xhr:xhr}):onSuccess({rawEvents:gcalItemsToRawEventDefs(body.items,requestParams_1.timeZone),xhr:xhr})}),(function(message,xhr){onFailure({message:message,xhr:xhr})}))}else onFailure({message:"Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/"})}}],optionRefiners:{googleCalendarApiKey:String},eventSourceRefiners:{googleCalendarApiKey:String,googleCalendarId:String,googleCalendarApiBase:String,extraParams:identity}});return globalPlugins.push(interactionPlugin,dayGridPlugin,timeGridPlugin,listPlugin,plugin,googleCalendarPlugin),exports.BASE_OPTION_DEFAULTS=BASE_OPTION_DEFAULTS,exports.BASE_OPTION_REFINERS=BASE_OPTION_REFINERS,exports.BaseComponent=BaseComponent,exports.BgEvent=BgEvent,exports.BootstrapTheme=BootstrapTheme,exports.Calendar=Calendar,exports.CalendarApi=CalendarApi,exports.CalendarContent=CalendarContent,exports.CalendarDataManager=CalendarDataManager,exports.CalendarDataProvider=CalendarDataProvider,exports.CalendarRoot=CalendarRoot,exports.Component=Component,exports.ContentHook=ContentHook,exports.CustomContentRenderContext=CustomContentRenderContext,exports.DateComponent=DateComponent,exports.DateEnv=DateEnv,exports.DateProfileGenerator=DateProfileGenerator,exports.DayCellContent=DayCellContent,exports.DayCellRoot=DayCellRoot,exports.DayGridView=DayTableView,exports.DayHeader=DayHeader,exports.DaySeriesModel=DaySeriesModel,exports.DayTable=DayTable,exports.DayTableModel=DayTableModel,exports.DayTableSlicer=DayTableSlicer,exports.DayTimeCols=DayTimeCols,exports.DayTimeColsSlicer=DayTimeColsSlicer,exports.DayTimeColsView=DayTimeColsView,exports.DelayedRunner=DelayedRunner,exports.Draggable=ExternalDraggable,exports.ElementDragging=ElementDragging,exports.ElementScrollController=ElementScrollController,exports.Emitter=Emitter,exports.EventApi=EventApi,exports.EventRoot=EventRoot,exports.EventSourceApi=EventSourceApi,exports.FeaturefulElementDragging=FeaturefulElementDragging,exports.Fragment=Fragment,exports.Interaction=Interaction,exports.ListView=ListView,exports.MountHook=MountHook,exports.NamedTimeZoneImpl=NamedTimeZoneImpl,exports.NowIndicatorRoot=NowIndicatorRoot,exports.NowTimer=NowTimer,exports.PointerDragging=PointerDragging,exports.PositionCache=PositionCache,exports.RefMap=RefMap,exports.RenderHook=RenderHook,exports.ScrollController=ScrollController,exports.ScrollResponder=ScrollResponder,exports.Scroller=Scroller,exports.SimpleScrollGrid=SimpleScrollGrid,exports.Slicer=Slicer,exports.Splitter=Splitter,exports.StandardEvent=StandardEvent,exports.Table=Table,exports.TableDateCell=TableDateCell,exports.TableDowCell=TableDowCell,exports.TableView=TableView,exports.Theme=Theme,exports.ThirdPartyDraggable=ThirdPartyDraggable,exports.TimeCols=TimeCols,exports.TimeColsSlatsCoords=TimeColsSlatsCoords,exports.TimeColsView=TimeColsView,exports.ViewApi=ViewApi,exports.ViewContextType=ViewContextType,exports.ViewRoot=ViewRoot,exports.WeekNumberRoot=WeekNumberRoot,exports.WindowScrollController=WindowScrollController,exports.addDays=addDays,exports.addDurations=addDurations,exports.addMs=addMs,exports.addWeeks=addWeeks,exports.allowContextMenu=allowContextMenu,exports.allowSelection=allowSelection,exports.applyMutationToEventStore=applyMutationToEventStore,exports.applyStyle=applyStyle,exports.applyStyleProp=applyStyleProp,exports.asCleanDays=asCleanDays,exports.asRoughMinutes=asRoughMinutes,exports.asRoughMs=asRoughMs,exports.asRoughSeconds=asRoughSeconds,exports.buildClassNameNormalizer=buildClassNameNormalizer,exports.buildDayRanges=buildDayRanges,exports.buildDayTableModel=buildDayTableModel,exports.buildEventApis=buildEventApis,exports.buildEventRangeKey=buildEventRangeKey,exports.buildHashFromArray=buildHashFromArray,exports.buildNavLinkData=buildNavLinkData,exports.buildSegCompareObj=buildSegCompareObj,exports.buildSegTimeText=buildSegTimeText,exports.buildSlatMetas=buildSlatMetas,exports.buildTimeColsModel=buildTimeColsModel,exports.collectFromHash=collectFromHash,exports.combineEventUis=combineEventUis,exports.compareByFieldSpec=compareByFieldSpec,exports.compareByFieldSpecs=compareByFieldSpecs,exports.compareNumbers=compareNumbers,exports.compareObjs=compareObjs,exports.computeEdges=computeEdges,exports.computeFallbackHeaderFormat=computeFallbackHeaderFormat,exports.computeHeightAndMargins=computeHeightAndMargins,exports.computeInnerRect=computeInnerRect,exports.computeRect=computeRect,exports.computeSegDraggable=computeSegDraggable,exports.computeSegEndResizable=computeSegEndResizable,exports.computeSegStartResizable=computeSegStartResizable,exports.computeShrinkWidth=computeShrinkWidth,exports.computeSmallestCellWidth=computeSmallestCellWidth,exports.computeVisibleDayRange=computeVisibleDayRange,exports.config=config,exports.constrainPoint=constrainPoint,exports.createContext=createContext$1,exports.createDuration=createDuration,exports.createElement=createElement,exports.createEmptyEventStore=createEmptyEventStore,exports.createEventInstance=createEventInstance,exports.createEventUi=createEventUi,exports.createFormatter=createFormatter,exports.createPlugin=createPlugin,exports.createRef=createRef,exports.diffDates=diffDates,exports.diffDayAndTime=diffDayAndTime,exports.diffDays=diffDays,exports.diffPoints=diffPoints,exports.diffWeeks=diffWeeks,exports.diffWholeDays=diffWholeDays,exports.diffWholeWeeks=diffWholeWeeks,exports.disableCursor=disableCursor,exports.elementClosest=elementClosest,exports.elementMatches=elementMatches,exports.enableCursor=enableCursor,exports.eventTupleToStore=eventTupleToStore,exports.filterEventStoreDefs=filterEventStoreDefs,exports.filterHash=filterHash,exports.findDirectChildren=findDirectChildren,exports.findElements=findElements,exports.flexibleCompare=flexibleCompare,exports.flushToDom=flushToDom$1,exports.formatDate=formatDate,exports.formatDayString=formatDayString,exports.formatIsoTimeString=formatIsoTimeString,exports.formatRange=formatRange,exports.getAllowYScrolling=getAllowYScrolling,exports.getCanVGrowWithinCell=getCanVGrowWithinCell,exports.getClippingParents=getClippingParents,exports.getDateMeta=getDateMeta,exports.getDayClassNames=getDayClassNames,exports.getDefaultEventEnd=getDefaultEventEnd,exports.getElSeg=getElSeg,exports.getEventClassNames=getEventClassNames,exports.getIsRtlScrollbarOnLeft=getIsRtlScrollbarOnLeft,exports.getRectCenter=getRectCenter,exports.getRelevantEvents=getRelevantEvents,exports.getScrollGridClassNames=getScrollGridClassNames,exports.getScrollbarWidths=getScrollbarWidths,exports.getSectionClassNames=getSectionClassNames,exports.getSectionHasLiquidHeight=getSectionHasLiquidHeight,exports.getSegMeta=getSegMeta,exports.getSlotClassNames=getSlotClassNames,exports.getStickyFooterScrollbar=getStickyFooterScrollbar,exports.getStickyHeaderDates=getStickyHeaderDates,exports.getUnequalProps=getUnequalProps,exports.globalLocales=globalLocales,exports.globalPlugins=globalPlugins,exports.greatestDurationDenominator=greatestDurationDenominator,exports.guid=guid,exports.hasBgRendering=hasBgRendering,exports.hasShrinkWidth=hasShrinkWidth,exports.identity=identity,exports.interactionSettingsStore=interactionSettingsStore,exports.interactionSettingsToStore=interactionSettingsToStore,exports.intersectRanges=intersectRanges,exports.intersectRects=intersectRects,exports.isArraysEqual=isArraysEqual,exports.isColPropsEqual=isColPropsEqual,exports.isDateSpansEqual=isDateSpansEqual,exports.isInt=isInt,exports.isInteractionValid=isInteractionValid,exports.isMultiDayRange=isMultiDayRange,exports.isPropsEqual=isPropsEqual,exports.isPropsValid=isPropsValid,exports.isValidDate=isValidDate,exports.listenBySelector=listenBySelector,exports.mapHash=mapHash,exports.memoize=memoize,exports.memoizeArraylike=memoizeArraylike,exports.memoizeHashlike=memoizeHashlike,exports.memoizeObjArg=memoizeObjArg,exports.mergeEventStores=mergeEventStores,exports.multiplyDuration=multiplyDuration,exports.padStart=padStart,exports.parseBusinessHours=parseBusinessHours,exports.parseClassNames=parseClassNames,exports.parseDragMeta=parseDragMeta,exports.parseEventDef=parseEventDef,exports.parseFieldSpecs=parseFieldSpecs,exports.parseMarker=parse,exports.pointInsideRect=pointInsideRect,exports.preventContextMenu=preventContextMenu,exports.preventDefault=preventDefault,exports.preventSelection=preventSelection,exports.rangeContainsMarker=rangeContainsMarker,exports.rangeContainsRange=rangeContainsRange,exports.rangesEqual=rangesEqual,exports.rangesIntersect=rangesIntersect,exports.refineEventDef=refineEventDef,exports.refineProps=refineProps,exports.removeElement=removeElement,exports.removeExact=removeExact,exports.render=render,exports.renderChunkContent=renderChunkContent,exports.renderFill=renderFill,exports.renderMicroColGroup=renderMicroColGroup,exports.renderScrollShim=renderScrollShim,exports.requestJson=requestJson,exports.sanitizeShrinkWidth=sanitizeShrinkWidth,exports.setElSeg=setElSeg,exports.setRef=setRef,exports.sliceEventStore=sliceEventStore,exports.sliceEvents=sliceEvents,exports.sortEventSegs=sortEventSegs,exports.startOfDay=startOfDay,exports.translateRect=translateRect,exports.triggerDateSelect=triggerDateSelect,exports.unmountComponentAtNode=unmountComponentAtNode$1,exports.unpromisify=unpromisify,exports.version="5.5.1",exports.whenTransitionDone=whenTransitionDone,exports.wholeDivideDurations=wholeDivideDurations,Object.defineProperty(exports,"__esModule",{value:!0}),exports}({});